!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1),o=n(2),r=new o;r.register("extension",["data-aggregator",function(t){var e=this,n=e.extAPI;console.log(t),n(new i)}])},function(t,e){(function(e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){n(this,t),this.appliedAggregation={timePeriod:null,timePeriodMultiplier:0,aggregationMethod:null}}return i(t,[{key:"setAggregation",value:function(t){return this.aggregation=t,!0}},{key:"reset",value:function(){}},{key:"init",value:function(t){t("X-Axis","Y-Axis",function(t,n){e.x=t,e.y=n})}},{key:"placeInCanvas",value:function(){var t=this.setAggregation({timePeriod:"month",timePeriodMultiplier:3,aggregationMethod:"sum"});console.log(this.aggregation,t)}},{key:"draw",value:function(){}},{key:"dispose",value:function(){}},{key:"aggregation",get:function(){return this.appliedAggregation},set:function(t){this.appliedAggregation.timePeriod=t.timePeriod,this.appliedAggregation.timePeriodMultiplier=t.timePeriodMultiplier,this.appliedAggregation.aggregationMethod=t.aggregationMethod}}]),t}();t.exports=o}).call(e,function(){return this}())},function(t,e){"use strict";var n=function(){};n.prototype.register=function(t,e){var n=e[0],i=e[1];console.log("Currently active extension: "+n),i.bind(this,565)()},n.prototype.getComponent=function(t,e){var n={x:24,y:56,width:100,height:20,index:4};return"api"===t&&"toolbox"===e?n:null},n.prototype.extAPI=function(t){t.init(function(){for(var t=[],e=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)"X-Axis"===arguments[n]?t.push(156772):"Y-Axis"===arguments[n]&&t.push(156765);e.apply(this,t)}),t.placeInCanvas(),t.draw(),t.dispose()},t.exports=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0YWFnZ3JlZ2F0b3ItZXM1Lm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYjQxYmJlMTA0Zjc1MzQ5ZTRlMzMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1hZ2dyZWdhdG9yLmpzIiwid2VicGFjazovLy8uL2xpYi9mdXNpb25jaGFydHMuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiQWdncmVnYXRvciIsIkZ1c2lvbkNoYXJ0cyIsImZjIiwicmVnaXN0ZXIiLCJnbG9iYWwiLCJ0aGlzIiwiZXh0QVBJIiwiY29uc29sZSIsImxvZyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiYXBwbGllZEFnZ3JlZ2F0aW9uIiwidGltZVBlcmlvZCIsInRpbWVQZXJpb2RNdWx0aXBsaWVyIiwiYWdncmVnYXRpb25NZXRob2QiLCJ2YWx1ZSIsIm9iaiIsImFnZ3JlZ2F0aW9uIiwicmVxdWlyZSIsIngiLCJ5IiwiaXNTZXQiLCJzZXRBZ2dyZWdhdGlvbiIsImdldCIsInNldCIsImV4dCIsImFyciIsImV4dE5hbWUiLCJmbiIsImJpbmQiLCJnZXRDb21wb25lbnQiLCJjb21wb25lbnRUeXBlIiwiY29tcG9uZW50TmFtZSIsInRvb2xCb3giLCJ3aWR0aCIsImhlaWdodCIsImluZGV4IiwiaW5pdCIsImFyZ3NUb0FwcGx5IiwiY2IiLCJhcmd1bWVudHMiLCJwdXNoIiwiYXBwbHkiLCJwbGFjZUluQ2FudmFzIiwiZHJhdyIsImRpc3Bvc2UiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBcUNBLE9BVEFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsR0FHQVYsRUFBQSxLRE1NLFNBQVNJLEVBQVFELEVBQVNILEdFNUNoQyxZQUNBLElBQU1XLEdBQWFYLEVBQVEsR0FDckJZLEVBQWVaLEVBQVEsR0FFekJhLEVBQUssR0FBSUQsRUFFYkMsR0FBR0MsU0FBUyxhQUFjLGtCQUFtQixTQUFVVCxHQUNyRCxHQUFJVSxHQUFTQyxLQUNUQyxFQUFTRixFQUFPRSxNQUNwQkMsU0FBUUMsSUFBSWQsR0FLWlksRUFBTyxHQUFJTixRRm9EUCxTQUFTUCxFQUFRRCxJR2xFdkIsU0FBQVksR0FBQSxZSDJFQyxTQUFTSyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUZoSCxHQUFJQyxHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixNR3JFM2hCWCxFSHlFWSxXR2pFaEIsUUFBQUEsS0FBZVMsRUFBQUosS0FBQUwsR0FJYkssS0FBS3dCLG9CQUNIQyxXQUFZLEtBQ1pDLHFCQUFzQixFQUN0QkMsa0JBQW1CLE1IaUp0QixNQTVEQW5CLEdBQWFiLElBQ1h5QixJQUFLLGlCQU1MUSxNQUFPLFNHdkVNQyxHQUVkLE1BREE3QixNQUFLOEIsWUFBY0QsR0FDWixLSCtFTlQsSUFBSyxRQUNMUSxNQUFPLGVBRVBSLElBQUssT0FDTFEsTUFBTyxTR3pFSkcsR0FDSkEsRUFBUSxTQUFVLFNBQVUsU0FBVUMsRUFBR0MsR0FDdkNsQyxFQUFPaUMsRUFBSUEsRUFDWGpDLEVBQU9rQyxFQUFJQSxPSDZFWmIsSUFBSyxnQkFDTFEsTUFBTyxXR3hFUixHQUFJTSxHQUFRbEMsS0FBS21DLGdCQUNmVixXQUFZLFFBQ1pDLHFCQUFzQixFQUN0QkMsa0JBQW1CLE9BRXJCekIsU0FBUUMsSUFBSUgsS0FBSzhCLFlBQWFJLE1INkU3QmQsSUFBSyxPQUNMUSxNQUFPLGVBSVBSLElBQUssVUFDTFEsTUFBTyxlQUlQUixJQUFLLGNBQ0xnQixJQUFLLFdHOUhOLE1BQU9wQyxNQUFLd0Isb0JIaUlYYSxJQUFLLFNHOUhTUixHQUNmN0IsS0FBS3dCLG1CQUFtQkMsV0FBYUksRUFBSUosV0FDekN6QixLQUFLd0IsbUJBQW1CRSxxQkFBdUJHLEVBQUlILHFCQUNuRDFCLEtBQUt3QixtQkFBbUJHLGtCQUFvQkUsRUFBSUYsc0JIa0kxQ2hDLElHdEZWUCxHQUFPRCxRQUFVUSxJSDBGYUosS0FBS0osRUFBVSxXQUFhLE1BQU9hLFdBSTNELFNBQVNaLEVBQVFELEdJNUt2QixZQUNBLElBQUlTLEdBQWUsWUFFbkJBLEdBQWEyQixVQUFVekIsU0FBVyxTQUFVd0MsRUFBS0MsR0FDL0MsR0FBSUMsR0FBVUQsRUFBSSxHQUNkRSxFQUFLRixFQUFJLEVBQ2JyQyxTQUFRQyxJQUFJLCtCQUFpQ3FDLEdBQzdDQyxFQUFHQyxLQUFLMUMsS0FBTSxRQUdoQkosRUFBYTJCLFVBQVVvQixhQUFlLFNBQVVDLEVBQWVDLEdBQzdELEdBQUlDLElBQ0ZkLEVBQUcsR0FDSEMsRUFBRyxHQUNIYyxNQUFPLElBQ1BDLE9BQVEsR0FDUkMsTUFBTyxFQUdULE9BQXNCLFFBQWxCTCxHQUE2QyxZQUFsQkMsRUFDdEJDLEVBR0YsTUFHVGxELEVBQWEyQixVQUFVdEIsT0FBUyxTQUFVNEIsR0FDeENBLEVBQUlxQixLQUFLLFdBSVAsSUFBSyxHQUhEQyxNQUNBQyxFQUFLQyxVQUFVQSxVQUFVeEMsT0FBUyxHQUU3QkQsRUFBSSxFQUFHQSxFQUFJeUMsVUFBVXhDLE9BQVMsRUFBR0QsSUFDbkIsV0FBakJ5QyxVQUFVekMsR0FDWnVDLEVBQVlHLEtBQUssUUFDUyxXQUFqQkQsVUFBVXpDLElBQ25CdUMsRUFBWUcsS0FBSyxPQUdyQkYsR0FBR0csTUFBTXZELEtBQU1tRCxLQUdqQnRCLEVBQUkyQixnQkFFSjNCLEVBQUk0QixPQUVKNUIsRUFBSTZCLFdBR050RSxFQUFPRCxRQUFVUyIsImZpbGUiOiJmY3RzLWV4dC1kYXRhYWdncmVnYXRvci1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgQWdncmVnYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBGdXNpb25DaGFydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIGZjID0gbmV3IEZ1c2lvbkNoYXJ0cygpO1xuXHRcblx0ZmMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsnZGF0YS1hZ2dyZWdhdG9yJywgZnVuY3Rpb24gKGlkKSB7XG5cdCAgdmFyIGdsb2JhbCA9IHRoaXM7XG5cdCAgdmFyIGV4dEFQSSA9IGdsb2JhbC5leHRBUEk7XG5cdCAgY29uc29sZS5sb2coaWQpO1xuXHRcblx0ICAvLyB2YXIgb3RoZXJBUEkgPSBmYy5nZXRFeHRDb21wb25lbnQoaWQsICdhcGknLCAnbGVnYWN5ZXh0YXBpJyk7XG5cdCAgLy8gdmFyIHRvb2xCb3hBcGkgPSBmYy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG5cdFxuXHQgIGV4dEFQSShuZXcgQWdncmVnYXRvcigpKTtcblx0fV0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgeyd1c2Ugc3RyaWN0Jztcblx0LyoqXG5cdCAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgRGF0YSBBZ2dyZWdhdG9yLlxuXHQgKi9cblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEFnZ3JlZ2F0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgLyoqXG5cdCAgICogQ3JlYXRlIGEgQWdncmVnYXRvci5cblx0ICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9uXG5cdCAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRpbWVQZXJpb2QgLSBUaGUgdGltZSBpbnRlcnZhbCBvZiBhZ2dyZWdhdGlvbi5cblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVBlcmlvZE11bHRpcGxpZXIgLSBUaGUgbXVsdGlwbGllciBvZiB0aW1lIGludGVydmFsLlxuXHQgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhZ2dyZWdhdGlvbk1ldGhvZCAtIFRoZSBtZXRob2QgYXBwbGllZCB0byBhZ2dyZWdhdGUuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gQWdncmVnYXRvcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZ2dyZWdhdG9yKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uID0ge1xuXHQgICAgICB0aW1lUGVyaW9kOiBudWxsLFxuXHQgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcjogMCxcblx0ICAgICAgYWdncmVnYXRpb25NZXRob2Q6IG51bGxcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSB0aW1lUGVyaW9kLCB0aW1lUGVyaW9kTXVsdGlwbGllciwgYWdncmVnYXRpb25NZXRob2QuXG5cdCAgICogQHR5cGUge0FnZ3JlZ2F0b3IuYWdncmVnYXRpb259XG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQWdncmVnYXRvciwgW3tcblx0ICAgIGtleTogJ3NldEFnZ3JlZ2F0aW9uJyxcblx0XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgQWdncmVnYXRpb24gb24gdGltZSBzZXJpZXNcblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFnZ3JlZ2F0aW9uKG9iaikge1xuXHQgICAgICB0aGlzLmFnZ3JlZ2F0aW9uID0gb2JqO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlc2V0IEFwcGxpZWQgQWdncmVnYXRpb25cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXNldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7fVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2luaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQocmVxdWlyZSkge1xuXHQgICAgICByZXF1aXJlKCdYLUF4aXMnLCAnWS1BeGlzJywgZnVuY3Rpb24gKHgsIHkpIHtcblx0ICAgICAgICBnbG9iYWwueCA9IHg7XG5cdCAgICAgICAgZ2xvYmFsLnkgPSB5O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwbGFjZUluQ2FudmFzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwbGFjZUluQ2FudmFzKCkge1xuXHQgICAgICAvLyBzcGFjZSBtYW5hZ2VtZW50XG5cdCAgICAgIHZhciBpc1NldCA9IHRoaXMuc2V0QWdncmVnYXRpb24oe1xuXHQgICAgICAgIHRpbWVQZXJpb2Q6ICdtb250aCcsXG5cdCAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXI6IDMsXG5cdCAgICAgICAgYWdncmVnYXRpb25NZXRob2Q6ICdzdW0nXG5cdCAgICAgIH0pO1xuXHQgICAgICBjb25zb2xlLmxvZyh0aGlzLmFnZ3JlZ2F0aW9uLCBpc1NldCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcblx0ICAgICAgLy8gZHJhdyBleHRlbnNpb25cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkaXNwb3NlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlKCkge1xuXHQgICAgICAvLyBkaXNwb3NlIGV4dGVuc2lvblxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FnZ3JlZ2F0aW9uJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5hcHBsaWVkQWdncmVnYXRpb247XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQob2JqKSB7XG5cdCAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2QgPSBvYmoudGltZVBlcmlvZDtcblx0ICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZE11bHRpcGxpZXIgPSBvYmoudGltZVBlcmlvZE11bHRpcGxpZXI7XG5cdCAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLmFnZ3JlZ2F0aW9uTWV0aG9kID0gb2JqLmFnZ3JlZ2F0aW9uTWV0aG9kO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEFnZ3JlZ2F0b3I7XG5cdH0oKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQWdncmVnYXRvcjtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIEZ1c2lvbkNoYXJ0cyA9IGZ1bmN0aW9uIEZ1c2lvbkNoYXJ0cygpIHt9O1xuXHRcblx0RnVzaW9uQ2hhcnRzLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChleHQsIGFycikge1xuXHQgIHZhciBleHROYW1lID0gYXJyWzBdO1xuXHQgIHZhciBmbiA9IGFyclsxXTtcblx0ICBjb25zb2xlLmxvZygnQ3VycmVudGx5IGFjdGl2ZSBleHRlbnNpb246ICcgKyBleHROYW1lKTtcblx0ICBmbi5iaW5kKHRoaXMsIDU2NSkoKTtcblx0fTtcblx0XG5cdEZ1c2lvbkNoYXJ0cy5wcm90b3R5cGUuZ2V0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudE5hbWUpIHtcblx0ICB2YXIgdG9vbEJveCA9IHtcblx0ICAgIHg6IDI0LFxuXHQgICAgeTogNTYsXG5cdCAgICB3aWR0aDogMTAwLFxuXHQgICAgaGVpZ2h0OiAyMCxcblx0ICAgIGluZGV4OiA0XG5cdCAgfTtcblx0XG5cdCAgaWYgKGNvbXBvbmVudFR5cGUgPT09ICdhcGknICYmIGNvbXBvbmVudE5hbWUgPT09ICd0b29sYm94Jykge1xuXHQgICAgcmV0dXJuIHRvb2xCb3g7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gbnVsbDtcblx0fTtcblx0XG5cdEZ1c2lvbkNoYXJ0cy5wcm90b3R5cGUuZXh0QVBJID0gZnVuY3Rpb24gKG9iaikge1xuXHQgIG9iai5pbml0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBhcmdzVG9BcHBseSA9IFtdO1xuXHQgICAgdmFyIGNiID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcblx0ICAgICAgaWYgKGFyZ3VtZW50c1tpXSA9PT0gJ1gtQXhpcycpIHtcblx0ICAgICAgICBhcmdzVG9BcHBseS5wdXNoKDE1Njc3Mik7XG5cdCAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzW2ldID09PSAnWS1BeGlzJykge1xuXHQgICAgICAgIGFyZ3NUb0FwcGx5LnB1c2goMTU2NzY1KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgY2IuYXBwbHkodGhpcywgYXJnc1RvQXBwbHkpO1xuXHQgIH0pO1xuXHRcblx0ICBvYmoucGxhY2VJbkNhbnZhcygpO1xuXHRcblx0ICBvYmouZHJhdygpO1xuXHRcblx0ICBvYmouZGlzcG9zZSgpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBGdXNpb25DaGFydHM7XG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIGZjdHMtZXh0LWRhdGFhZ2dyZWdhdG9yLWVzNS5taW4uanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGI0MWJiZTEwNGY3NTM0OWU0ZTMzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgQWdncmVnYXRvciA9IHJlcXVpcmUoJy4vZmN0cy1leHQtYWdncmVnYXRvcicpO1xuY29uc3QgRnVzaW9uQ2hhcnRzID0gcmVxdWlyZSgnLi4vbGliL2Z1c2lvbmNoYXJ0cycpO1xuXG52YXIgZmMgPSBuZXcgRnVzaW9uQ2hhcnRzKCk7XG5cbmZjLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ2RhdGEtYWdncmVnYXRvcicsIGZ1bmN0aW9uIChpZCkge1xuICB2YXIgZ2xvYmFsID0gdGhpcztcbiAgdmFyIGV4dEFQSSA9IGdsb2JhbC5leHRBUEk7XG4gIGNvbnNvbGUubG9nKGlkKTtcblxuICAvLyB2YXIgb3RoZXJBUEkgPSBmYy5nZXRFeHRDb21wb25lbnQoaWQsICdhcGknLCAnbGVnYWN5ZXh0YXBpJyk7XG4gIC8vIHZhciB0b29sQm94QXBpID0gZmMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuXG4gIGV4dEFQSShuZXcgQWdncmVnYXRvcigpKTtcbn1dKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2luZGV4LmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIERhdGEgQWdncmVnYXRvci5cbiAqL1xuY2xhc3MgQWdncmVnYXRvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBBZ2dyZWdhdG9yLlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aW1lUGVyaW9kIC0gVGhlIHRpbWUgaW50ZXJ2YWwgb2YgYWdncmVnYXRpb24uXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lUGVyaW9kTXVsdGlwbGllciAtIFRoZSBtdWx0aXBsaWVyIG9mIHRpbWUgaW50ZXJ2YWwuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhZ2dyZWdhdGlvbk1ldGhvZCAtIFRoZSBtZXRob2QgYXBwbGllZCB0byBhZ2dyZWdhdGUuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbiA9IHtcbiAgICAgIHRpbWVQZXJpb2Q6IG51bGwsXG4gICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcjogMCxcbiAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSB0aW1lUGVyaW9kLCB0aW1lUGVyaW9kTXVsdGlwbGllciwgYWdncmVnYXRpb25NZXRob2QuXG4gICAqIEB0eXBlIHtBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9ufVxuICAgKi9cbiAgZ2V0IGFnZ3JlZ2F0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcHBsaWVkQWdncmVnYXRpb247XG4gIH1cblxuICBzZXQgYWdncmVnYXRpb24gKG9iaikge1xuICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2QgPSBvYmoudGltZVBlcmlvZDtcbiAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbi50aW1lUGVyaW9kTXVsdGlwbGllciA9IG9iai50aW1lUGVyaW9kTXVsdGlwbGllcjtcbiAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbi5hZ2dyZWdhdGlvbk1ldGhvZCA9IG9iai5hZ2dyZWdhdGlvbk1ldGhvZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgQWdncmVnYXRpb24gb24gdGltZSBzZXJpZXNcbiAgICovXG4gIHNldEFnZ3JlZ2F0aW9uIChvYmopIHtcbiAgICB0aGlzLmFnZ3JlZ2F0aW9uID0gb2JqO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IEFwcGxpZWQgQWdncmVnYXRpb25cbiAgICovXG4gIHJlc2V0ICgpIHtcblxuICB9XG5cbiAgaW5pdCAocmVxdWlyZSkge1xuICAgIHJlcXVpcmUoJ1gtQXhpcycsICdZLUF4aXMnLCBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgZ2xvYmFsLnggPSB4O1xuICAgICAgZ2xvYmFsLnkgPSB5O1xuICAgIH0pO1xuICB9XG5cbiAgcGxhY2VJbkNhbnZhcyAoKSB7XG4gICAgLy8gc3BhY2UgbWFuYWdlbWVudFxuICAgIHZhciBpc1NldCA9IHRoaXMuc2V0QWdncmVnYXRpb24oe1xuICAgICAgdGltZVBlcmlvZDogJ21vbnRoJyxcbiAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyOiAzLFxuICAgICAgYWdncmVnYXRpb25NZXRob2Q6ICdzdW0nXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2codGhpcy5hZ2dyZWdhdGlvbiwgaXNTZXQpO1xuICB9XG5cbiAgZHJhdyAoKSB7XG4gICAgLy8gZHJhdyBleHRlbnNpb25cbiAgfVxuXG4gIGRpc3Bvc2UgKCkge1xuICAgIC8vIGRpc3Bvc2UgZXh0ZW5zaW9uXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBZ2dyZWdhdG9yO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmN0cy1leHQtYWdncmVnYXRvci5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBGdXNpb25DaGFydHMgPSBmdW5jdGlvbiAoKSB7fTtcblxuRnVzaW9uQ2hhcnRzLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChleHQsIGFycikge1xuICB2YXIgZXh0TmFtZSA9IGFyclswXTtcbiAgdmFyIGZuID0gYXJyWzFdO1xuICBjb25zb2xlLmxvZygnQ3VycmVudGx5IGFjdGl2ZSBleHRlbnNpb246ICcgKyBleHROYW1lKTtcbiAgZm4uYmluZCh0aGlzLCA1NjUpKCk7XG59O1xuXG5GdXNpb25DaGFydHMucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnRUeXBlLCBjb21wb25lbnROYW1lKSB7XG4gIHZhciB0b29sQm94ID0ge1xuICAgIHg6IDI0LFxuICAgIHk6IDU2LFxuICAgIHdpZHRoOiAxMDAsXG4gICAgaGVpZ2h0OiAyMCxcbiAgICBpbmRleDogNFxuICB9O1xuXG4gIGlmIChjb21wb25lbnRUeXBlID09PSAnYXBpJyAmJiBjb21wb25lbnROYW1lID09PSAndG9vbGJveCcpIHtcbiAgICByZXR1cm4gdG9vbEJveDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuRnVzaW9uQ2hhcnRzLnByb3RvdHlwZS5leHRBUEkgPSBmdW5jdGlvbiAob2JqKSB7XG4gIG9iai5pbml0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJnc1RvQXBwbHkgPSBbXTtcbiAgICB2YXIgY2IgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBpZiAoYXJndW1lbnRzW2ldID09PSAnWC1BeGlzJykge1xuICAgICAgICBhcmdzVG9BcHBseS5wdXNoKDE1Njc3Mik7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50c1tpXSA9PT0gJ1ktQXhpcycpIHtcbiAgICAgICAgYXJnc1RvQXBwbHkucHVzaCgxNTY3NjUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYi5hcHBseSh0aGlzLCBhcmdzVG9BcHBseSk7XG4gIH0pO1xuXG4gIG9iai5wbGFjZUluQ2FudmFzKCk7XG5cbiAgb2JqLmRyYXcoKTtcblxuICBvYmouZGlzcG9zZSgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGdXNpb25DaGFydHM7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2xpYi9mdXNpb25jaGFydHMuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9