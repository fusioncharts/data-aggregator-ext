/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(module) {'use strict';
	
	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
	
	var AggregatorGetter = __webpack_require__(2);
	
	;(function (env, factory) {
	  if (( false ? 'undefined' : _typeof(module)) === 'object' && module.exports) {
	    module.exports = env.document ? factory(env) : function (win) {
	      if (!win.document) {
	        throw new Error('Window with document not present');
	      }
	      return factory(win, true);
	    };
	  } else {
	    env.Aggregator = factory(env, true);
	  }
	})(typeof window !== 'undefined' ? window : undefined, function (_window, windowExists) {
	  var FC = _window.FusionCharts;
	
	  FC.register('extension', ['private', 'data-aggregator', function () {
	    FC.registerComponent('extensions', 'data-aggregator', AggregatorGetter({ FC: FC }));
	  }]);
	});
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = function(module) {
		if(!module.webpackPolyfill) {
			module.deprecate = function() {};
			module.paths = [];
			// module.parent = undefined by default
			module.children = [];
			module.webpackPolyfill = 1;
		}
		return module;
	}


/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	module.exports = function (dep) {
	  /**
	   * Class representing the Data Aggregator.
	   */
	  var Aggregator = function () {
	    /**
	     * Create a Aggregator.
	     * @typedef {object} Aggregator.aggregation
	     * @property {string} timePeriod - The time interval of aggregation.
	     * @property {number} timePeriodMultiplier - The multiplier of time interval.
	     * @property {string} aggregationMethod - The method applied to aggregate.
	     */
	    function Aggregator() {
	      _classCallCheck(this, Aggregator);
	
	      /**
	       * @private
	       */
	      this.appliedAggregation = {
	        binSize: null,
	        aggregationMethod: null
	      };
	      this.config = {};
	    }
	
	    /**
	     * An object representing the timePeriod, timePeriodMultiplier, aggregationMethod.
	     * @type {Aggregator.aggregation}
	     */
	
	
	    _createClass(Aggregator, [{
	      key: 'getAvailablelAggreagation',
	
	
	      /**
	       * Sets available aggregation options in configuration of extension
	       * @private
	       */
	      value: function getAvailablelAggreagation() {
	        var config = this.config,
	            dataAgg = config.dataAgg,
	            avlTimePeriods = config.avlTimePeriods = dataAgg.getAggregationTimeRules(),
	            i,
	            len;
	
	        config.avlTimeMultiplier = [];
	        len = avlTimePeriods.length;
	
	        for (i = 0; i < len; i++) {
	          config.avlTimeMultiplier.push(avlTimePeriods[i].possibleFactors);
	        }
	      }
	
	      /**
	       * Calculates valid aggregation time periods and corresponding multipliers
	       * @private
	       */
	
	    }, {
	      key: 'getValidAggregation',
	      value: function getValidAggregation() {
	        var self = this,
	            config = self.config,
	            tsObject = self.tsObject,
	            dataAgg = config.dataAgg,
	            i,
	            j,
	            len1,
	            len2,
	            avlTimePeriods,
	            avlTimeMultiplier,
	
	        // minNumOfPlot = 5,
	        maxNumOfPlot = config.composition.reactiveModel.model['max-plot-point'],
	            multipliersArr,
	            currentTimeLength,
	            timePeriod,
	            time,
	            expectedTime,
	            multiplier,
	            minBinSize;
	        // maxBinSize;
	
	        config.currentTimeLength = tsObject.globalReactiveModel.model['x-axis-visible-range-end'] - tsObject.globalReactiveModel.model['x-axis-visible-range-start'];
	
	        avlTimePeriods = config.avlTimePeriods;
	        avlTimeMultiplier = config.avlTimeMultiplier;
	        currentTimeLength = config.currentTimeLength;
	
	        config.minBinSize = minBinSize = currentTimeLength / maxNumOfPlot;
	        // config.maxBinSize = maxBinSize = currentTimeLength / minNumOfPlot;
	
	        config.validTimePeriod = [];
	        config.validTimePeriodMultiplier = [];
	        config.avlAggMethods = dataAgg.getAllAggregationMethod();
	
	        for (i = 0, len1 = avlTimePeriods.length; i < len1; i++) {
	          timePeriod = avlTimePeriods[i].name;
	          time = avlTimePeriods[i].interval;
	          multipliersArr = [];
	
	          for (j = 0, len2 = avlTimeMultiplier[i].length; j < len2; j++) {
	            multiplier = avlTimeMultiplier[i][j];
	            expectedTime = multiplier * time;
	
	            // if ((expectedTime >= minBinSize) && (expectedTime <= maxBinSize)) {
	            if (expectedTime >= minBinSize) {
	              multipliersArr.push(avlTimeMultiplier[i][j]);
	            }
	          }
	          if (multipliersArr.length > 0) {
	            config.validTimePeriodMultiplier.push(multipliersArr);
	            config.validTimePeriod.push(timePeriod);
	          }
	        }
	        // console.log('Time Period: ', config.validTimePeriod);
	        // console.log('Number Of Multipliers: ', config.validTimePeriodMultiplier);
	        // console.log('Methods: ', config.avlAggMethods);
	      }
	    }, {
	      key: 'getCurrentAggreation',
	      value: function getCurrentAggreation() {
	        var self = this,
	            config = self.config,
	            dataAgg = config.dataAgg,
	            composition = config.composition,
	            model = composition.reactiveModel,
	            currentAggMethod,
	            suitableInterval,
	            binSize;
	
	        binSize = model.prop('bin-size') - 1;
	
	        if (isFinite(binSize)) {
	          config.canAggregate = true;
	          suitableInterval = dataAgg.timeRules.getSuitableInterval(binSize);
	          currentAggMethod = model.prop('aggregation-fn');
	        } else {
	          config.canAggregate = false;
	          suitableInterval = {
	            name: '',
	            step: ''
	          };
	          config.validTimePeriod = [suitableInterval.name];
	          config.validTimePeriodMultiplier = [[suitableInterval.step]];
	          config.avlAggMethods = {
	            'invalid': {
	              formalName: '',
	              nickName: ''
	            }
	          };
	          currentAggMethod = config.avlAggMethods['invalid'];
	        }
	
	        return {
	          timePeriod: suitableInterval.name,
	          timePeriodMultiplier: suitableInterval.step,
	          aggregationMethod: {
	            value: currentAggMethod.nickName,
	            text: currentAggMethod.formalName
	          }
	        };
	      }
	    }, {
	      key: 'init',
	      value: function init(require) {
	        var self = this,
	            config = self.config,
	            toolboxComponent = config.toolboxComponent = {},
	            api,
	            store,
	            composition,
	            saveTo = 'tsObject',
	            requiredParams = ['graphics', 'globalReactiveModel', 'chart', 'spaceManagerInstance', 'chartInstance', 'smartLabel', function acquire() {
	          var i = 0,
	              ii = requiredParams.length - 1,
	              param = '';
	          self[saveTo] = self[saveTo] || {};
	          self.requiredParams = {};
	          for (i = 0; i < ii; ++i) {
	            param = requiredParams[i];
	            self[saveTo][param] = arguments[i];
	          }
	          // onInit(self[saveTo]);
	        }];
	        require(requiredParams);
	
	        api = self.tsObject.chartInstance.apiInstance;
	        store = api.getComponentStore();
	        config.composition = composition = store.getCanvasByIndex(0).composition;
	        config.dataAgg = composition.impl.getDataAggregator();
	
	        toolboxComponent.toolbox = dep.FC.getComponent('api', 'toolbox');
	        toolboxComponent.config = {};
	
	        self.toolbars = [];
	
	        self.measurement = {};
	
	        self.toolbars.push(self.createToolbar());
	
	        window.Aggregator = self;
	        return self;
	      }
	    }, {
	      key: 'createToolbar',
	      value: function createToolbar() {
	        var self = this,
	            group,
	            toolbar,
	            timeMulSelectMenu,
	            timePeriodSelectMenu,
	            aggMethodSelectMenu,
	            resetButton,
	            applyButton,
	            config = self.config,
	            tsObject = self.tsObject,
	            label,
	            toolboxComponent = config.toolboxComponent,
	            toolbox = toolboxComponent.toolbox,
	            toolboxCompConfig = toolboxComponent.config,
	            HorizontalToolbar = toolbox.HorizontalToolbar,
	            ComponentGroup = toolbox.ComponentGroup,
	            SymbolStore = toolbox.SymbolStore,
	            graphics = tsObject.graphics,
	            paper = graphics.paper,
	            container = graphics.container,
	            chart = tsObject.chart,
	            smartLabel = tsObject.smartLabel,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            selectMenuConfig,
	            dropDownMenuStyle,
	            buttonConfig,
	            dependencies = {
	          paper: paper,
	          chart: chart,
	          smartLabel: smartLabel,
	          chartContainer: container
	        },
	            apply = function apply(set) {
	          var model = config.composition.reactiveModel,
	              timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              aggMethodSelectMenuVal = aggMethodSelectMenu.value(),
	              keys,
	              binSize,
	              timeInterval,
	              aggregation = self.aggregation,
	              canvas = config.composition.impl;
	
	          var _iteratorNormalCompletion = true;
	          var _didIteratorError = false;
	          var _iteratorError = undefined;
	
	          try {
	            for (var _iterator = config.avlTimePeriods[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
	              keys = _step.value;
	
	              if (keys.name === timePeriodVal) {
	                timeInterval = keys.interval;
	                break;
	              }
	            }
	          } catch (err) {
	            _didIteratorError = true;
	            _iteratorError = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion && _iterator.return) {
	                _iterator.return();
	              }
	            } finally {
	              if (_didIteratorError) {
	                throw _iteratorError;
	              }
	            }
	          }
	
	          binSize = timeInterval * Number(timePeriodMultiplierVal);
	          if (set && isFinite(model.prop('bin-size'))) {
	            model.lock().prop('bin-size-ext', binSize).prop('aggregation-fn-ext', config.avlAggMethods[aggMethodSelectMenuVal]).unlock();
	            aggregation.binSize = binSize;
	            aggregation.aggregationMethod = aggMethodSelectMenuVal;
	            applyButton.updateVisual('disabled');
	            resetButton.updateVisual('enabled');
	          } else {
	            canvas.resetAggregation();
	            aggregation.binSize = null;
	            aggregation.aggregationMethod = null;
	            resetButton.updateVisual('disabled');
	          }
	        },
	            timePeriodOnChange = function timePeriodOnChange() {
	          var timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              prevTimePeroidMulVal = timePeriodMultiplierVal,
	              validTimePeriod = config.validTimePeriod,
	              validTimePeriodMultiplier = config.validTimePeriodMultiplier,
	              indexOfTimeUnit,
	              indexOfTimeMul;
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriodVal);
	          indexOfTimeMul = validTimePeriodMultiplier[indexOfTimeUnit].indexOf(Number(timePeriodMultiplierVal));
	
	          timeMulSelectMenuOpt = [];
	          var _iteratorNormalCompletion2 = true;
	          var _didIteratorError2 = false;
	          var _iteratorError2 = undefined;
	
	          try {
	            for (var _iterator2 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
	              multiplierVal = _step2.value;
	
	              timeMulSelectMenuOpt.push({
	                name: multiplierVal.toString(),
	                value: multiplierVal.toString()
	              });
	            }
	          } catch (err) {
	            _didIteratorError2 = true;
	            _iteratorError2 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion2 && _iterator2.return) {
	                _iterator2.return();
	              }
	            } finally {
	              if (_didIteratorError2) {
	                throw _iteratorError2;
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	
	          if (indexOfTimeMul < 0) {
	            timeMulSelectMenu.value(validTimePeriodMultiplier[indexOfTimeUnit][0].toString());
	          } else {
	            timeMulSelectMenu.value(prevTimePeroidMulVal);
	          }
	        },
	            onChange = function onChange(type) {
	          var currentAgg = self.getCurrentAggreation();
	
	          switch (type) {
	            case 1:
	              if (currentAgg.timePeriodMultiplier.toString() !== timeMulSelectMenu.value()) {
	                applyButton.updateVisual('enabled');
	              } else {
	                applyButton.updateVisual('disabled');
	              }
	              break;
	            case 2:
	              if (currentAgg.timePeriod !== timePeriodSelectMenu.value()) {
	                applyButton.updateVisual('enabled');
	              } else {
	                applyButton.updateVisual('disabled');
	              }
	              break;
	            case 3:
	              if (currentAgg.aggregationMethod.value !== aggMethodSelectMenu.value()) {
	                applyButton.updateVisual('enabled');
	              } else {
	                applyButton.updateVisual('disabled');
	              }
	              break;
	          }
	        };
	
	        group = new ComponentGroup(dependencies);
	        toolbar = new HorizontalToolbar(dependencies);
	
	        group.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        toolbar.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        selectMenuConfig = {
	          disabled: {
	            config: {
	              disabled: {
	                fill: '#fff',
	                'stroke-width': 3,
	                stroke: 'rgb(192, 192, 192)'
	              }
	            }
	          }
	        };
	
	        buttonConfig = {
	          disabled: {
	            config: {
	              disabled: {
	                fill: '#bebebe',
	                'stroke-width': 3,
	                stroke: 'rgb(192, 192, 192)',
	                labelFill: '#fff'
	              }
	            }
	          }
	        };
	
	        dropDownMenuStyle = {
	          selected: {
	            container: {
	              style: {
	                fill: '#898b8b'
	              }
	            },
	            text: {
	              style: {
	                fill: '#fff'
	              }
	            }
	          },
	          normal: {
	            container: {
	              style: {
	                fill: '#fff'
	              }
	            },
	            text: {
	              style: {
	                fill: '#000'
	              }
	            }
	          },
	          hover: {
	            container: {
	              style: {
	                fill: '#e6e8e8'
	              }
	            },
	            text: {
	              style: {
	                fill: '#000'
	              }
	            }
	          }
	        };
	
	        label = new toolbox.Label('Aggregate Data:', dependencies, {
	          text: {
	            style: {
	              'font-size': '14',
	              'fill': '#696969'
	            }
	          }
	        });
	
	        toolboxCompConfig.timePeriodSelectMenu = timePeriodSelectMenu = new toolbox.SelectSymbol({
	          width: 90,
	          height: 22
	        }, dependencies, [], {
	          fill: '#fff',
	          labelFill: '#696969',
	          hoverFill: '#fff',
	          hoverStroke: '#696969',
	          hoverStrokeWidth: 1,
	          strokeWidth: 1,
	          radius: 1,
	          stroke: '#c8cecd',
	          symbolStrokeWidth: 0,
	          btnTextStyle: {
	            fontSize: 11
	          },
	          dropDownMenu: dropDownMenuStyle
	        });
	        timePeriodSelectMenu.setStateConfig(selectMenuConfig);
	
	        toolboxCompConfig.timeMulSelectMenu = timeMulSelectMenu = new toolbox.SelectSymbol({
	          width: 50,
	          height: 22
	        }, dependencies, [], {
	          fill: '#fff',
	          labelFill: '#696969',
	          hoverFill: '#fff',
	          hoverStroke: '#696969',
	          hoverStrokeWidth: 1,
	          strokeWidth: 1,
	          radius: 1,
	          stroke: '#c8cecd',
	          symbolStrokeWidth: 0,
	          btnTextStyle: {
	            fontSize: 11
	          },
	          dropDownMenu: dropDownMenuStyle
	        });
	        timeMulSelectMenu.setStateConfig(selectMenuConfig);
	
	        toolboxCompConfig.aggMethodSelectMenu = aggMethodSelectMenu = new toolbox.SelectSymbol({
	          width: 90,
	          height: 22
	        }, dependencies, [], {
	          fill: '#fff',
	          labelFill: '#696969',
	          hoverFill: '#fff',
	          hoverStroke: '#696969',
	          hoverStrokeWidth: 1,
	          strokeWidth: 1,
	          radius: 1,
	          stroke: '#c8cecd',
	          symbolStrokeWidth: 0,
	          btnTextStyle: {
	            fontSize: 11
	          },
	          dropDownMenu: dropDownMenuStyle
	        });
	        aggMethodSelectMenu.setStateConfig(selectMenuConfig);
	
	        toolboxCompConfig.applyButton = applyButton = new toolbox.Symbol('APPLY', true, dependencies, {
	          fill: '#555',
	          labelFill: '#f3f3f3',
	          hoverFill: '#555',
	          radius: 1,
	          width: 30,
	          height: 20,
	          btnTextStyle: {
	            fontSize: 11
	          }
	        }).attachEventHandlers({
	          click: function click() {
	            apply(1);
	          }
	        });
	        applyButton.setStateConfig(buttonConfig);
	
	        toolboxCompConfig.resetButton = resetButton = new toolbox.Symbol('RESET', true, dependencies, {
	          fill: '#898b8b',
	          labelFill: '#f3f3f3',
	          hoverFill: '#898b8b',
	          radius: 1,
	          width: 30,
	          height: 20,
	          btnTextStyle: {
	            fontSize: 11
	          }
	        }).attachEventHandlers({
	          click: function click() {
	            apply(0);
	          }
	        });
	        resetButton.setStateConfig(buttonConfig);
	
	        group.addSymbol(label);
	        group.addSymbol(timeMulSelectMenu);
	        group.addSymbol(timePeriodSelectMenu);
	        group.addSymbol(aggMethodSelectMenu);
	        group.addSymbol(applyButton);
	        group.addSymbol(resetButton);
	
	        SymbolStore.register('textBoxIcon', function (x, y, rad, w, h, padX, padY) {
	          var x1 = x - w / 2 + padX / 2,
	              x2 = x + w / 2 - padX / 2,
	              y1 = y - h / 2 + padY / 2,
	              y2 = y + h / 2 - padY / 2;
	
	          return ['M', x1, y1, 'L', x2, y1, 'L', x2, y2, 'L', x1, y2, 'Z'];
	        });
	
	        timePeriodSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            timePeriodOnChange();
	            onChange(2);
	          }
	        });
	
	        timeMulSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            onChange(1);
	          }
	        });
	
	        aggMethodSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            onChange(3);
	          }
	        });
	
	        toolbar.addComponent(group);
	
	        return toolbar;
	      }
	    }, {
	      key: 'getLogicalSpace',
	      value: function getLogicalSpace(availableWidth, availableHeight) {
	        var logicalSpace,
	            width = 0,
	            height = 0,
	            i,
	            ln;
	
	        for (i = 0, ln = this.toolbars.length; i < ln; i++) {
	          logicalSpace = this.toolbars[i].getLogicalSpace();
	          width = Math.max(logicalSpace.width, width);
	          height += logicalSpace.height;
	          this.toolbars[i].width = logicalSpace.width;
	          this.toolbars[i].height = logicalSpace.height;
	        }
	        height += this.padding;
	        return {
	          width: width > availableWidth ? 0 : width,
	          height: height > availableHeight ? 0 : height
	        };
	      }
	    }, {
	      key: 'placeInCanvas',
	      value: function placeInCanvas(containerInstance) {
	        var _self = this,
	            tsObject = _self.tsObject;
	
	        _self.padding = 5;
	        tsObject.spaceManagerInstance.add([{
	          name: function name() {
	            return 'DataAggregator';
	          },
	          ref: function ref(obj) {
	            return obj['0'];
	          },
	          self: function self() {
	            return _self;
	          },
	          priority: function priority() {
	            return 2;
	          },
	          layout: function layout(obj) {
	            return obj.inline;
	          },
	          orientation: [{
	            type: function type(obj) {
	              return obj.horizontal;
	            },
	            position: [{
	              type: function type(obj) {
	                return obj.top;
	              },
	              alignment: [{
	                type: function type(obj) {
	                  return obj.left;
	                },
	                dimensions: [function () {
	                  var parent = this.getParentComponentGroup();
	                  return _self.getLogicalSpace(parent.getWidth(), parent.getHeight());
	                }]
	              }]
	            }]
	          }]
	        }]);
	      }
	    }, {
	      key: 'setDrawingConfiguration',
	      value: function setDrawingConfiguration(x, y, width, height, group) {
	        var mes = this.measurement;
	        mes.x = x;
	        mes.y = y;
	        mes.width = width;
	        mes.height = height;
	
	        this.parentGroup = group;
	
	        return this;
	      }
	    }, {
	      key: 'draw',
	      value: function draw(x, y, width, height, group) {
	        var self = this,
	            config = self.config,
	            toolboxCompConfig = config.toolboxComponent.config,
	            timePeriodSelectMenu = toolboxCompConfig.timePeriodSelectMenu,
	            timeMulSelectMenu = toolboxCompConfig.timeMulSelectMenu,
	            aggMethodSelectMenu = toolboxCompConfig.aggMethodSelectMenu,
	            applyButton = toolboxCompConfig.applyButton,
	            resetButton = toolboxCompConfig.resetButton,
	            measurement = self.measurement,
	            toolbars = self.toolbars,
	            ln,
	            i,
	            toolbar,
	            model = config.composition.reactiveModel,
	            dataAgg = config.dataAgg,
	            timePeriodVal,
	            timePeriodSelectMenuOpt,
	            validTimePeriod,
	            indexOfTimeUnit,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            validTimePeriodMultiplier,
	            aggVal,
	            aggMethodSelectMenuOpt,
	            avlAggMethods,
	            rangeOnChange = function rangeOnChange() {
	          var aggregation = self.aggregation,
	              currentAggregationObj,
	              timePeriod,
	              timePeriodMultiplier,
	              aggregationMethod;
	
	          self.getValidAggregation();
	          currentAggregationObj = self.getCurrentAggreation();
	          timePeriod = currentAggregationObj.timePeriod;
	          timePeriodMultiplier = currentAggregationObj.timePeriodMultiplier;
	          aggregationMethod = currentAggregationObj.aggregationMethod;
	
	          timePeriodSelectMenuOpt = [];
	          timeMulSelectMenuOpt = [];
	          aggMethodSelectMenuOpt = [];
	
	          validTimePeriod = config.validTimePeriod;
	          validTimePeriodMultiplier = config.validTimePeriodMultiplier;
	          avlAggMethods = config.avlAggMethods;
	
	          applyButton.updateVisual('disabled');
	
	          if (aggregation.binSize !== model.prop('bin-size') && aggregationMethod.value === config.defaultAggMethod) {
	            aggregation.binSize = null;
	            aggregation.aggregationMethod = null;
	            resetButton.updateVisual('disabled');
	          } else {
	            resetButton.updateVisual('enabled');
	          }
	
	          if (!config.canAggregate) {
	            timePeriodSelectMenu.updateVisual('disabled');
	            timeMulSelectMenu.updateVisual('disabled');
	            aggMethodSelectMenu.updateVisual('disabled');
	            resetButton.updateVisual('disabled');
	          } else {
	            timePeriodSelectMenu.updateVisual('enabled');
	            timeMulSelectMenu.updateVisual('enabled');
	            aggMethodSelectMenu.updateVisual('enabled');
	          }
	
	          var _iteratorNormalCompletion3 = true;
	          var _didIteratorError3 = false;
	          var _iteratorError3 = undefined;
	
	          try {
	            for (var _iterator3 = validTimePeriod[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
	              timePeriodVal = _step3.value;
	
	              timePeriodSelectMenuOpt.push({
	                name: timePeriodVal,
	                value: timePeriodVal
	              });
	            }
	          } catch (err) {
	            _didIteratorError3 = true;
	            _iteratorError3 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion3 && _iterator3.return) {
	                _iterator3.return();
	              }
	            } finally {
	              if (_didIteratorError3) {
	                throw _iteratorError3;
	              }
	            }
	          }
	
	          timePeriodSelectMenu.updateList(timePeriodSelectMenuOpt);
	          timePeriodSelectMenu.value(timePeriod);
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriod);
	
	          if (indexOfTimeUnit >= 0) {
	            var _iteratorNormalCompletion4 = true;
	            var _didIteratorError4 = false;
	            var _iteratorError4 = undefined;
	
	            try {
	              for (var _iterator4 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
	                multiplierVal = _step4.value;
	
	                timeMulSelectMenuOpt.push({
	                  name: multiplierVal.toString(),
	                  value: multiplierVal.toString()
	                });
	              }
	            } catch (err) {
	              _didIteratorError4 = true;
	              _iteratorError4 = err;
	            } finally {
	              try {
	                if (!_iteratorNormalCompletion4 && _iterator4.return) {
	                  _iterator4.return();
	                }
	              } finally {
	                if (_didIteratorError4) {
	                  throw _iteratorError4;
	                }
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	          timeMulSelectMenu.value(timePeriodMultiplier.toString());
	
	          for (aggVal in avlAggMethods) {
	            aggMethodSelectMenuOpt.push({
	              name: avlAggMethods[aggVal].formalName,
	              value: avlAggMethods[aggVal].nickName
	            });
	          }
	
	          aggMethodSelectMenu.updateList(aggMethodSelectMenuOpt);
	          aggMethodSelectMenu.value(aggregationMethod.value);
	        };
	
	        self.getAvailablelAggreagation();
	
	        x = x === undefined ? measurement.x : x;
	        y = y === undefined ? measurement.y : y;
	        width = width === undefined ? measurement.width : width;
	        height = height === undefined ? measurement.height : height;
	        group = group === undefined ? self.parentGroup : group;
	        if (width && height) {
	          for (i = 0, ln = toolbars.length; i < ln; i++) {
	            toolbar = toolbars[i];
	            toolbar.draw(x, y);
	          }
	        }
	        rangeOnChange();
	        applyButton.updateVisual('disabled');
	        resetButton.updateVisual('disabled');
	        config.defaultAggMethod = dataAgg.getDefaultAggregationMethod().nickName;
	
	        model.onPropsChange(['bin-size', 'aggregation-fn'], rangeOnChange);
	      }
	    }, {
	      key: 'dispose',
	      value: function dispose() {
	        // dispose extension
	      }
	    }, {
	      key: 'aggregation',
	      get: function get() {
	        return this.appliedAggregation;
	      },
	      set: function set(obj) {
	        this.appliedAggregation.timePeriod = obj.timePeriod;
	        this.appliedAggregation.timePeriodMultiplier = obj.timePeriodMultiplier;
	        this.appliedAggregation.aggregationMethod = obj.aggregationMethod;
	      }
	    }]);
	
	    return Aggregator;
	  }();
	
	  return Aggregator;
	};

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjJlZWE3Mjc5NWJmN2E4YTI1MGMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanMiXSwibmFtZXMiOlsiQWdncmVnYXRvckdldHRlciIsInJlcXVpcmUiLCJlbnYiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50Iiwid2luIiwiRXJyb3IiLCJBZ2dyZWdhdG9yIiwid2luZG93IiwiX3dpbmRvdyIsIndpbmRvd0V4aXN0cyIsIkZDIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJyZWdpc3RlckNvbXBvbmVudCIsImRlcCIsImFwcGxpZWRBZ2dyZWdhdGlvbiIsImJpblNpemUiLCJhZ2dyZWdhdGlvbk1ldGhvZCIsImNvbmZpZyIsImRhdGFBZ2ciLCJhdmxUaW1lUGVyaW9kcyIsImdldEFnZ3JlZ2F0aW9uVGltZVJ1bGVzIiwiaSIsImxlbiIsImF2bFRpbWVNdWx0aXBsaWVyIiwibGVuZ3RoIiwicHVzaCIsInBvc3NpYmxlRmFjdG9ycyIsInNlbGYiLCJ0c09iamVjdCIsImoiLCJsZW4xIiwibGVuMiIsIm1heE51bU9mUGxvdCIsImNvbXBvc2l0aW9uIiwicmVhY3RpdmVNb2RlbCIsIm1vZGVsIiwibXVsdGlwbGllcnNBcnIiLCJjdXJyZW50VGltZUxlbmd0aCIsInRpbWVQZXJpb2QiLCJ0aW1lIiwiZXhwZWN0ZWRUaW1lIiwibXVsdGlwbGllciIsIm1pbkJpblNpemUiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwidmFsaWRUaW1lUGVyaW9kIiwidmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciIsImF2bEFnZ01ldGhvZHMiLCJnZXRBbGxBZ2dyZWdhdGlvbk1ldGhvZCIsIm5hbWUiLCJpbnRlcnZhbCIsImN1cnJlbnRBZ2dNZXRob2QiLCJzdWl0YWJsZUludGVydmFsIiwicHJvcCIsImlzRmluaXRlIiwiY2FuQWdncmVnYXRlIiwidGltZVJ1bGVzIiwiZ2V0U3VpdGFibGVJbnRlcnZhbCIsInN0ZXAiLCJmb3JtYWxOYW1lIiwibmlja05hbWUiLCJ0aW1lUGVyaW9kTXVsdGlwbGllciIsInZhbHVlIiwidGV4dCIsInRvb2xib3hDb21wb25lbnQiLCJhcGkiLCJzdG9yZSIsInNhdmVUbyIsInJlcXVpcmVkUGFyYW1zIiwiYWNxdWlyZSIsImlpIiwicGFyYW0iLCJhcmd1bWVudHMiLCJjaGFydEluc3RhbmNlIiwiYXBpSW5zdGFuY2UiLCJnZXRDb21wb25lbnRTdG9yZSIsImdldENhbnZhc0J5SW5kZXgiLCJpbXBsIiwiZ2V0RGF0YUFnZ3JlZ2F0b3IiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwidG9vbGJhcnMiLCJtZWFzdXJlbWVudCIsImNyZWF0ZVRvb2xiYXIiLCJncm91cCIsInRvb2xiYXIiLCJ0aW1lTXVsU2VsZWN0TWVudSIsInRpbWVQZXJpb2RTZWxlY3RNZW51IiwiYWdnTWV0aG9kU2VsZWN0TWVudSIsInJlc2V0QnV0dG9uIiwiYXBwbHlCdXR0b24iLCJsYWJlbCIsInRvb2xib3hDb21wQ29uZmlnIiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwiZ3JhcGhpY3MiLCJwYXBlciIsImNvbnRhaW5lciIsImNoYXJ0Iiwic21hcnRMYWJlbCIsIm11bHRpcGxpZXJWYWwiLCJ0aW1lTXVsU2VsZWN0TWVudU9wdCIsInNlbGVjdE1lbnVDb25maWciLCJkcm9wRG93bk1lbnVTdHlsZSIsImJ1dHRvbkNvbmZpZyIsImRlcGVuZGVuY2llcyIsImNoYXJ0Q29udGFpbmVyIiwiYXBwbHkiLCJzZXQiLCJ0aW1lUGVyaW9kVmFsIiwidGltZVBlcmlvZE11bHRpcGxpZXJWYWwiLCJhZ2dNZXRob2RTZWxlY3RNZW51VmFsIiwia2V5cyIsInRpbWVJbnRlcnZhbCIsImFnZ3JlZ2F0aW9uIiwiY2FudmFzIiwiTnVtYmVyIiwibG9jayIsInVubG9jayIsInVwZGF0ZVZpc3VhbCIsInJlc2V0QWdncmVnYXRpb24iLCJ0aW1lUGVyaW9kT25DaGFuZ2UiLCJwcmV2VGltZVBlcm9pZE11bFZhbCIsImluZGV4T2ZUaW1lVW5pdCIsImluZGV4T2ZUaW1lTXVsIiwiaW5kZXhPZiIsInRvU3RyaW5nIiwidXBkYXRlTGlzdCIsIm9uQ2hhbmdlIiwidHlwZSIsImN1cnJlbnRBZ2ciLCJnZXRDdXJyZW50QWdncmVhdGlvbiIsInNldENvbmZpZyIsImZpbGwiLCJib3JkZXJUaGlja25lc3MiLCJkaXNhYmxlZCIsInN0cm9rZSIsImxhYmVsRmlsbCIsInNlbGVjdGVkIiwic3R5bGUiLCJub3JtYWwiLCJob3ZlciIsIkxhYmVsIiwiU2VsZWN0U3ltYm9sIiwid2lkdGgiLCJoZWlnaHQiLCJob3ZlckZpbGwiLCJob3ZlclN0cm9rZSIsImhvdmVyU3Ryb2tlV2lkdGgiLCJzdHJva2VXaWR0aCIsInJhZGl1cyIsInN5bWJvbFN0cm9rZVdpZHRoIiwiYnRuVGV4dFN0eWxlIiwiZm9udFNpemUiLCJkcm9wRG93bk1lbnUiLCJzZXRTdGF0ZUNvbmZpZyIsIlN5bWJvbCIsImF0dGFjaEV2ZW50SGFuZGxlcnMiLCJjbGljayIsImFkZFN5bWJvbCIsIngiLCJ5IiwicmFkIiwidyIsImgiLCJwYWRYIiwicGFkWSIsIngxIiwieDIiLCJ5MSIsInkyIiwidGV4dE9uQ2hhbmdlIiwiYWRkQ29tcG9uZW50IiwiYXZhaWxhYmxlV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJsb2dpY2FsU3BhY2UiLCJsbiIsImdldExvZ2ljYWxTcGFjZSIsIk1hdGgiLCJtYXgiLCJwYWRkaW5nIiwiY29udGFpbmVySW5zdGFuY2UiLCJzcGFjZU1hbmFnZXJJbnN0YW5jZSIsImFkZCIsInJlZiIsIm9iaiIsInByaW9yaXR5IiwibGF5b3V0IiwiaW5saW5lIiwib3JpZW50YXRpb24iLCJob3Jpem9udGFsIiwicG9zaXRpb24iLCJ0b3AiLCJhbGlnbm1lbnQiLCJsZWZ0IiwiZGltZW5zaW9ucyIsInBhcmVudCIsImdldFBhcmVudENvbXBvbmVudEdyb3VwIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJtZXMiLCJwYXJlbnRHcm91cCIsInRpbWVQZXJpb2RTZWxlY3RNZW51T3B0IiwiYWdnVmFsIiwiYWdnTWV0aG9kU2VsZWN0TWVudU9wdCIsInJhbmdlT25DaGFuZ2UiLCJjdXJyZW50QWdncmVnYXRpb25PYmoiLCJnZXRWYWxpZEFnZ3JlZ2F0aW9uIiwiZGVmYXVsdEFnZ01ldGhvZCIsImdldEF2YWlsYWJsZWxBZ2dyZWFnYXRpb24iLCJ1bmRlZmluZWQiLCJkcmF3IiwiZ2V0RGVmYXVsdEFnZ3JlZ2F0aW9uTWV0aG9kIiwib25Qcm9wc0NoYW5nZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7QUN0Q0E7Ozs7QUFDQSxLQUFNQSxtQkFBbUIsbUJBQUFDLENBQVEsQ0FBUixDQUF6Qjs7QUFFQSxFQUFDLENBQUMsVUFBVUMsR0FBVixFQUFlQyxPQUFmLEVBQXdCO0FBQ3hCLE9BQUksZ0NBQU9DLE1BQVAsT0FBa0IsUUFBbEIsSUFBOEJBLE9BQU9DLE9BQXpDLEVBQWtEO0FBQ2hERCxZQUFPQyxPQUFQLEdBQWlCSCxJQUFJSSxRQUFKLEdBQ1pILFFBQVFELEdBQVIsQ0FEWSxHQUNHLFVBQVVLLEdBQVYsRUFBZTtBQUM5QixXQUFJLENBQUNBLElBQUlELFFBQVQsRUFBbUI7QUFDakIsZUFBTSxJQUFJRSxLQUFKLENBQVUsa0NBQVYsQ0FBTjtBQUNEO0FBQ0QsY0FBT0wsUUFBUUksR0FBUixFQUFhLElBQWIsQ0FBUDtBQUNELE1BTko7QUFPRCxJQVJELE1BUU87QUFDTEwsU0FBSU8sVUFBSixHQUFpQk4sUUFBUUQsR0FBUixFQUFhLElBQWIsQ0FBakI7QUFDRDtBQUNGLEVBWkEsRUFZRSxPQUFPUSxNQUFQLEtBQWtCLFdBQWxCLEdBQWdDQSxNQUFoQyxZQVpGLEVBWWlELFVBQVVDLE9BQVYsRUFBbUJDLFlBQW5CLEVBQWlDO0FBQ2pGLE9BQUlDLEtBQUtGLFFBQVFHLFlBQWpCOztBQUVBRCxNQUFHRSxRQUFILENBQVksV0FBWixFQUF5QixDQUFDLFNBQUQsRUFBWSxpQkFBWixFQUErQixZQUFZO0FBQ2xFRixRQUFHRyxpQkFBSCxDQUFxQixZQUFyQixFQUFtQyxpQkFBbkMsRUFBc0RoQixpQkFBaUIsRUFBQ2EsSUFBSUEsRUFBTCxFQUFqQixDQUF0RDtBQUNELElBRndCLENBQXpCO0FBR0QsRUFsQkEsRTs7Ozs7OztBQ0hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDVEE7Ozs7OztBQUVBVCxRQUFPQyxPQUFQLEdBQWlCLFVBQVVZLEdBQVYsRUFBZTtBQUM5Qjs7O0FBRDhCLE9BSXhCUixVQUp3QjtBQUs1Qjs7Ozs7OztBQU9BLDJCQUFlO0FBQUE7O0FBQ2I7OztBQUdBLFlBQUtTLGtCQUFMLEdBQTBCO0FBQ3hCQyxrQkFBUyxJQURlO0FBRXhCQyw0QkFBbUI7QUFGSyxRQUExQjtBQUlBLFlBQUtDLE1BQUwsR0FBYyxFQUFkO0FBQ0Q7O0FBRUQ7Ozs7OztBQXZCNEI7QUFBQTs7O0FBcUM1Qjs7OztBQXJDNEIsbURBeUNDO0FBQzNCLGFBQUlBLFNBQVMsS0FBS0EsTUFBbEI7QUFBQSxhQUNFQyxVQUFVRCxPQUFPQyxPQURuQjtBQUFBLGFBRUVDLGlCQUFpQkYsT0FBT0UsY0FBUCxHQUF3QkQsUUFBUUUsdUJBQVIsRUFGM0M7QUFBQSxhQUdFQyxDQUhGO0FBQUEsYUFJRUMsR0FKRjs7QUFNQUwsZ0JBQU9NLGlCQUFQLEdBQTJCLEVBQTNCO0FBQ0FELGVBQU1ILGVBQWVLLE1BQXJCOztBQUVBLGNBQUtILElBQUksQ0FBVCxFQUFZQSxJQUFJQyxHQUFoQixFQUFxQkQsR0FBckIsRUFBMEI7QUFDeEJKLGtCQUFPTSxpQkFBUCxDQUF5QkUsSUFBekIsQ0FBOEJOLGVBQWVFLENBQWYsRUFBa0JLLGVBQWhEO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7QUF4RDRCO0FBQUE7QUFBQSw2Q0E0REw7QUFDckIsYUFBSUMsT0FBTyxJQUFYO0FBQUEsYUFDRVYsU0FBU1UsS0FBS1YsTUFEaEI7QUFBQSxhQUVFVyxXQUFXRCxLQUFLQyxRQUZsQjtBQUFBLGFBR0VWLFVBQVVELE9BQU9DLE9BSG5CO0FBQUEsYUFJRUcsQ0FKRjtBQUFBLGFBS0VRLENBTEY7QUFBQSxhQU1FQyxJQU5GO0FBQUEsYUFPRUMsSUFQRjtBQUFBLGFBUUVaLGNBUkY7QUFBQSxhQVNFSSxpQkFURjs7QUFVRTtBQUNBUyx3QkFBZWYsT0FBT2dCLFdBQVAsQ0FBbUJDLGFBQW5CLENBQWlDQyxLQUFqQyxDQUF1QyxnQkFBdkMsQ0FYakI7QUFBQSxhQVlFQyxjQVpGO0FBQUEsYUFhRUMsaUJBYkY7QUFBQSxhQWNFQyxVQWRGO0FBQUEsYUFlRUMsSUFmRjtBQUFBLGFBZ0JFQyxZQWhCRjtBQUFBLGFBaUJFQyxVQWpCRjtBQUFBLGFBa0JFQyxVQWxCRjtBQW1CRTs7QUFFRnpCLGdCQUFPb0IsaUJBQVAsR0FBMkJULFNBQVNlLG1CQUFULENBQTZCUixLQUE3QixDQUFtQywwQkFBbkMsSUFDekJQLFNBQVNlLG1CQUFULENBQTZCUixLQUE3QixDQUFtQyw0QkFBbkMsQ0FERjs7QUFHQWhCLDBCQUFpQkYsT0FBT0UsY0FBeEI7QUFDQUksNkJBQW9CTixPQUFPTSxpQkFBM0I7QUFDQWMsNkJBQW9CcEIsT0FBT29CLGlCQUEzQjs7QUFFQXBCLGdCQUFPeUIsVUFBUCxHQUFvQkEsYUFBYUwsb0JBQW9CTCxZQUFyRDtBQUNBOztBQUVBZixnQkFBTzJCLGVBQVAsR0FBeUIsRUFBekI7QUFDQTNCLGdCQUFPNEIseUJBQVAsR0FBbUMsRUFBbkM7QUFDQTVCLGdCQUFPNkIsYUFBUCxHQUF1QjVCLFFBQVE2Qix1QkFBUixFQUF2Qjs7QUFFQSxjQUFLMUIsSUFBSSxDQUFKLEVBQU9TLE9BQU9YLGVBQWVLLE1BQWxDLEVBQTBDSCxJQUFJUyxJQUE5QyxFQUFvRFQsR0FBcEQsRUFBeUQ7QUFDdkRpQix3QkFBYW5CLGVBQWVFLENBQWYsRUFBa0IyQixJQUEvQjtBQUNBVCxrQkFBT3BCLGVBQWVFLENBQWYsRUFBa0I0QixRQUF6QjtBQUNBYiw0QkFBaUIsRUFBakI7O0FBRUEsZ0JBQUtQLElBQUksQ0FBSixFQUFPRSxPQUFPUixrQkFBa0JGLENBQWxCLEVBQXFCRyxNQUF4QyxFQUFnREssSUFBSUUsSUFBcEQsRUFBMERGLEdBQTFELEVBQStEO0FBQzdEWSwwQkFBYWxCLGtCQUFrQkYsQ0FBbEIsRUFBcUJRLENBQXJCLENBQWI7QUFDQVcsNEJBQWVDLGFBQWFGLElBQTVCOztBQUVBO0FBQ0EsaUJBQUtDLGdCQUFnQkUsVUFBckIsRUFBa0M7QUFDaENOLDhCQUFlWCxJQUFmLENBQW9CRixrQkFBa0JGLENBQWxCLEVBQXFCUSxDQUFyQixDQUFwQjtBQUNEO0FBQ0Y7QUFDRCxlQUFJTyxlQUFlWixNQUFmLEdBQXdCLENBQTVCLEVBQStCO0FBQzdCUCxvQkFBTzRCLHlCQUFQLENBQWlDcEIsSUFBakMsQ0FBc0NXLGNBQXRDO0FBQ0FuQixvQkFBTzJCLGVBQVAsQ0FBdUJuQixJQUF2QixDQUE0QmEsVUFBNUI7QUFDRDtBQUNGO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Q7QUF0SDJCO0FBQUE7QUFBQSw4Q0F3SEo7QUFDdEIsYUFBSVgsT0FBTyxJQUFYO0FBQUEsYUFDRVYsU0FBU1UsS0FBS1YsTUFEaEI7QUFBQSxhQUVFQyxVQUFVRCxPQUFPQyxPQUZuQjtBQUFBLGFBR0VlLGNBQWNoQixPQUFPZ0IsV0FIdkI7QUFBQSxhQUlFRSxRQUFRRixZQUFZQyxhQUp0QjtBQUFBLGFBS0VnQixnQkFMRjtBQUFBLGFBTUVDLGdCQU5GO0FBQUEsYUFPRXBDLE9BUEY7O0FBU0FBLG1CQUFVb0IsTUFBTWlCLElBQU4sQ0FBVyxVQUFYLElBQXlCLENBQW5DOztBQUVBLGFBQUlDLFNBQVN0QyxPQUFULENBQUosRUFBdUI7QUFDckJFLGtCQUFPcUMsWUFBUCxHQUFzQixJQUF0QjtBQUNBSCw4QkFBbUJqQyxRQUFRcUMsU0FBUixDQUFrQkMsbUJBQWxCLENBQXNDekMsT0FBdEMsQ0FBbkI7QUFDQW1DLDhCQUFtQmYsTUFBTWlCLElBQU4sQ0FBVyxnQkFBWCxDQUFuQjtBQUNELFVBSkQsTUFJTztBQUNMbkMsa0JBQU9xQyxZQUFQLEdBQXNCLEtBQXRCO0FBQ0FILDhCQUFtQjtBQUNqQkgsbUJBQU0sRUFEVztBQUVqQlMsbUJBQU07QUFGVyxZQUFuQjtBQUlBeEMsa0JBQU8yQixlQUFQLEdBQXlCLENBQUNPLGlCQUFpQkgsSUFBbEIsQ0FBekI7QUFDQS9CLGtCQUFPNEIseUJBQVAsR0FBbUMsQ0FBQyxDQUFDTSxpQkFBaUJNLElBQWxCLENBQUQsQ0FBbkM7QUFDQXhDLGtCQUFPNkIsYUFBUCxHQUF1QjtBQUNyQix3QkFBVztBQUNUWSwyQkFBWSxFQURIO0FBRVRDLHlCQUFVO0FBRkQ7QUFEVSxZQUF2QjtBQU1BVCw4QkFBbUJqQyxPQUFPNkIsYUFBUCxDQUFxQixTQUFyQixDQUFuQjtBQUNEOztBQUVELGdCQUFPO0FBQ0xSLHVCQUFZYSxpQkFBaUJILElBRHhCO0FBRUxZLGlDQUFzQlQsaUJBQWlCTSxJQUZsQztBQUdMekMsOEJBQW1CO0FBQ2pCNkMsb0JBQU9YLGlCQUFpQlMsUUFEUDtBQUVqQkcsbUJBQU1aLGlCQUFpQlE7QUFGTjtBQUhkLFVBQVA7QUFRRDtBQWpLMkI7QUFBQTtBQUFBLDRCQW1LdEI3RCxPQW5Lc0IsRUFtS2I7QUFDYixhQUFJOEIsT0FBTyxJQUFYO0FBQUEsYUFDRVYsU0FBU1UsS0FBS1YsTUFEaEI7QUFBQSxhQUVFOEMsbUJBQW1COUMsT0FBTzhDLGdCQUFQLEdBQTBCLEVBRi9DO0FBQUEsYUFHRUMsR0FIRjtBQUFBLGFBSUVDLEtBSkY7QUFBQSxhQUtFaEMsV0FMRjtBQUFBLGFBTUVpQyxTQUFTLFVBTlg7QUFBQSxhQU9FQyxpQkFBaUIsQ0FDZixVQURlLEVBRWYscUJBRmUsRUFHZixPQUhlLEVBSWYsc0JBSmUsRUFLZixlQUxlLEVBTWYsWUFOZSxFQU9mLFNBQVNDLE9BQVQsR0FBb0I7QUFDbEIsZUFBSS9DLElBQUksQ0FBUjtBQUFBLGVBQ0VnRCxLQUFLRixlQUFlM0MsTUFBZixHQUF3QixDQUQvQjtBQUFBLGVBRUU4QyxRQUFRLEVBRlY7QUFHQTNDLGdCQUFLdUMsTUFBTCxJQUFldkMsS0FBS3VDLE1BQUwsS0FBZ0IsRUFBL0I7QUFDQXZDLGdCQUFLd0MsY0FBTCxHQUFzQixFQUF0QjtBQUNBLGdCQUFLOUMsSUFBSSxDQUFULEVBQVlBLElBQUlnRCxFQUFoQixFQUFvQixFQUFFaEQsQ0FBdEIsRUFBeUI7QUFDdkJpRCxxQkFBUUgsZUFBZTlDLENBQWYsQ0FBUjtBQUNBTSxrQkFBS3VDLE1BQUwsRUFBYUksS0FBYixJQUFzQkMsVUFBVWxELENBQVYsQ0FBdEI7QUFDRDtBQUNEO0FBQ0QsVUFsQmMsQ0FQbkI7QUEyQkF4QixpQkFBUXNFLGNBQVI7O0FBRUFILGVBQU1yQyxLQUFLQyxRQUFMLENBQWM0QyxhQUFkLENBQTRCQyxXQUFsQztBQUNBUixpQkFBUUQsSUFBSVUsaUJBQUosRUFBUjtBQUNBekQsZ0JBQU9nQixXQUFQLEdBQXFCQSxjQUFjZ0MsTUFBTVUsZ0JBQU4sQ0FBdUIsQ0FBdkIsRUFBMEIxQyxXQUE3RDtBQUNBaEIsZ0JBQU9DLE9BQVAsR0FBaUJlLFlBQVkyQyxJQUFaLENBQWlCQyxpQkFBakIsRUFBakI7O0FBRUFkLDBCQUFpQmUsT0FBakIsR0FBMkJqRSxJQUFJSixFQUFKLENBQU9zRSxZQUFQLENBQW9CLEtBQXBCLEVBQTJCLFNBQTNCLENBQTNCO0FBQ0FoQiwwQkFBaUI5QyxNQUFqQixHQUEwQixFQUExQjs7QUFFQVUsY0FBS3FELFFBQUwsR0FBZ0IsRUFBaEI7O0FBRUFyRCxjQUFLc0QsV0FBTCxHQUFtQixFQUFuQjs7QUFFQXRELGNBQUtxRCxRQUFMLENBQWN2RCxJQUFkLENBQW1CRSxLQUFLdUQsYUFBTCxFQUFuQjs7QUFFQTVFLGdCQUFPRCxVQUFQLEdBQW9Cc0IsSUFBcEI7QUFDQSxnQkFBT0EsSUFBUDtBQUNEO0FBak4yQjtBQUFBO0FBQUEsdUNBbU5YO0FBQ2YsYUFBSUEsT0FBTyxJQUFYO0FBQUEsYUFDRXdELEtBREY7QUFBQSxhQUVFQyxPQUZGO0FBQUEsYUFHRUMsaUJBSEY7QUFBQSxhQUlFQyxvQkFKRjtBQUFBLGFBS0VDLG1CQUxGO0FBQUEsYUFNRUMsV0FORjtBQUFBLGFBT0VDLFdBUEY7QUFBQSxhQVFFeEUsU0FBU1UsS0FBS1YsTUFSaEI7QUFBQSxhQVNFVyxXQUFXRCxLQUFLQyxRQVRsQjtBQUFBLGFBVUU4RCxLQVZGO0FBQUEsYUFZRTNCLG1CQUFtQjlDLE9BQU84QyxnQkFaNUI7QUFBQSxhQWFFZSxVQUFVZixpQkFBaUJlLE9BYjdCO0FBQUEsYUFjRWEsb0JBQW9CNUIsaUJBQWlCOUMsTUFkdkM7QUFBQSxhQWVFMkUsb0JBQW9CZCxRQUFRYyxpQkFmOUI7QUFBQSxhQWdCRUMsaUJBQWlCZixRQUFRZSxjQWhCM0I7QUFBQSxhQWlCRUMsY0FBY2hCLFFBQVFnQixXQWpCeEI7QUFBQSxhQW1CRUMsV0FBV25FLFNBQVNtRSxRQW5CdEI7QUFBQSxhQW9CRUMsUUFBUUQsU0FBU0MsS0FwQm5CO0FBQUEsYUFxQkVDLFlBQVlGLFNBQVNFLFNBckJ2QjtBQUFBLGFBc0JFQyxRQUFRdEUsU0FBU3NFLEtBdEJuQjtBQUFBLGFBdUJFQyxhQUFhdkUsU0FBU3VFLFVBdkJ4QjtBQUFBLGFBeUJFQyxhQXpCRjtBQUFBLGFBMEJFQyxvQkExQkY7QUFBQSxhQTJCRUMsZ0JBM0JGO0FBQUEsYUE0QkVDLGlCQTVCRjtBQUFBLGFBNkJFQyxZQTdCRjtBQUFBLGFBK0JFQyxlQUFlO0FBQ2JULGtCQUFPQSxLQURNO0FBRWJFLGtCQUFPQSxLQUZNO0FBR2JDLHVCQUFZQSxVQUhDO0FBSWJPLDJCQUFnQlQ7QUFKSCxVQS9CakI7QUFBQSxhQXFDRVUsUUFBUSxTQUFSQSxLQUFRLENBQUNDLEdBQUQsRUFBUztBQUNmLGVBQUl6RSxRQUFRbEIsT0FBT2dCLFdBQVAsQ0FBbUJDLGFBQS9CO0FBQUEsZUFDRTJFLGdCQUFnQnZCLHFCQUFxQnpCLEtBQXJCLEVBRGxCO0FBQUEsZUFFRWlELDBCQUEwQnpCLGtCQUFrQnhCLEtBQWxCLEVBRjVCO0FBQUEsZUFHRWtELHlCQUF5QnhCLG9CQUFvQjFCLEtBQXBCLEVBSDNCO0FBQUEsZUFJRW1ELElBSkY7QUFBQSxlQUtFakcsT0FMRjtBQUFBLGVBTUVrRyxZQU5GO0FBQUEsZUFPRUMsY0FBY3ZGLEtBQUt1RixXQVByQjtBQUFBLGVBUUVDLFNBQVNsRyxPQUFPZ0IsV0FBUCxDQUFtQjJDLElBUjlCOztBQURlO0FBQUE7QUFBQTs7QUFBQTtBQVdmLGtDQUFhM0QsT0FBT0UsY0FBcEIsOEhBQW9DO0FBQS9CNkYsbUJBQStCOztBQUNsQyxtQkFBSUEsS0FBS2hFLElBQUwsS0FBYzZELGFBQWxCLEVBQWlDO0FBQy9CSSxnQ0FBZUQsS0FBSy9ELFFBQXBCO0FBQ0E7QUFDRDtBQUNGO0FBaEJjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBaUJmbEMscUJBQVVrRyxlQUFlRyxPQUFPTix1QkFBUCxDQUF6QjtBQUNBLGVBQUlGLE9BQU92RCxTQUFTbEIsTUFBTWlCLElBQU4sQ0FBVyxVQUFYLENBQVQsQ0FBWCxFQUE2QztBQUMzQ2pCLG1CQUNHa0YsSUFESCxHQUVHakUsSUFGSCxDQUVRLGNBRlIsRUFFd0JyQyxPQUZ4QixFQUdHcUMsSUFISCxDQUdRLG9CQUhSLEVBRzhCbkMsT0FBTzZCLGFBQVAsQ0FBcUJpRSxzQkFBckIsQ0FIOUIsRUFJR08sTUFKSDtBQUtBSix5QkFBWW5HLE9BQVosR0FBc0JBLE9BQXRCO0FBQ0FtRyx5QkFBWWxHLGlCQUFaLEdBQWdDK0Ysc0JBQWhDO0FBQ0F0Qix5QkFBWThCLFlBQVosQ0FBeUIsVUFBekI7QUFDQS9CLHlCQUFZK0IsWUFBWixDQUF5QixTQUF6QjtBQUNELFlBVkQsTUFVTztBQUNMSixvQkFBT0ssZ0JBQVA7QUFDQU4seUJBQVluRyxPQUFaLEdBQXNCLElBQXRCO0FBQ0FtRyx5QkFBWWxHLGlCQUFaLEdBQWdDLElBQWhDO0FBQ0F3RSx5QkFBWStCLFlBQVosQ0FBeUIsVUFBekI7QUFDRDtBQUNGLFVBdkVIO0FBQUEsYUF5RUVFLHFCQUFxQixTQUFyQkEsa0JBQXFCLEdBQU07QUFDekIsZUFBSVosZ0JBQWdCdkIscUJBQXFCekIsS0FBckIsRUFBcEI7QUFBQSxlQUNFaUQsMEJBQTBCekIsa0JBQWtCeEIsS0FBbEIsRUFENUI7QUFBQSxlQUVFNkQsdUJBQXVCWix1QkFGekI7QUFBQSxlQUdFbEUsa0JBQWtCM0IsT0FBTzJCLGVBSDNCO0FBQUEsZUFJRUMsNEJBQTRCNUIsT0FBTzRCLHlCQUpyQztBQUFBLGVBS0U4RSxlQUxGO0FBQUEsZUFNRUMsY0FORjs7QUFRQUQsNkJBQWtCL0UsZ0JBQWdCaUYsT0FBaEIsQ0FBd0JoQixhQUF4QixDQUFsQjtBQUNBZSw0QkFBaUIvRSwwQkFBMEI4RSxlQUExQixFQUEyQ0UsT0FBM0MsQ0FBbURULE9BQU9OLHVCQUFQLENBQW5ELENBQWpCOztBQUVBVCxrQ0FBdUIsRUFBdkI7QUFaeUI7QUFBQTtBQUFBOztBQUFBO0FBYXpCLG1DQUFzQnhELDBCQUEwQjhFLGVBQTFCLENBQXRCLG1JQUFrRTtBQUE3RHZCLDRCQUE2RDs7QUFDaEVDLG9DQUFxQjVFLElBQXJCLENBQTBCO0FBQ3hCdUIsdUJBQU1vRCxjQUFjMEIsUUFBZCxFQURrQjtBQUV4QmpFLHdCQUFPdUMsY0FBYzBCLFFBQWQ7QUFGaUIsZ0JBQTFCO0FBSUQ7QUFsQndCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBb0J6QnpDLDZCQUFrQjBDLFVBQWxCLENBQTZCMUIsb0JBQTdCOztBQUVBLGVBQUl1QixpQkFBaUIsQ0FBckIsRUFBd0I7QUFDdEJ2QywrQkFBa0J4QixLQUFsQixDQUF3QmhCLDBCQUEwQjhFLGVBQTFCLEVBQTJDLENBQTNDLEVBQThDRyxRQUE5QyxFQUF4QjtBQUNELFlBRkQsTUFFTztBQUNMekMsK0JBQWtCeEIsS0FBbEIsQ0FBd0I2RCxvQkFBeEI7QUFDRDtBQUNGLFVBcEdIO0FBQUEsYUFzR0VNLFdBQVcsU0FBWEEsUUFBVyxDQUFDQyxJQUFELEVBQVU7QUFDbkIsZUFBSUMsYUFBYXZHLEtBQUt3RyxvQkFBTCxFQUFqQjs7QUFFQSxtQkFBUUYsSUFBUjtBQUNFLGtCQUFLLENBQUw7QUFDRSxtQkFBSUMsV0FBV3RFLG9CQUFYLENBQWdDa0UsUUFBaEMsT0FBK0N6QyxrQkFBa0J4QixLQUFsQixFQUFuRCxFQUE4RTtBQUM1RTRCLDZCQUFZOEIsWUFBWixDQUF5QixTQUF6QjtBQUNELGdCQUZELE1BRU87QUFDTDlCLDZCQUFZOEIsWUFBWixDQUF5QixVQUF6QjtBQUNEO0FBQ0Q7QUFDRixrQkFBSyxDQUFMO0FBQ0UsbUJBQUlXLFdBQVc1RixVQUFYLEtBQTBCZ0QscUJBQXFCekIsS0FBckIsRUFBOUIsRUFBNEQ7QUFDMUQ0Qiw2QkFBWThCLFlBQVosQ0FBeUIsU0FBekI7QUFDRCxnQkFGRCxNQUVPO0FBQ0w5Qiw2QkFBWThCLFlBQVosQ0FBeUIsVUFBekI7QUFDRDtBQUNEO0FBQ0Ysa0JBQUssQ0FBTDtBQUNFLG1CQUFJVyxXQUFXbEgsaUJBQVgsQ0FBNkI2QyxLQUE3QixLQUF1QzBCLG9CQUFvQjFCLEtBQXBCLEVBQTNDLEVBQXdFO0FBQ3RFNEIsNkJBQVk4QixZQUFaLENBQXlCLFNBQXpCO0FBQ0QsZ0JBRkQsTUFFTztBQUNMOUIsNkJBQVk4QixZQUFaLENBQXlCLFVBQXpCO0FBQ0Q7QUFDRDtBQXJCSjtBQXVCRCxVQWhJSDs7QUFrSUFwQyxpQkFBUSxJQUFJVSxjQUFKLENBQW1CWSxZQUFuQixDQUFSO0FBQ0FyQixtQkFBVSxJQUFJUSxpQkFBSixDQUFzQmEsWUFBdEIsQ0FBVjs7QUFFQXRCLGVBQU1pRCxTQUFOLENBQWdCO0FBQ2RDLGlCQUFNLE1BRFE7QUFFZEMsNEJBQWlCO0FBRkgsVUFBaEI7O0FBS0FsRCxpQkFBUWdELFNBQVIsQ0FBa0I7QUFDaEJDLGlCQUFNLE1BRFU7QUFFaEJDLDRCQUFpQjtBQUZELFVBQWxCOztBQUtBaEMsNEJBQW1CO0FBQ2pCaUMscUJBQVU7QUFDUnRILHFCQUFRO0FBQ05zSCx5QkFBVTtBQUNSRix1QkFBTSxNQURFO0FBRVIsaUNBQWdCLENBRlI7QUFHUkcseUJBQVE7QUFIQTtBQURKO0FBREE7QUFETyxVQUFuQjs7QUFZQWhDLHdCQUFlO0FBQ2IrQixxQkFBVTtBQUNSdEgscUJBQVE7QUFDTnNILHlCQUFVO0FBQ1JGLHVCQUFNLFNBREU7QUFFUixpQ0FBZ0IsQ0FGUjtBQUdSRyx5QkFBUSxvQkFIQTtBQUlSQyw0QkFBVztBQUpIO0FBREo7QUFEQTtBQURHLFVBQWY7O0FBYUFsQyw2QkFBb0I7QUFDbEJtQyxxQkFBVTtBQUNSekMsd0JBQVc7QUFDVDBDLHNCQUFPO0FBQ0xOLHVCQUFNO0FBREQ7QUFERSxjQURIO0FBTVJ2RSxtQkFBTTtBQUNKNkUsc0JBQU87QUFDTE4sdUJBQU07QUFERDtBQURIO0FBTkUsWUFEUTtBQWFsQk8sbUJBQVE7QUFDTjNDLHdCQUFXO0FBQ1QwQyxzQkFBTztBQUNMTix1QkFBTTtBQUREO0FBREUsY0FETDtBQU1OdkUsbUJBQU07QUFDSjZFLHNCQUFPO0FBQ0xOLHVCQUFNO0FBREQ7QUFESDtBQU5BLFlBYlU7QUF5QmxCUSxrQkFBTztBQUNMNUMsd0JBQVc7QUFDVDBDLHNCQUFPO0FBQ0xOLHVCQUFNO0FBREQ7QUFERSxjQUROO0FBTUx2RSxtQkFBTTtBQUNKNkUsc0JBQU87QUFDTE4sdUJBQU07QUFERDtBQURIO0FBTkQ7QUF6QlcsVUFBcEI7O0FBdUNBM0MsaUJBQVEsSUFBSVosUUFBUWdFLEtBQVosQ0FBa0IsaUJBQWxCLEVBQXFDckMsWUFBckMsRUFBbUQ7QUFDekQzQyxpQkFBTTtBQUNKNkUsb0JBQU87QUFDTCw0QkFBYSxJQURSO0FBRUwsdUJBQVE7QUFGSDtBQURIO0FBRG1ELFVBQW5ELENBQVI7O0FBU0FoRCwyQkFBa0JMLG9CQUFsQixHQUF5Q0EsdUJBQXVCLElBQUlSLFFBQVFpRSxZQUFaLENBQXlCO0FBQ3ZGQyxrQkFBTyxFQURnRjtBQUV2RkMsbUJBQVE7QUFGK0UsVUFBekIsRUFHN0R4QyxZQUg2RCxFQUcvQyxFQUgrQyxFQUczQztBQUNuQjRCLGlCQUFNLE1BRGE7QUFFbkJJLHNCQUFXLFNBRlE7QUFHbkJTLHNCQUFXLE1BSFE7QUFJbkJDLHdCQUFhLFNBSk07QUFLbkJDLDZCQUFrQixDQUxDO0FBTW5CQyx3QkFBYSxDQU5NO0FBT25CQyxtQkFBUSxDQVBXO0FBUW5CZCxtQkFBUSxTQVJXO0FBU25CZSw4QkFBbUIsQ0FUQTtBQVVuQkMseUJBQWM7QUFDWkMsdUJBQVU7QUFERSxZQVZLO0FBYW5CQyx5QkFBY25EO0FBYkssVUFIMkMsQ0FBaEU7QUFrQkFqQiw4QkFBcUJxRSxjQUFyQixDQUFvQ3JELGdCQUFwQzs7QUFFQVgsMkJBQWtCTixpQkFBbEIsR0FBc0NBLG9CQUFvQixJQUFJUCxRQUFRaUUsWUFBWixDQUF5QjtBQUNqRkMsa0JBQU8sRUFEMEU7QUFFakZDLG1CQUFRO0FBRnlFLFVBQXpCLEVBR3ZEeEMsWUFIdUQsRUFHekMsRUFIeUMsRUFHckM7QUFDbkI0QixpQkFBTSxNQURhO0FBRW5CSSxzQkFBVyxTQUZRO0FBR25CUyxzQkFBVyxNQUhRO0FBSW5CQyx3QkFBYSxTQUpNO0FBS25CQyw2QkFBa0IsQ0FMQztBQU1uQkMsd0JBQWEsQ0FOTTtBQU9uQkMsbUJBQVEsQ0FQVztBQVFuQmQsbUJBQVEsU0FSVztBQVNuQmUsOEJBQW1CLENBVEE7QUFVbkJDLHlCQUFjO0FBQ1pDLHVCQUFVO0FBREUsWUFWSztBQWFuQkMseUJBQWNuRDtBQWJLLFVBSHFDLENBQTFEO0FBa0JBbEIsMkJBQWtCc0UsY0FBbEIsQ0FBaUNyRCxnQkFBakM7O0FBRUFYLDJCQUFrQkosbUJBQWxCLEdBQXdDQSxzQkFBc0IsSUFBSVQsUUFBUWlFLFlBQVosQ0FBeUI7QUFDckZDLGtCQUFPLEVBRDhFO0FBRXJGQyxtQkFBUTtBQUY2RSxVQUF6QixFQUczRHhDLFlBSDJELEVBRzdDLEVBSDZDLEVBR3pDO0FBQ25CNEIsaUJBQU0sTUFEYTtBQUVuQkksc0JBQVcsU0FGUTtBQUduQlMsc0JBQVcsTUFIUTtBQUluQkMsd0JBQWEsU0FKTTtBQUtuQkMsNkJBQWtCLENBTEM7QUFNbkJDLHdCQUFhLENBTk07QUFPbkJDLG1CQUFRLENBUFc7QUFRbkJkLG1CQUFRLFNBUlc7QUFTbkJlLDhCQUFtQixDQVRBO0FBVW5CQyx5QkFBYztBQUNaQyx1QkFBVTtBQURFLFlBVks7QUFhbkJDLHlCQUFjbkQ7QUFiSyxVQUh5QyxDQUE5RDtBQWtCQWhCLDZCQUFvQm9FLGNBQXBCLENBQW1DckQsZ0JBQW5DOztBQUVBWCwyQkFBa0JGLFdBQWxCLEdBQWdDQSxjQUFjLElBQUlYLFFBQVE4RSxNQUFaLENBQW1CLE9BQW5CLEVBQTRCLElBQTVCLEVBQWtDbkQsWUFBbEMsRUFBZ0Q7QUFDNUY0QixpQkFBTSxNQURzRjtBQUU1Rkksc0JBQVcsU0FGaUY7QUFHNUZTLHNCQUFXLE1BSGlGO0FBSTVGSSxtQkFBUSxDQUpvRjtBQUs1Rk4sa0JBQU8sRUFMcUY7QUFNNUZDLG1CQUFRLEVBTm9GO0FBTzVGTyx5QkFBYztBQUNaQyx1QkFBVTtBQURFO0FBUDhFLFVBQWhELEVBVTNDSSxtQkFWMkMsQ0FVdkI7QUFDckJDLGtCQUFPLGlCQUFZO0FBQ2pCbkQsbUJBQU0sQ0FBTjtBQUNEO0FBSG9CLFVBVnVCLENBQTlDO0FBZUFsQixxQkFBWWtFLGNBQVosQ0FBMkJuRCxZQUEzQjs7QUFFQWIsMkJBQWtCSCxXQUFsQixHQUFnQ0EsY0FBYyxJQUFJVixRQUFROEUsTUFBWixDQUFtQixPQUFuQixFQUE0QixJQUE1QixFQUFrQ25ELFlBQWxDLEVBQWdEO0FBQzVGNEIsaUJBQU0sU0FEc0Y7QUFFNUZJLHNCQUFXLFNBRmlGO0FBRzVGUyxzQkFBVyxTQUhpRjtBQUk1RkksbUJBQVEsQ0FKb0Y7QUFLNUZOLGtCQUFPLEVBTHFGO0FBTTVGQyxtQkFBUSxFQU5vRjtBQU81Rk8seUJBQWM7QUFDWkMsdUJBQVU7QUFERTtBQVA4RSxVQUFoRCxFQVUzQ0ksbUJBVjJDLENBVXZCO0FBQ3JCQyxrQkFBTyxpQkFBWTtBQUNqQm5ELG1CQUFNLENBQU47QUFDRDtBQUhvQixVQVZ1QixDQUE5QztBQWVBbkIscUJBQVltRSxjQUFaLENBQTJCbkQsWUFBM0I7O0FBRUFyQixlQUFNNEUsU0FBTixDQUFnQnJFLEtBQWhCO0FBQ0FQLGVBQU00RSxTQUFOLENBQWdCMUUsaUJBQWhCO0FBQ0FGLGVBQU00RSxTQUFOLENBQWdCekUsb0JBQWhCO0FBQ0FILGVBQU00RSxTQUFOLENBQWdCeEUsbUJBQWhCO0FBQ0FKLGVBQU00RSxTQUFOLENBQWdCdEUsV0FBaEI7QUFDQU4sZUFBTTRFLFNBQU4sQ0FBZ0J2RSxXQUFoQjs7QUFFQU0scUJBQVluRixRQUFaLENBQXFCLGFBQXJCLEVBQW9DLFVBQVVxSixDQUFWLEVBQWFDLENBQWIsRUFBZ0JDLEdBQWhCLEVBQXFCQyxDQUFyQixFQUF3QkMsQ0FBeEIsRUFBMkJDLElBQTNCLEVBQWlDQyxJQUFqQyxFQUF1QztBQUN6RSxlQUFJQyxLQUFLUCxJQUFJRyxJQUFJLENBQVIsR0FBWUUsT0FBTyxDQUE1QjtBQUFBLGVBQ0VHLEtBQUtSLElBQUlHLElBQUksQ0FBUixHQUFZRSxPQUFPLENBRDFCO0FBQUEsZUFFRUksS0FBS1IsSUFBSUcsSUFBSSxDQUFSLEdBQVlFLE9BQU8sQ0FGMUI7QUFBQSxlQUdFSSxLQUFLVCxJQUFJRyxJQUFJLENBQVIsR0FBWUUsT0FBTyxDQUgxQjs7QUFLQSxrQkFBTyxDQUFDLEdBQUQsRUFBTUMsRUFBTixFQUFVRSxFQUFWLEVBQWMsR0FBZCxFQUFtQkQsRUFBbkIsRUFBdUJDLEVBQXZCLEVBQTJCLEdBQTNCLEVBQWdDRCxFQUFoQyxFQUFvQ0UsRUFBcEMsRUFBd0MsR0FBeEMsRUFBNkNILEVBQTdDLEVBQWlERyxFQUFqRCxFQUFxRCxHQUFyRCxDQUFQO0FBQ0QsVUFQRDs7QUFTQXBGLDhCQUFxQnVFLG1CQUFyQixDQUF5QztBQUN2Q2MseUJBQWMsd0JBQVk7QUFDeEJsRDtBQUNBTyxzQkFBUyxDQUFUO0FBQ0Q7QUFKc0MsVUFBekM7O0FBT0EzQywyQkFBa0J3RSxtQkFBbEIsQ0FBc0M7QUFDcENjLHlCQUFjLHdCQUFZO0FBQ3hCM0Msc0JBQVMsQ0FBVDtBQUNEO0FBSG1DLFVBQXRDOztBQU1BekMsNkJBQW9Cc0UsbUJBQXBCLENBQXdDO0FBQ3RDYyx5QkFBYyx3QkFBWTtBQUN4QjNDLHNCQUFTLENBQVQ7QUFDRDtBQUhxQyxVQUF4Qzs7QUFNQTVDLGlCQUFRd0YsWUFBUixDQUFxQnpGLEtBQXJCOztBQUVBLGdCQUFPQyxPQUFQO0FBQ0Q7QUFoakIyQjtBQUFBO0FBQUEsdUNBa2pCWHlGLGNBbGpCVyxFQWtqQktDLGVBbGpCTCxFQWtqQnNCO0FBQ2hELGFBQUlDLFlBQUo7QUFBQSxhQUNFL0IsUUFBUSxDQURWO0FBQUEsYUFFRUMsU0FBUyxDQUZYO0FBQUEsYUFHRTVILENBSEY7QUFBQSxhQUlFMkosRUFKRjs7QUFNQSxjQUFLM0osSUFBSSxDQUFKLEVBQU8ySixLQUFLLEtBQUtoRyxRQUFMLENBQWN4RCxNQUEvQixFQUF1Q0gsSUFBSTJKLEVBQTNDLEVBQStDM0osR0FBL0MsRUFBb0Q7QUFDbEQwSiwwQkFBZSxLQUFLL0YsUUFBTCxDQUFjM0QsQ0FBZCxFQUFpQjRKLGVBQWpCLEVBQWY7QUFDQWpDLG1CQUFRa0MsS0FBS0MsR0FBTCxDQUFTSixhQUFhL0IsS0FBdEIsRUFBNkJBLEtBQTdCLENBQVI7QUFDQUMscUJBQVU4QixhQUFhOUIsTUFBdkI7QUFDQSxnQkFBS2pFLFFBQUwsQ0FBYzNELENBQWQsRUFBaUIySCxLQUFqQixHQUF5QitCLGFBQWEvQixLQUF0QztBQUNBLGdCQUFLaEUsUUFBTCxDQUFjM0QsQ0FBZCxFQUFpQjRILE1BQWpCLEdBQTBCOEIsYUFBYTlCLE1BQXZDO0FBQ0Q7QUFDREEsbUJBQVUsS0FBS21DLE9BQWY7QUFDQSxnQkFBTztBQUNMcEMsa0JBQU9BLFFBQVE2QixjQUFSLEdBQXlCLENBQXpCLEdBQTZCN0IsS0FEL0I7QUFFTEMsbUJBQVFBLFNBQVM2QixlQUFULEdBQTJCLENBQTNCLEdBQStCN0I7QUFGbEMsVUFBUDtBQUlEO0FBcmtCMkI7QUFBQTtBQUFBLHFDQXVrQmJvQyxpQkF2a0JhLEVBdWtCTTtBQUNoQyxhQUFJMUosUUFBTyxJQUFYO0FBQUEsYUFDRUMsV0FBV0QsTUFBS0MsUUFEbEI7O0FBR0FELGVBQUt5SixPQUFMLEdBQWUsQ0FBZjtBQUNBeEosa0JBQVMwSixvQkFBVCxDQUE4QkMsR0FBOUIsQ0FBa0MsQ0FBQztBQUNqQ3ZJLGlCQUFNLGdCQUFZO0FBQ2hCLG9CQUFPLGdCQUFQO0FBQ0QsWUFIZ0M7QUFJakN3SSxnQkFBSyxhQUFVQyxHQUFWLEVBQWU7QUFDbEIsb0JBQU9BLElBQUksR0FBSixDQUFQO0FBQ0QsWUFOZ0M7QUFPakM5SixpQkFBTSxnQkFBWTtBQUNoQixvQkFBT0EsS0FBUDtBQUNELFlBVGdDO0FBVWpDK0oscUJBQVUsb0JBQVk7QUFDcEIsb0JBQU8sQ0FBUDtBQUNELFlBWmdDO0FBYWpDQyxtQkFBUSxnQkFBVUYsR0FBVixFQUFlO0FBQ3JCLG9CQUFPQSxJQUFJRyxNQUFYO0FBQ0QsWUFmZ0M7QUFnQmpDQyx3QkFBYSxDQUFDO0FBQ1o1RCxtQkFBTSxjQUFVd0QsR0FBVixFQUFlO0FBQ25CLHNCQUFPQSxJQUFJSyxVQUFYO0FBQ0QsY0FIVztBQUlaQyx1QkFBVSxDQUFDO0FBQ1Q5RCxxQkFBTSxjQUFVd0QsR0FBVixFQUFlO0FBQ25CLHdCQUFPQSxJQUFJTyxHQUFYO0FBQ0QsZ0JBSFE7QUFJVEMsMEJBQVcsQ0FBQztBQUNWaEUsdUJBQU0sY0FBVXdELEdBQVYsRUFBZTtBQUNuQiwwQkFBT0EsSUFBSVMsSUFBWDtBQUNELGtCQUhTO0FBSVZDLDZCQUFZLENBQUMsWUFBWTtBQUN2Qix1QkFBSUMsU0FBUyxLQUFLQyx1QkFBTCxFQUFiO0FBQ0EsMEJBQU8xSyxNQUFLc0osZUFBTCxDQUFxQm1CLE9BQU9FLFFBQVAsRUFBckIsRUFBd0NGLE9BQU9HLFNBQVAsRUFBeEMsQ0FBUDtBQUNELGtCQUhXO0FBSkYsZ0JBQUQ7QUFKRixjQUFEO0FBSkUsWUFBRDtBQWhCb0IsVUFBRCxDQUFsQztBQW9DRDtBQWhuQjJCO0FBQUE7QUFBQSwrQ0FrbkJIdkMsQ0FsbkJHLEVBa25CQUMsQ0FsbkJBLEVBa25CR2pCLEtBbG5CSCxFQWtuQlVDLE1BbG5CVixFQWtuQmtCOUQsS0FsbkJsQixFQWtuQnlCO0FBQ25ELGFBQUlxSCxNQUFNLEtBQUt2SCxXQUFmO0FBQ0F1SCxhQUFJeEMsQ0FBSixHQUFRQSxDQUFSO0FBQ0F3QyxhQUFJdkMsQ0FBSixHQUFRQSxDQUFSO0FBQ0F1QyxhQUFJeEQsS0FBSixHQUFZQSxLQUFaO0FBQ0F3RCxhQUFJdkQsTUFBSixHQUFhQSxNQUFiOztBQUVBLGNBQUt3RCxXQUFMLEdBQW1CdEgsS0FBbkI7O0FBRUEsZ0JBQU8sSUFBUDtBQUNEO0FBNW5CMkI7QUFBQTtBQUFBLDRCQThuQnRCNkUsQ0E5bkJzQixFQThuQm5CQyxDQTluQm1CLEVBOG5CaEJqQixLQTluQmdCLEVBOG5CVEMsTUE5bkJTLEVBOG5CRDlELEtBOW5CQyxFQThuQk07QUFDaEMsYUFBSXhELE9BQU8sSUFBWDtBQUFBLGFBQ0VWLFNBQVNVLEtBQUtWLE1BRGhCO0FBQUEsYUFFRTBFLG9CQUFvQjFFLE9BQU84QyxnQkFBUCxDQUF3QjlDLE1BRjlDO0FBQUEsYUFHRXFFLHVCQUF1Qkssa0JBQWtCTCxvQkFIM0M7QUFBQSxhQUlFRCxvQkFBb0JNLGtCQUFrQk4saUJBSnhDO0FBQUEsYUFLRUUsc0JBQXNCSSxrQkFBa0JKLG1CQUwxQztBQUFBLGFBTUVFLGNBQWNFLGtCQUFrQkYsV0FObEM7QUFBQSxhQU9FRCxjQUFjRyxrQkFBa0JILFdBUGxDO0FBQUEsYUFRRVAsY0FBY3RELEtBQUtzRCxXQVJyQjtBQUFBLGFBU0VELFdBQVdyRCxLQUFLcUQsUUFUbEI7QUFBQSxhQVVFZ0csRUFWRjtBQUFBLGFBV0UzSixDQVhGO0FBQUEsYUFZRStELE9BWkY7QUFBQSxhQWFFakQsUUFBUWxCLE9BQU9nQixXQUFQLENBQW1CQyxhQWI3QjtBQUFBLGFBY0VoQixVQUFVRCxPQUFPQyxPQWRuQjtBQUFBLGFBZ0JFMkYsYUFoQkY7QUFBQSxhQWlCRTZGLHVCQWpCRjtBQUFBLGFBa0JFOUosZUFsQkY7QUFBQSxhQW1CRStFLGVBbkJGO0FBQUEsYUFxQkV2QixhQXJCRjtBQUFBLGFBc0JFQyxvQkF0QkY7QUFBQSxhQXVCRXhELHlCQXZCRjtBQUFBLGFBeUJFOEosTUF6QkY7QUFBQSxhQTBCRUMsc0JBMUJGO0FBQUEsYUEyQkU5SixhQTNCRjtBQUFBLGFBNEJFK0osZ0JBQWdCLFNBQWhCQSxhQUFnQixHQUFNO0FBQ3BCLGVBQUkzRixjQUFjdkYsS0FBS3VGLFdBQXZCO0FBQUEsZUFDRTRGLHFCQURGO0FBQUEsZUFFRXhLLFVBRkY7QUFBQSxlQUdFc0Isb0JBSEY7QUFBQSxlQUlFNUMsaUJBSkY7O0FBTUFXLGdCQUFLb0wsbUJBQUw7QUFDQUQsbUNBQXdCbkwsS0FBS3dHLG9CQUFMLEVBQXhCO0FBQ0E3Rix3QkFBYXdLLHNCQUFzQnhLLFVBQW5DO0FBQ0FzQixrQ0FBdUJrSixzQkFBc0JsSixvQkFBN0M7QUFDQTVDLCtCQUFvQjhMLHNCQUFzQjlMLGlCQUExQzs7QUFFQTBMLHFDQUEwQixFQUExQjtBQUNBckcsa0NBQXVCLEVBQXZCO0FBQ0F1RyxvQ0FBeUIsRUFBekI7O0FBRUFoSyw2QkFBa0IzQixPQUFPMkIsZUFBekI7QUFDQUMsdUNBQTRCNUIsT0FBTzRCLHlCQUFuQztBQUNBQywyQkFBZ0I3QixPQUFPNkIsYUFBdkI7O0FBRUEyQyx1QkFBWThCLFlBQVosQ0FBeUIsVUFBekI7O0FBRUEsZUFBSUwsWUFBWW5HLE9BQVosS0FBd0JvQixNQUFNaUIsSUFBTixDQUFXLFVBQVgsQ0FBeEIsSUFDRnBDLGtCQUFrQjZDLEtBQWxCLEtBQTRCNUMsT0FBTytMLGdCQURyQyxFQUN1RDtBQUNyRDlGLHlCQUFZbkcsT0FBWixHQUFzQixJQUF0QjtBQUNBbUcseUJBQVlsRyxpQkFBWixHQUFnQyxJQUFoQztBQUNBd0UseUJBQVkrQixZQUFaLENBQXlCLFVBQXpCO0FBQ0QsWUFMRCxNQUtPO0FBQ0wvQix5QkFBWStCLFlBQVosQ0FBeUIsU0FBekI7QUFDRDs7QUFFRCxlQUFJLENBQUN0RyxPQUFPcUMsWUFBWixFQUEwQjtBQUN4QmdDLGtDQUFxQmlDLFlBQXJCLENBQWtDLFVBQWxDO0FBQ0FsQywrQkFBa0JrQyxZQUFsQixDQUErQixVQUEvQjtBQUNBaEMsaUNBQW9CZ0MsWUFBcEIsQ0FBaUMsVUFBakM7QUFDQS9CLHlCQUFZK0IsWUFBWixDQUF5QixVQUF6QjtBQUNELFlBTEQsTUFLTztBQUNMakMsa0NBQXFCaUMsWUFBckIsQ0FBa0MsU0FBbEM7QUFDQWxDLCtCQUFrQmtDLFlBQWxCLENBQStCLFNBQS9CO0FBQ0FoQyxpQ0FBb0JnQyxZQUFwQixDQUFpQyxTQUFqQztBQUNEOztBQXpDbUI7QUFBQTtBQUFBOztBQUFBO0FBMkNwQixtQ0FBc0IzRSxlQUF0QixtSUFBdUM7QUFBbENpRSw0QkFBa0M7O0FBQ3JDNkYsdUNBQXdCakwsSUFBeEIsQ0FBNkI7QUFDM0J1Qix1QkFBTTZELGFBRHFCO0FBRTNCaEQsd0JBQU9nRDtBQUZvQixnQkFBN0I7QUFJRDtBQWhEbUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFrRHBCdkIsZ0NBQXFCeUMsVUFBckIsQ0FBZ0MyRSx1QkFBaEM7QUFDQXBILGdDQUFxQnpCLEtBQXJCLENBQTJCdkIsVUFBM0I7O0FBRUFxRiw2QkFBa0IvRSxnQkFBZ0JpRixPQUFoQixDQUF3QnZGLFVBQXhCLENBQWxCOztBQUVBLGVBQUlxRixtQkFBbUIsQ0FBdkIsRUFBMEI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFDeEIscUNBQXNCOUUsMEJBQTBCOEUsZUFBMUIsQ0FBdEIsbUlBQWtFO0FBQTdEdkIsOEJBQTZEOztBQUNoRUMsc0NBQXFCNUUsSUFBckIsQ0FBMEI7QUFDeEJ1Qix5QkFBTW9ELGNBQWMwQixRQUFkLEVBRGtCO0FBRXhCakUsMEJBQU91QyxjQUFjMEIsUUFBZDtBQUZpQixrQkFBMUI7QUFJRDtBQU51QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT3pCOztBQUVEekMsNkJBQWtCMEMsVUFBbEIsQ0FBNkIxQixvQkFBN0I7QUFDQWhCLDZCQUFrQnhCLEtBQWxCLENBQXdCRCxxQkFBcUJrRSxRQUFyQixFQUF4Qjs7QUFFQSxnQkFBSzZFLE1BQUwsSUFBZTdKLGFBQWYsRUFBOEI7QUFDNUI4SixvQ0FBdUJuTCxJQUF2QixDQUE0QjtBQUMxQnVCLHFCQUFNRixjQUFjNkosTUFBZCxFQUFzQmpKLFVBREY7QUFFMUJHLHNCQUFPZixjQUFjNkosTUFBZCxFQUFzQmhKO0FBRkgsY0FBNUI7QUFJRDs7QUFFRDRCLCtCQUFvQndDLFVBQXBCLENBQStCNkUsc0JBQS9CO0FBQ0FySCwrQkFBb0IxQixLQUFwQixDQUEwQjdDLGtCQUFrQjZDLEtBQTVDO0FBQ0QsVUF4R0g7O0FBMEdBbEMsY0FBS3NMLHlCQUFMOztBQUVBakQsYUFBSUEsTUFBTWtELFNBQU4sR0FBa0JqSSxZQUFZK0UsQ0FBOUIsR0FBa0NBLENBQXRDO0FBQ0FDLGFBQUlBLE1BQU1pRCxTQUFOLEdBQWtCakksWUFBWWdGLENBQTlCLEdBQWtDQSxDQUF0QztBQUNBakIsaUJBQVFBLFVBQVVrRSxTQUFWLEdBQXNCakksWUFBWStELEtBQWxDLEdBQTBDQSxLQUFsRDtBQUNBQyxrQkFBU0EsV0FBV2lFLFNBQVgsR0FBdUJqSSxZQUFZZ0UsTUFBbkMsR0FBNENBLE1BQXJEO0FBQ0E5RCxpQkFBUUEsVUFBVStILFNBQVYsR0FBc0J2TCxLQUFLOEssV0FBM0IsR0FBeUN0SCxLQUFqRDtBQUNBLGFBQUk2RCxTQUFTQyxNQUFiLEVBQXFCO0FBQ25CLGdCQUFLNUgsSUFBSSxDQUFKLEVBQU8ySixLQUFLaEcsU0FBU3hELE1BQTFCLEVBQWtDSCxJQUFJMkosRUFBdEMsRUFBMEMzSixHQUExQyxFQUErQztBQUM3QytELHVCQUFVSixTQUFTM0QsQ0FBVCxDQUFWO0FBQ0ErRCxxQkFBUStILElBQVIsQ0FBYW5ELENBQWIsRUFBZ0JDLENBQWhCO0FBQ0Q7QUFDRjtBQUNENEM7QUFDQXBILHFCQUFZOEIsWUFBWixDQUF5QixVQUF6QjtBQUNBL0IscUJBQVkrQixZQUFaLENBQXlCLFVBQXpCO0FBQ0F0RyxnQkFBTytMLGdCQUFQLEdBQTBCOUwsUUFBUWtNLDJCQUFSLEdBQXNDekosUUFBaEU7O0FBRUF4QixlQUFNa0wsYUFBTixDQUFvQixDQUFDLFVBQUQsRUFBYSxnQkFBYixDQUFwQixFQUFvRFIsYUFBcEQ7QUFDRDtBQTV2QjJCO0FBQUE7QUFBQSxpQ0E4dkJqQjtBQUNUO0FBQ0Q7QUFod0IyQjtBQUFBO0FBQUEsMkJBMkJUO0FBQ2pCLGdCQUFPLEtBQUsvTCxrQkFBWjtBQUNELFFBN0IyQjtBQUFBLHlCQStCWDJLLEdBL0JXLEVBK0JOO0FBQ3BCLGNBQUszSyxrQkFBTCxDQUF3QndCLFVBQXhCLEdBQXFDbUosSUFBSW5KLFVBQXpDO0FBQ0EsY0FBS3hCLGtCQUFMLENBQXdCOEMsb0JBQXhCLEdBQStDNkgsSUFBSTdILG9CQUFuRDtBQUNBLGNBQUs5QyxrQkFBTCxDQUF3QkUsaUJBQXhCLEdBQTRDeUssSUFBSXpLLGlCQUFoRDtBQUNEO0FBbkMyQjs7QUFBQTtBQUFBOztBQWt3QjlCLFVBQU9YLFVBQVA7QUFDRCxFQW53QkQsQyIsImZpbGUiOiJmY3RzLWV4dC1kYXRhYWdncmVnYXRvci1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMjJlZWE3Mjc5NWJmN2E4YTI1MGMiLCIndXNlIHN0cmljdCc7XG5jb25zdCBBZ2dyZWdhdG9yR2V0dGVyID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1hZ2dyZWdhdG9yJyk7XG5cbjsoZnVuY3Rpb24gKGVudiwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGVudi5kb2N1bWVudFxuICAgICAgID8gZmFjdG9yeShlbnYpIDogZnVuY3Rpb24gKHdpbikge1xuICAgICAgICAgaWYgKCF3aW4uZG9jdW1lbnQpIHtcbiAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXaW5kb3cgd2l0aCBkb2N1bWVudCBub3QgcHJlc2VudCcpO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGZhY3Rvcnkod2luLCB0cnVlKTtcbiAgICAgICB9O1xuICB9IGVsc2Uge1xuICAgIGVudi5BZ2dyZWdhdG9yID0gZmFjdG9yeShlbnYsIHRydWUpO1xuICB9XG59KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIChfd2luZG93LCB3aW5kb3dFeGlzdHMpIHtcbiAgdmFyIEZDID0gX3dpbmRvdy5GdXNpb25DaGFydHM7XG5cbiAgRkMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsncHJpdmF0ZScsICdkYXRhLWFnZ3JlZ2F0b3InLCBmdW5jdGlvbiAoKSB7XG4gICAgRkMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnZGF0YS1hZ2dyZWdhdG9yJywgQWdncmVnYXRvckdldHRlcih7RkM6IEZDfSkpO1xuICB9XSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRlcCkge1xuICAvKipcbiAgICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRhIEFnZ3JlZ2F0b3IuXG4gICAqL1xuICBjbGFzcyBBZ2dyZWdhdG9yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBBZ2dyZWdhdG9yLlxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IEFnZ3JlZ2F0b3IuYWdncmVnYXRpb25cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdGltZVBlcmlvZCAtIFRoZSB0aW1lIGludGVydmFsIG9mIGFnZ3JlZ2F0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lUGVyaW9kTXVsdGlwbGllciAtIFRoZSBtdWx0aXBsaWVyIG9mIHRpbWUgaW50ZXJ2YWwuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGFnZ3JlZ2F0aW9uTWV0aG9kIC0gVGhlIG1ldGhvZCBhcHBsaWVkIHRvIGFnZ3JlZ2F0ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uID0ge1xuICAgICAgICBiaW5TaXplOiBudWxsLFxuICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZDogbnVsbFxuICAgICAgfTtcbiAgICAgIHRoaXMuY29uZmlnID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgdGltZVBlcmlvZCwgdGltZVBlcmlvZE11bHRpcGxpZXIsIGFnZ3JlZ2F0aW9uTWV0aG9kLlxuICAgICAqIEB0eXBlIHtBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9ufVxuICAgICAqL1xuICAgIGdldCBhZ2dyZWdhdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBsaWVkQWdncmVnYXRpb247XG4gICAgfVxuXG4gICAgc2V0IGFnZ3JlZ2F0aW9uIChvYmopIHtcbiAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2QgPSBvYmoudGltZVBlcmlvZDtcbiAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2RNdWx0aXBsaWVyID0gb2JqLnRpbWVQZXJpb2RNdWx0aXBsaWVyO1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24uYWdncmVnYXRpb25NZXRob2QgPSBvYmouYWdncmVnYXRpb25NZXRob2Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhdmFpbGFibGUgYWdncmVnYXRpb24gb3B0aW9ucyBpbiBjb25maWd1cmF0aW9uIG9mIGV4dGVuc2lvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0QXZhaWxhYmxlbEFnZ3JlYWdhdGlvbiAoKSB7XG4gICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWcsXG4gICAgICAgIGRhdGFBZ2cgPSBjb25maWcuZGF0YUFnZyxcbiAgICAgICAgYXZsVGltZVBlcmlvZHMgPSBjb25maWcuYXZsVGltZVBlcmlvZHMgPSBkYXRhQWdnLmdldEFnZ3JlZ2F0aW9uVGltZVJ1bGVzKCksXG4gICAgICAgIGksXG4gICAgICAgIGxlbjtcblxuICAgICAgY29uZmlnLmF2bFRpbWVNdWx0aXBsaWVyID0gW107XG4gICAgICBsZW4gPSBhdmxUaW1lUGVyaW9kcy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25maWcuYXZsVGltZU11bHRpcGxpZXIucHVzaChhdmxUaW1lUGVyaW9kc1tpXS5wb3NzaWJsZUZhY3RvcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdmFsaWQgYWdncmVnYXRpb24gdGltZSBwZXJpb2RzIGFuZCBjb3JyZXNwb25kaW5nIG11bHRpcGxpZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRWYWxpZEFnZ3JlZ2F0aW9uICgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRzT2JqZWN0ID0gc2VsZi50c09iamVjdCxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuICAgICAgICBpLFxuICAgICAgICBqLFxuICAgICAgICBsZW4xLFxuICAgICAgICBsZW4yLFxuICAgICAgICBhdmxUaW1lUGVyaW9kcyxcbiAgICAgICAgYXZsVGltZU11bHRpcGxpZXIsXG4gICAgICAgIC8vIG1pbk51bU9mUGxvdCA9IDUsXG4gICAgICAgIG1heE51bU9mUGxvdCA9IGNvbmZpZy5jb21wb3NpdGlvbi5yZWFjdGl2ZU1vZGVsLm1vZGVsWydtYXgtcGxvdC1wb2ludCddLFxuICAgICAgICBtdWx0aXBsaWVyc0FycixcbiAgICAgICAgY3VycmVudFRpbWVMZW5ndGgsXG4gICAgICAgIHRpbWVQZXJpb2QsXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGV4cGVjdGVkVGltZSxcbiAgICAgICAgbXVsdGlwbGllcixcbiAgICAgICAgbWluQmluU2l6ZTtcbiAgICAgICAgLy8gbWF4QmluU2l6ZTtcblxuICAgICAgY29uZmlnLmN1cnJlbnRUaW1lTGVuZ3RoID0gdHNPYmplY3QuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ10gLVxuICAgICAgICB0c09iamVjdC5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuXG4gICAgICBhdmxUaW1lUGVyaW9kcyA9IGNvbmZpZy5hdmxUaW1lUGVyaW9kcztcbiAgICAgIGF2bFRpbWVNdWx0aXBsaWVyID0gY29uZmlnLmF2bFRpbWVNdWx0aXBsaWVyO1xuICAgICAgY3VycmVudFRpbWVMZW5ndGggPSBjb25maWcuY3VycmVudFRpbWVMZW5ndGg7XG5cbiAgICAgIGNvbmZpZy5taW5CaW5TaXplID0gbWluQmluU2l6ZSA9IGN1cnJlbnRUaW1lTGVuZ3RoIC8gbWF4TnVtT2ZQbG90O1xuICAgICAgLy8gY29uZmlnLm1heEJpblNpemUgPSBtYXhCaW5TaXplID0gY3VycmVudFRpbWVMZW5ndGggLyBtaW5OdW1PZlBsb3Q7XG5cbiAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QgPSBbXTtcbiAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyID0gW107XG4gICAgICBjb25maWcuYXZsQWdnTWV0aG9kcyA9IGRhdGFBZ2cuZ2V0QWxsQWdncmVnYXRpb25NZXRob2QoKTtcblxuICAgICAgZm9yIChpID0gMCwgbGVuMSA9IGF2bFRpbWVQZXJpb2RzLmxlbmd0aDsgaSA8IGxlbjE7IGkrKykge1xuICAgICAgICB0aW1lUGVyaW9kID0gYXZsVGltZVBlcmlvZHNbaV0ubmFtZTtcbiAgICAgICAgdGltZSA9IGF2bFRpbWVQZXJpb2RzW2ldLmludGVydmFsO1xuICAgICAgICBtdWx0aXBsaWVyc0FyciA9IFtdO1xuXG4gICAgICAgIGZvciAoaiA9IDAsIGxlbjIgPSBhdmxUaW1lTXVsdGlwbGllcltpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcbiAgICAgICAgICBtdWx0aXBsaWVyID0gYXZsVGltZU11bHRpcGxpZXJbaV1bal07XG4gICAgICAgICAgZXhwZWN0ZWRUaW1lID0gbXVsdGlwbGllciAqIHRpbWU7XG5cbiAgICAgICAgICAvLyBpZiAoKGV4cGVjdGVkVGltZSA+PSBtaW5CaW5TaXplKSAmJiAoZXhwZWN0ZWRUaW1lIDw9IG1heEJpblNpemUpKSB7XG4gICAgICAgICAgaWYgKChleHBlY3RlZFRpbWUgPj0gbWluQmluU2l6ZSkpIHtcbiAgICAgICAgICAgIG11bHRpcGxpZXJzQXJyLnB1c2goYXZsVGltZU11bHRpcGxpZXJbaV1bal0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobXVsdGlwbGllcnNBcnIubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyLnB1c2gobXVsdGlwbGllcnNBcnIpO1xuICAgICAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QucHVzaCh0aW1lUGVyaW9kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gY29uc29sZS5sb2coJ1RpbWUgUGVyaW9kOiAnLCBjb25maWcudmFsaWRUaW1lUGVyaW9kKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdOdW1iZXIgT2YgTXVsdGlwbGllcnM6ICcsIGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdNZXRob2RzOiAnLCBjb25maWcuYXZsQWdnTWV0aG9kcyk7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudEFnZ3JlYXRpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuICAgICAgICBjb21wb3NpdGlvbiA9IGNvbmZpZy5jb21wb3NpdGlvbixcbiAgICAgICAgbW9kZWwgPSBjb21wb3NpdGlvbi5yZWFjdGl2ZU1vZGVsLFxuICAgICAgICBjdXJyZW50QWdnTWV0aG9kLFxuICAgICAgICBzdWl0YWJsZUludGVydmFsLFxuICAgICAgICBiaW5TaXplO1xuXG4gICAgICBiaW5TaXplID0gbW9kZWwucHJvcCgnYmluLXNpemUnKSAtIDE7XG5cbiAgICAgIGlmIChpc0Zpbml0ZShiaW5TaXplKSkge1xuICAgICAgICBjb25maWcuY2FuQWdncmVnYXRlID0gdHJ1ZTtcbiAgICAgICAgc3VpdGFibGVJbnRlcnZhbCA9IGRhdGFBZ2cudGltZVJ1bGVzLmdldFN1aXRhYmxlSW50ZXJ2YWwoYmluU2l6ZSk7XG4gICAgICAgIGN1cnJlbnRBZ2dNZXRob2QgPSBtb2RlbC5wcm9wKCdhZ2dyZWdhdGlvbi1mbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlnLmNhbkFnZ3JlZ2F0ZSA9IGZhbHNlO1xuICAgICAgICBzdWl0YWJsZUludGVydmFsID0ge1xuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgIHN0ZXA6ICcnXG4gICAgICAgIH07XG4gICAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QgPSBbc3VpdGFibGVJbnRlcnZhbC5uYW1lXTtcbiAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBbW3N1aXRhYmxlSW50ZXJ2YWwuc3RlcF1dO1xuICAgICAgICBjb25maWcuYXZsQWdnTWV0aG9kcyA9IHtcbiAgICAgICAgICAnaW52YWxpZCc6IHtcbiAgICAgICAgICAgIGZvcm1hbE5hbWU6ICcnLFxuICAgICAgICAgICAgbmlja05hbWU6ICcnXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjdXJyZW50QWdnTWV0aG9kID0gY29uZmlnLmF2bEFnZ01ldGhvZHNbJ2ludmFsaWQnXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVBlcmlvZDogc3VpdGFibGVJbnRlcnZhbC5uYW1lLFxuICAgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcjogc3VpdGFibGVJbnRlcnZhbC5zdGVwLFxuICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZDoge1xuICAgICAgICAgIHZhbHVlOiBjdXJyZW50QWdnTWV0aG9kLm5pY2tOYW1lLFxuICAgICAgICAgIHRleHQ6IGN1cnJlbnRBZ2dNZXRob2QuZm9ybWFsTmFtZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGluaXQgKHJlcXVpcmUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRvb2xib3hDb21wb25lbnQgPSBjb25maWcudG9vbGJveENvbXBvbmVudCA9IHt9LFxuICAgICAgICBhcGksXG4gICAgICAgIHN0b3JlLFxuICAgICAgICBjb21wb3NpdGlvbixcbiAgICAgICAgc2F2ZVRvID0gJ3RzT2JqZWN0JyxcbiAgICAgICAgcmVxdWlyZWRQYXJhbXMgPSBbXG4gICAgICAgICAgJ2dyYXBoaWNzJyxcbiAgICAgICAgICAnZ2xvYmFsUmVhY3RpdmVNb2RlbCcsXG4gICAgICAgICAgJ2NoYXJ0JyxcbiAgICAgICAgICAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLFxuICAgICAgICAgICdjaGFydEluc3RhbmNlJyxcbiAgICAgICAgICAnc21hcnRMYWJlbCcsXG4gICAgICAgICAgZnVuY3Rpb24gYWNxdWlyZSAoKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDAsXG4gICAgICAgICAgICAgIGlpID0gcmVxdWlyZWRQYXJhbXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgcGFyYW0gPSAnJztcbiAgICAgICAgICAgIHNlbGZbc2F2ZVRvXSA9IHNlbGZbc2F2ZVRvXSB8fCB7fTtcbiAgICAgICAgICAgIHNlbGYucmVxdWlyZWRQYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgIHBhcmFtID0gcmVxdWlyZWRQYXJhbXNbaV07XG4gICAgICAgICAgICAgIHNlbGZbc2F2ZVRvXVtwYXJhbV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbkluaXQoc2VsZltzYXZlVG9dKTtcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICByZXF1aXJlKHJlcXVpcmVkUGFyYW1zKTtcblxuICAgICAgYXBpID0gc2VsZi50c09iamVjdC5jaGFydEluc3RhbmNlLmFwaUluc3RhbmNlO1xuICAgICAgc3RvcmUgPSBhcGkuZ2V0Q29tcG9uZW50U3RvcmUoKTtcbiAgICAgIGNvbmZpZy5jb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uID0gc3RvcmUuZ2V0Q2FudmFzQnlJbmRleCgwKS5jb21wb3NpdGlvbjtcbiAgICAgIGNvbmZpZy5kYXRhQWdnID0gY29tcG9zaXRpb24uaW1wbC5nZXREYXRhQWdncmVnYXRvcigpO1xuXG4gICAgICB0b29sYm94Q29tcG9uZW50LnRvb2xib3ggPSBkZXAuRkMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuICAgICAgdG9vbGJveENvbXBvbmVudC5jb25maWcgPSB7fTtcblxuICAgICAgc2VsZi50b29sYmFycyA9IFtdO1xuXG4gICAgICBzZWxmLm1lYXN1cmVtZW50ID0ge307XG5cbiAgICAgIHNlbGYudG9vbGJhcnMucHVzaChzZWxmLmNyZWF0ZVRvb2xiYXIoKSk7XG5cbiAgICAgIHdpbmRvdy5BZ2dyZWdhdG9yID0gc2VsZjtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGNyZWF0ZVRvb2xiYXIgKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBncm91cCxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnUsXG4gICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LFxuICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LFxuICAgICAgICByZXNldEJ1dHRvbixcbiAgICAgICAgYXBwbHlCdXR0b24sXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuY29uZmlnLFxuICAgICAgICB0c09iamVjdCA9IHNlbGYudHNPYmplY3QsXG4gICAgICAgIGxhYmVsLFxuXG4gICAgICAgIHRvb2xib3hDb21wb25lbnQgPSBjb25maWcudG9vbGJveENvbXBvbmVudCxcbiAgICAgICAgdG9vbGJveCA9IHRvb2xib3hDb21wb25lbnQudG9vbGJveCxcbiAgICAgICAgdG9vbGJveENvbXBDb25maWcgPSB0b29sYm94Q29tcG9uZW50LmNvbmZpZyxcbiAgICAgICAgSG9yaXpvbnRhbFRvb2xiYXIgPSB0b29sYm94Lkhvcml6b250YWxUb29sYmFyLFxuICAgICAgICBDb21wb25lbnRHcm91cCA9IHRvb2xib3guQ29tcG9uZW50R3JvdXAsXG4gICAgICAgIFN5bWJvbFN0b3JlID0gdG9vbGJveC5TeW1ib2xTdG9yZSxcblxuICAgICAgICBncmFwaGljcyA9IHRzT2JqZWN0LmdyYXBoaWNzLFxuICAgICAgICBwYXBlciA9IGdyYXBoaWNzLnBhcGVyLFxuICAgICAgICBjb250YWluZXIgPSBncmFwaGljcy5jb250YWluZXIsXG4gICAgICAgIGNoYXJ0ID0gdHNPYmplY3QuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWwgPSB0c09iamVjdC5zbWFydExhYmVsLFxuXG4gICAgICAgIG11bHRpcGxpZXJWYWwsXG4gICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0LFxuICAgICAgICBzZWxlY3RNZW51Q29uZmlnLFxuICAgICAgICBkcm9wRG93bk1lbnVTdHlsZSxcbiAgICAgICAgYnV0dG9uQ29uZmlnLFxuXG4gICAgICAgIGRlcGVuZGVuY2llcyA9IHtcbiAgICAgICAgICBwYXBlcjogcGFwZXIsXG4gICAgICAgICAgY2hhcnQ6IGNoYXJ0LFxuICAgICAgICAgIHNtYXJ0TGFiZWw6IHNtYXJ0TGFiZWwsXG4gICAgICAgICAgY2hhcnRDb250YWluZXI6IGNvbnRhaW5lclxuICAgICAgICB9LFxuICAgICAgICBhcHBseSA9IChzZXQpID0+IHtcbiAgICAgICAgICB2YXIgbW9kZWwgPSBjb25maWcuY29tcG9zaXRpb24ucmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RWYWwgPSB0aW1lUGVyaW9kU2VsZWN0TWVudS52YWx1ZSgpLFxuICAgICAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXJWYWwgPSB0aW1lTXVsU2VsZWN0TWVudS52YWx1ZSgpLFxuICAgICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudVZhbCA9IGFnZ01ldGhvZFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICBiaW5TaXplLFxuICAgICAgICAgICAgdGltZUludGVydmFsLFxuICAgICAgICAgICAgYWdncmVnYXRpb24gPSBzZWxmLmFnZ3JlZ2F0aW9uLFxuICAgICAgICAgICAgY2FudmFzID0gY29uZmlnLmNvbXBvc2l0aW9uLmltcGw7XG5cbiAgICAgICAgICBmb3IgKGtleXMgb2YgY29uZmlnLmF2bFRpbWVQZXJpb2RzKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5uYW1lID09PSB0aW1lUGVyaW9kVmFsKSB7XG4gICAgICAgICAgICAgIHRpbWVJbnRlcnZhbCA9IGtleXMuaW50ZXJ2YWw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBiaW5TaXplID0gdGltZUludGVydmFsICogTnVtYmVyKHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsKTtcbiAgICAgICAgICBpZiAoc2V0ICYmIGlzRmluaXRlKG1vZGVsLnByb3AoJ2Jpbi1zaXplJykpKSB7XG4gICAgICAgICAgICBtb2RlbFxuICAgICAgICAgICAgICAubG9jaygpXG4gICAgICAgICAgICAgIC5wcm9wKCdiaW4tc2l6ZS1leHQnLCBiaW5TaXplKVxuICAgICAgICAgICAgICAucHJvcCgnYWdncmVnYXRpb24tZm4tZXh0JywgY29uZmlnLmF2bEFnZ01ldGhvZHNbYWdnTWV0aG9kU2VsZWN0TWVudVZhbF0pXG4gICAgICAgICAgICAgIC51bmxvY2soKTtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmJpblNpemUgPSBiaW5TaXplO1xuICAgICAgICAgICAgYWdncmVnYXRpb24uYWdncmVnYXRpb25NZXRob2QgPSBhZ2dNZXRob2RTZWxlY3RNZW51VmFsO1xuICAgICAgICAgICAgYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcy5yZXNldEFnZ3JlZ2F0aW9uKCk7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbi5iaW5TaXplID0gbnVsbDtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmFnZ3JlZ2F0aW9uTWV0aG9kID0gbnVsbDtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGltZVBlcmlvZE9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIHZhciB0aW1lUGVyaW9kVmFsID0gdGltZVBlcmlvZFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsID0gdGltZU11bFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHByZXZUaW1lUGVyb2lkTXVsVmFsID0gdGltZVBlcmlvZE11bHRpcGxpZXJWYWwsXG4gICAgICAgICAgICB2YWxpZFRpbWVQZXJpb2QgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kLFxuICAgICAgICAgICAgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyLFxuICAgICAgICAgICAgaW5kZXhPZlRpbWVVbml0LFxuICAgICAgICAgICAgaW5kZXhPZlRpbWVNdWw7XG5cbiAgICAgICAgICBpbmRleE9mVGltZVVuaXQgPSB2YWxpZFRpbWVQZXJpb2QuaW5kZXhPZih0aW1lUGVyaW9kVmFsKTtcbiAgICAgICAgICBpbmRleE9mVGltZU11bCA9IHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XS5pbmRleE9mKE51bWJlcih0aW1lUGVyaW9kTXVsdGlwbGllclZhbCkpO1xuXG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQgPSBbXTtcbiAgICAgICAgICBmb3IgKG11bHRpcGxpZXJWYWwgb2YgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcltpbmRleE9mVGltZVVuaXRdKSB7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudU9wdC5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogbXVsdGlwbGllclZhbC50b1N0cmluZygpLFxuICAgICAgICAgICAgICB2YWx1ZTogbXVsdGlwbGllclZhbC50b1N0cmluZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS51cGRhdGVMaXN0KHRpbWVNdWxTZWxlY3RNZW51T3B0KTtcblxuICAgICAgICAgIGlmIChpbmRleE9mVGltZU11bCA8IDApIHtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XVswXS50b1N0cmluZygpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudmFsdWUocHJldlRpbWVQZXJvaWRNdWxWYWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoYW5nZSA9ICh0eXBlKSA9PiB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRBZ2cgPSBzZWxmLmdldEN1cnJlbnRBZ2dyZWF0aW9uKCk7XG5cbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRBZ2cudGltZVBlcmlvZE11bHRpcGxpZXIudG9TdHJpbmcoKSAhPT0gdGltZU11bFNlbGVjdE1lbnUudmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRBZ2cudGltZVBlcmlvZCAhPT0gdGltZVBlcmlvZFNlbGVjdE1lbnUudmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRBZ2cuYWdncmVnYXRpb25NZXRob2QudmFsdWUgIT09IGFnZ01ldGhvZFNlbGVjdE1lbnUudmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGdyb3VwID0gbmV3IENvbXBvbmVudEdyb3VwKGRlcGVuZGVuY2llcyk7XG4gICAgICB0b29sYmFyID0gbmV3IEhvcml6b250YWxUb29sYmFyKGRlcGVuZGVuY2llcyk7XG5cbiAgICAgIGdyb3VwLnNldENvbmZpZyh7XG4gICAgICAgIGZpbGw6ICcjZmZmJyxcbiAgICAgICAgYm9yZGVyVGhpY2tuZXNzOiAwXG4gICAgICB9KTtcblxuICAgICAgdG9vbGJhci5zZXRDb25maWcoe1xuICAgICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICAgIGJvcmRlclRoaWNrbmVzczogMFxuICAgICAgfSk7XG5cbiAgICAgIHNlbGVjdE1lbnVDb25maWcgPSB7XG4gICAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAzLFxuICAgICAgICAgICAgICBzdHJva2U6ICdyZ2IoMTkyLCAxOTIsIDE5MiknXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBidXR0b25Db25maWcgPSB7XG4gICAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgICAgICBmaWxsOiAnI2JlYmViZScsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAzLFxuICAgICAgICAgICAgICBzdHJva2U6ICdyZ2IoMTkyLCAxOTIsIDE5MiknLFxuICAgICAgICAgICAgICBsYWJlbEZpbGw6ICcjZmZmJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZHJvcERvd25NZW51U3R5bGUgPSB7XG4gICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBmaWxsOiAnIzg5OGI4YidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6ICcjZmZmJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBmaWxsOiAnI2ZmZidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6ICcjMDAwJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6ICcjZTZlOGU4J1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZmlsbDogJyMwMDAnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBsYWJlbCA9IG5ldyB0b29sYm94LkxhYmVsKCdBZ2dyZWdhdGUgRGF0YTonLCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAnZm9udC1zaXplJzogJzE0JyxcbiAgICAgICAgICAgICdmaWxsJzogJyM2OTY5NjknXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcudGltZVBlcmlvZFNlbGVjdE1lbnUgPSB0aW1lUGVyaW9kU2VsZWN0TWVudSA9IG5ldyB0b29sYm94LlNlbGVjdFN5bWJvbCh7XG4gICAgICAgIHdpZHRoOiA5MCxcbiAgICAgICAgaGVpZ2h0OiAyMlxuICAgICAgfSwgZGVwZW5kZW5jaWVzLCBbXSwge1xuICAgICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICAgIGxhYmVsRmlsbDogJyM2OTY5NjknLFxuICAgICAgICBob3ZlckZpbGw6ICcjZmZmJyxcbiAgICAgICAgaG92ZXJTdHJva2U6ICcjNjk2OTY5JyxcbiAgICAgICAgaG92ZXJTdHJva2VXaWR0aDogMSxcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHJhZGl1czogMSxcbiAgICAgICAgc3Ryb2tlOiAnI2M4Y2VjZCcsXG4gICAgICAgIHN5bWJvbFN0cm9rZVdpZHRoOiAwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfSxcbiAgICAgICAgZHJvcERvd25NZW51OiBkcm9wRG93bk1lbnVTdHlsZVxuICAgICAgfSk7XG4gICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS5zZXRTdGF0ZUNvbmZpZyhzZWxlY3RNZW51Q29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcudGltZU11bFNlbGVjdE1lbnUgPSB0aW1lTXVsU2VsZWN0TWVudSA9IG5ldyB0b29sYm94LlNlbGVjdFN5bWJvbCh7XG4gICAgICAgIHdpZHRoOiA1MCxcbiAgICAgICAgaGVpZ2h0OiAyMlxuICAgICAgfSwgZGVwZW5kZW5jaWVzLCBbXSwge1xuICAgICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICAgIGxhYmVsRmlsbDogJyM2OTY5NjknLFxuICAgICAgICBob3ZlckZpbGw6ICcjZmZmJyxcbiAgICAgICAgaG92ZXJTdHJva2U6ICcjNjk2OTY5JyxcbiAgICAgICAgaG92ZXJTdHJva2VXaWR0aDogMSxcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHJhZGl1czogMSxcbiAgICAgICAgc3Ryb2tlOiAnI2M4Y2VjZCcsXG4gICAgICAgIHN5bWJvbFN0cm9rZVdpZHRoOiAwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfSxcbiAgICAgICAgZHJvcERvd25NZW51OiBkcm9wRG93bk1lbnVTdHlsZVxuICAgICAgfSk7XG4gICAgICB0aW1lTXVsU2VsZWN0TWVudS5zZXRTdGF0ZUNvbmZpZyhzZWxlY3RNZW51Q29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcuYWdnTWV0aG9kU2VsZWN0TWVudSA9IGFnZ01ldGhvZFNlbGVjdE1lbnUgPSBuZXcgdG9vbGJveC5TZWxlY3RTeW1ib2woe1xuICAgICAgICB3aWR0aDogOTAsXG4gICAgICAgIGhlaWdodDogMjJcbiAgICAgIH0sIGRlcGVuZGVuY2llcywgW10sIHtcbiAgICAgICAgZmlsbDogJyNmZmYnLFxuICAgICAgICBsYWJlbEZpbGw6ICcjNjk2OTY5JyxcbiAgICAgICAgaG92ZXJGaWxsOiAnI2ZmZicsXG4gICAgICAgIGhvdmVyU3Ryb2tlOiAnIzY5Njk2OScsXG4gICAgICAgIGhvdmVyU3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICByYWRpdXM6IDEsXG4gICAgICAgIHN0cm9rZTogJyNjOGNlY2QnLFxuICAgICAgICBzeW1ib2xTdHJva2VXaWR0aDogMCxcbiAgICAgICAgYnRuVGV4dFN0eWxlOiB7XG4gICAgICAgICAgZm9udFNpemU6IDExXG4gICAgICAgIH0sXG4gICAgICAgIGRyb3BEb3duTWVudTogZHJvcERvd25NZW51U3R5bGVcbiAgICAgIH0pO1xuICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS5zZXRTdGF0ZUNvbmZpZyhzZWxlY3RNZW51Q29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcuYXBwbHlCdXR0b24gPSBhcHBseUJ1dHRvbiA9IG5ldyB0b29sYm94LlN5bWJvbCgnQVBQTFknLCB0cnVlLCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgZmlsbDogJyM1NTUnLFxuICAgICAgICBsYWJlbEZpbGw6ICcjZjNmM2YzJyxcbiAgICAgICAgaG92ZXJGaWxsOiAnIzU1NScsXG4gICAgICAgIHJhZGl1czogMSxcbiAgICAgICAgd2lkdGg6IDMwLFxuICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfVxuICAgICAgfSkuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYXBwbHkoMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXBwbHlCdXR0b24uc2V0U3RhdGVDb25maWcoYnV0dG9uQ29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcucmVzZXRCdXR0b24gPSByZXNldEJ1dHRvbiA9IG5ldyB0b29sYm94LlN5bWJvbCgnUkVTRVQnLCB0cnVlLCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgZmlsbDogJyM4OThiOGInLFxuICAgICAgICBsYWJlbEZpbGw6ICcjZjNmM2YzJyxcbiAgICAgICAgaG92ZXJGaWxsOiAnIzg5OGI4YicsXG4gICAgICAgIHJhZGl1czogMSxcbiAgICAgICAgd2lkdGg6IDMwLFxuICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfVxuICAgICAgfSkuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYXBwbHkoMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVzZXRCdXR0b24uc2V0U3RhdGVDb25maWcoYnV0dG9uQ29uZmlnKTtcblxuICAgICAgZ3JvdXAuYWRkU3ltYm9sKGxhYmVsKTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbCh0aW1lTXVsU2VsZWN0TWVudSk7XG4gICAgICBncm91cC5hZGRTeW1ib2wodGltZVBlcmlvZFNlbGVjdE1lbnUpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKGFnZ01ldGhvZFNlbGVjdE1lbnUpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKGFwcGx5QnV0dG9uKTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbChyZXNldEJ1dHRvbik7XG5cbiAgICAgIFN5bWJvbFN0b3JlLnJlZ2lzdGVyKCd0ZXh0Qm94SWNvbicsIGZ1bmN0aW9uICh4LCB5LCByYWQsIHcsIGgsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgdmFyIHgxID0geCAtIHcgLyAyICsgcGFkWCAvIDIsXG4gICAgICAgICAgeDIgPSB4ICsgdyAvIDIgLSBwYWRYIC8gMixcbiAgICAgICAgICB5MSA9IHkgLSBoIC8gMiArIHBhZFkgLyAyLFxuICAgICAgICAgIHkyID0geSArIGggLyAyIC0gcGFkWSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIFsnTScsIHgxLCB5MSwgJ0wnLCB4MiwgeTEsICdMJywgeDIsIHkyLCAnTCcsIHgxLCB5MiwgJ1onXTtcbiAgICAgIH0pO1xuXG4gICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgdGV4dE9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGltZVBlcmlvZE9uQ2hhbmdlKCk7XG4gICAgICAgICAgb25DaGFuZ2UoMik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aW1lTXVsU2VsZWN0TWVudS5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgdGV4dE9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25DaGFuZ2UoMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICB0ZXh0T25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbkNoYW5nZSgzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRvb2xiYXIuYWRkQ29tcG9uZW50KGdyb3VwKTtcblxuICAgICAgcmV0dXJuIHRvb2xiYXI7XG4gICAgfVxuXG4gICAgZ2V0TG9naWNhbFNwYWNlIChhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICB2YXIgbG9naWNhbFNwYWNlLFxuICAgICAgICB3aWR0aCA9IDAsXG4gICAgICAgIGhlaWdodCA9IDAsXG4gICAgICAgIGksXG4gICAgICAgIGxuO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsbiA9IHRoaXMudG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgICBsb2dpY2FsU3BhY2UgPSB0aGlzLnRvb2xiYXJzW2ldLmdldExvZ2ljYWxTcGFjZSgpO1xuICAgICAgICB3aWR0aCA9IE1hdGgubWF4KGxvZ2ljYWxTcGFjZS53aWR0aCwgd2lkdGgpO1xuICAgICAgICBoZWlnaHQgKz0gbG9naWNhbFNwYWNlLmhlaWdodDtcbiAgICAgICAgdGhpcy50b29sYmFyc1tpXS53aWR0aCA9IGxvZ2ljYWxTcGFjZS53aWR0aDtcbiAgICAgICAgdGhpcy50b29sYmFyc1tpXS5oZWlnaHQgPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgaGVpZ2h0ICs9IHRoaXMucGFkZGluZztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCA+IGF2YWlsYWJsZVdpZHRoID8gMCA6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCA+IGF2YWlsYWJsZUhlaWdodCA/IDAgOiBoZWlnaHRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcGxhY2VJbkNhbnZhcyAoY29udGFpbmVySW5zdGFuY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgdHNPYmplY3QgPSBzZWxmLnRzT2JqZWN0O1xuXG4gICAgICBzZWxmLnBhZGRpbmcgPSA1O1xuICAgICAgdHNPYmplY3Quc3BhY2VNYW5hZ2VySW5zdGFuY2UuYWRkKFt7XG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJ0RhdGFBZ2dyZWdhdG9yJztcbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialsnMCddO1xuICAgICAgICB9LFxuICAgICAgICBzZWxmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH0sXG4gICAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIH0sXG4gICAgICAgIGxheW91dDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmouaW5saW5lO1xuICAgICAgICB9LFxuICAgICAgICBvcmllbnRhdGlvbjogW3tcbiAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLmhvcml6b250YWw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb3NpdGlvbjogW3tcbiAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iai50b3A7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWxpZ25tZW50OiBbe1xuICAgICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai5sZWZ0O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkaW1lbnNpb25zOiBbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0TG9naWNhbFNwYWNlKHBhcmVudC5nZXRXaWR0aCgpLCBwYXJlbnQuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfV0pO1xuICAgIH1cblxuICAgIHNldERyYXdpbmdDb25maWd1cmF0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgICAgdmFyIG1lcyA9IHRoaXMubWVhc3VyZW1lbnQ7XG4gICAgICBtZXMueCA9IHg7XG4gICAgICBtZXMueSA9IHk7XG4gICAgICBtZXMud2lkdGggPSB3aWR0aDtcbiAgICAgIG1lcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgIHRoaXMucGFyZW50R3JvdXAgPSBncm91cDtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZHJhdyAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRvb2xib3hDb21wQ29uZmlnID0gY29uZmlnLnRvb2xib3hDb21wb25lbnQuY29uZmlnLFxuICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudSA9IHRvb2xib3hDb21wQ29uZmlnLnRpbWVQZXJpb2RTZWxlY3RNZW51LFxuICAgICAgICB0aW1lTXVsU2VsZWN0TWVudSA9IHRvb2xib3hDb21wQ29uZmlnLnRpbWVNdWxTZWxlY3RNZW51LFxuICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51ID0gdG9vbGJveENvbXBDb25maWcuYWdnTWV0aG9kU2VsZWN0TWVudSxcbiAgICAgICAgYXBwbHlCdXR0b24gPSB0b29sYm94Q29tcENvbmZpZy5hcHBseUJ1dHRvbixcbiAgICAgICAgcmVzZXRCdXR0b24gPSB0b29sYm94Q29tcENvbmZpZy5yZXNldEJ1dHRvbixcbiAgICAgICAgbWVhc3VyZW1lbnQgPSBzZWxmLm1lYXN1cmVtZW50LFxuICAgICAgICB0b29sYmFycyA9IHNlbGYudG9vbGJhcnMsXG4gICAgICAgIGxuLFxuICAgICAgICBpLFxuICAgICAgICB0b29sYmFyLFxuICAgICAgICBtb2RlbCA9IGNvbmZpZy5jb21wb3NpdGlvbi5yZWFjdGl2ZU1vZGVsLFxuICAgICAgICBkYXRhQWdnID0gY29uZmlnLmRhdGFBZ2csXG5cbiAgICAgICAgdGltZVBlcmlvZFZhbCxcbiAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnVPcHQsXG4gICAgICAgIHZhbGlkVGltZVBlcmlvZCxcbiAgICAgICAgaW5kZXhPZlRpbWVVbml0LFxuXG4gICAgICAgIG11bHRpcGxpZXJWYWwsXG4gICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0LFxuICAgICAgICB2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyLFxuXG4gICAgICAgIGFnZ1ZhbCxcbiAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudU9wdCxcbiAgICAgICAgYXZsQWdnTWV0aG9kcyxcbiAgICAgICAgcmFuZ2VPbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICB2YXIgYWdncmVnYXRpb24gPSBzZWxmLmFnZ3JlZ2F0aW9uLFxuICAgICAgICAgICAgY3VycmVudEFnZ3JlZ2F0aW9uT2JqLFxuICAgICAgICAgICAgdGltZVBlcmlvZCxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyLFxuICAgICAgICAgICAgYWdncmVnYXRpb25NZXRob2Q7XG5cbiAgICAgICAgICBzZWxmLmdldFZhbGlkQWdncmVnYXRpb24oKTtcbiAgICAgICAgICBjdXJyZW50QWdncmVnYXRpb25PYmogPSBzZWxmLmdldEN1cnJlbnRBZ2dyZWF0aW9uKCk7XG4gICAgICAgICAgdGltZVBlcmlvZCA9IGN1cnJlbnRBZ2dyZWdhdGlvbk9iai50aW1lUGVyaW9kO1xuICAgICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyID0gY3VycmVudEFnZ3JlZ2F0aW9uT2JqLnRpbWVQZXJpb2RNdWx0aXBsaWVyO1xuICAgICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kID0gY3VycmVudEFnZ3JlZ2F0aW9uT2JqLmFnZ3JlZ2F0aW9uTWV0aG9kO1xuXG4gICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnVPcHQgPSBbXTtcbiAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudU9wdCA9IFtdO1xuICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnVPcHQgPSBbXTtcblxuICAgICAgICAgIHZhbGlkVGltZVBlcmlvZCA9IGNvbmZpZy52YWxpZFRpbWVQZXJpb2Q7XG4gICAgICAgICAgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyO1xuICAgICAgICAgIGF2bEFnZ01ldGhvZHMgPSBjb25maWcuYXZsQWdnTWV0aG9kcztcblxuICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcblxuICAgICAgICAgIGlmIChhZ2dyZWdhdGlvbi5iaW5TaXplICE9PSBtb2RlbC5wcm9wKCdiaW4tc2l6ZScpICYmXG4gICAgICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZC52YWx1ZSA9PT0gY29uZmlnLmRlZmF1bHRBZ2dNZXRob2QpIHtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmJpblNpemUgPSBudWxsO1xuICAgICAgICAgICAgYWdncmVnYXRpb24uYWdncmVnYXRpb25NZXRob2QgPSBudWxsO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNldEJ1dHRvbi51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWNvbmZpZy5jYW5BZ2dyZWdhdGUpIHtcbiAgICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHRpbWVQZXJpb2RWYWwgb2YgdmFsaWRUaW1lUGVyaW9kKSB7XG4gICAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudU9wdC5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogdGltZVBlcmlvZFZhbCxcbiAgICAgICAgICAgICAgdmFsdWU6IHRpbWVQZXJpb2RWYWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LnVwZGF0ZUxpc3QodGltZVBlcmlvZFNlbGVjdE1lbnVPcHQpO1xuICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LnZhbHVlKHRpbWVQZXJpb2QpO1xuXG4gICAgICAgICAgaW5kZXhPZlRpbWVVbml0ID0gdmFsaWRUaW1lUGVyaW9kLmluZGV4T2YodGltZVBlcmlvZCk7XG5cbiAgICAgICAgICBpZiAoaW5kZXhPZlRpbWVVbml0ID49IDApIHtcbiAgICAgICAgICAgIGZvciAobXVsdGlwbGllclZhbCBvZiB2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyW2luZGV4T2ZUaW1lVW5pdF0pIHtcbiAgICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogbXVsdGlwbGllclZhbC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtdWx0aXBsaWVyVmFsLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudXBkYXRlTGlzdCh0aW1lTXVsU2VsZWN0TWVudU9wdCk7XG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudmFsdWUodGltZVBlcmlvZE11bHRpcGxpZXIudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICBmb3IgKGFnZ1ZhbCBpbiBhdmxBZ2dNZXRob2RzKSB7XG4gICAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51T3B0LnB1c2goe1xuICAgICAgICAgICAgICBuYW1lOiBhdmxBZ2dNZXRob2RzW2FnZ1ZhbF0uZm9ybWFsTmFtZSxcbiAgICAgICAgICAgICAgdmFsdWU6IGF2bEFnZ01ldGhvZHNbYWdnVmFsXS5uaWNrTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS51cGRhdGVMaXN0KGFnZ01ldGhvZFNlbGVjdE1lbnVPcHQpO1xuICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUudmFsdWUoYWdncmVnYXRpb25NZXRob2QudmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICBzZWxmLmdldEF2YWlsYWJsZWxBZ2dyZWFnYXRpb24oKTtcblxuICAgICAgeCA9IHggPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnggOiB4O1xuICAgICAgeSA9IHkgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnkgOiB5O1xuICAgICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcbiAgICAgIGhlaWdodCA9IGhlaWdodCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQuaGVpZ2h0IDogaGVpZ2h0O1xuICAgICAgZ3JvdXAgPSBncm91cCA9PT0gdW5kZWZpbmVkID8gc2VsZi5wYXJlbnRHcm91cCA6IGdyb3VwO1xuICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICBmb3IgKGkgPSAwLCBsbiA9IHRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgICB0b29sYmFyID0gdG9vbGJhcnNbaV07XG4gICAgICAgICAgdG9vbGJhci5kcmF3KHgsIHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByYW5nZU9uQ2hhbmdlKCk7XG4gICAgICBhcHBseUJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICByZXNldEJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICBjb25maWcuZGVmYXVsdEFnZ01ldGhvZCA9IGRhdGFBZ2cuZ2V0RGVmYXVsdEFnZ3JlZ2F0aW9uTWV0aG9kKCkubmlja05hbWU7XG5cbiAgICAgIG1vZGVsLm9uUHJvcHNDaGFuZ2UoWydiaW4tc2l6ZScsICdhZ2dyZWdhdGlvbi1mbiddLCByYW5nZU9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBkaXNwb3NlICgpIHtcbiAgICAgIC8vIGRpc3Bvc2UgZXh0ZW5zaW9uXG4gICAgfVxuICB9XG4gIHJldHVybiBBZ2dyZWdhdG9yO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9mY3RzLWV4dC1hZ2dyZWdhdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==