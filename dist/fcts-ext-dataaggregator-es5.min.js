/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(module) {'use strict';
	
	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
	
	var AggregatorGetter = __webpack_require__(2);
	
	;(function (env, factory) {
	  if (( false ? 'undefined' : _typeof(module)) === 'object' && module.exports) {
	    module.exports = env.document ? factory(env) : function (win) {
	      if (!win.document) {
	        throw new Error('Window with document not present');
	      }
	      return factory(win, true);
	    };
	  } else {
	    env.Aggregator = factory(env, true);
	  }
	})(typeof window !== 'undefined' ? window : undefined, function (_window, windowExists) {
	  var FC = _window.FusionCharts;
	
	  FC.register('extension', ['private', 'data-aggregator', function () {
	    FC.registerComponent('extensions', 'data-aggregator', AggregatorGetter({ FC: FC }));
	  }]);
	});
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = function(module) {
		if(!module.webpackPolyfill) {
			module.deprecate = function() {};
			module.paths = [];
			// module.parent = undefined by default
			module.children = [];
			module.webpackPolyfill = 1;
		}
		return module;
	}


/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	module.exports = function (dep) {
	  /**
	   * Class representing the Data Aggregator.
	   */
	  var Aggregator = function () {
	    /**
	     * Create a Aggregator.
	     * @typedef {object} Aggregator.aggregation
	     * @property {string} timePeriod - The time interval of aggregation.
	     * @property {number} timePeriodMultiplier - The multiplier of time interval.
	     * @property {string} aggregationMethod - The method applied to aggregate.
	     */
	    function Aggregator() {
	      _classCallCheck(this, Aggregator);
	
	      /**
	       * @private
	       */
	      this.appliedAggregation = {
	        binSize: null,
	        aggregationMethod: null
	      };
	      this.config = {};
	    }
	
	    /**
	     * An object representing the timePeriod, timePeriodMultiplier, aggregationMethod.
	     * @type {Aggregator.aggregation}
	     */
	
	
	    _createClass(Aggregator, [{
	      key: 'getAvailablelAggreagation',
	
	
	      /**
	       * Sets available aggregation options in configuration of extension
	       * @private
	       */
	      value: function getAvailablelAggreagation() {
	        var config = this.config,
	            dataAgg = config.dataAgg,
	            avlTimePeriods = config.avlTimePeriods = dataAgg.getAggregationTimeRules(),
	            i,
	            len;
	
	        config.avlTimeMultiplier = [];
	        len = avlTimePeriods.length;
	
	        for (i = 0; i < len; i++) {
	          config.avlTimeMultiplier.push(avlTimePeriods[i].possibleFactors);
	        }
	      }
	
	      /**
	       * Calculates valid aggregation time periods and corresponding multipliers
	       * @private
	       */
	
	    }, {
	      key: 'getValidAggregation',
	      value: function getValidAggregation() {
	        var self = this,
	            config = self.config,
	            tsObject = self.tsObject,
	            dataAgg = config.dataAgg,
	            i,
	            j,
	            len1,
	            len2,
	            avlTimePeriods,
	            avlTimeMultiplier,
	
	        // minNumOfPlot = 5,
	        maxNumOfPlot = config.composition.reactiveModel.model['max-plot-point'],
	            multipliersArr,
	            currentTimeLength,
	            timePeriod,
	            time,
	            expectedTime,
	            multiplier,
	            minBinSize;
	        // maxBinSize;
	
	        config.currentTimeLength = tsObject.globalReactiveModel.model['x-axis-visible-range-end'] - tsObject.globalReactiveModel.model['x-axis-visible-range-start'];
	
	        avlTimePeriods = config.avlTimePeriods;
	        avlTimeMultiplier = config.avlTimeMultiplier;
	        currentTimeLength = config.currentTimeLength;
	
	        config.minBinSize = minBinSize = currentTimeLength / maxNumOfPlot;
	        // config.maxBinSize = maxBinSize = currentTimeLength / minNumOfPlot;
	
	        config.validTimePeriod = [];
	        config.validTimePeriodMultiplier = [];
	        config.avlAggMethods = dataAgg.getAllAggregationMethod();
	
	        for (i = 0, len1 = avlTimePeriods.length; i < len1; i++) {
	          timePeriod = avlTimePeriods[i].name;
	          time = avlTimePeriods[i].interval;
	          multipliersArr = [];
	
	          for (j = 0, len2 = avlTimeMultiplier[i].length; j < len2; j++) {
	            multiplier = avlTimeMultiplier[i][j];
	            expectedTime = multiplier * time;
	
	            // if ((expectedTime >= minBinSize) && (expectedTime <= maxBinSize)) {
	            if (expectedTime >= minBinSize) {
	              multipliersArr.push(avlTimeMultiplier[i][j]);
	            }
	          }
	          if (multipliersArr.length > 0) {
	            config.validTimePeriodMultiplier.push(multipliersArr);
	            config.validTimePeriod.push(timePeriod);
	          }
	        }
	        // console.log('Time Period: ', config.validTimePeriod);
	        // console.log('Number Of Multipliers: ', config.validTimePeriodMultiplier);
	        // console.log('Methods: ', config.avlAggMethods);
	      }
	    }, {
	      key: 'getCurrentAggreation',
	      value: function getCurrentAggreation() {
	        var self = this,
	            config = self.config,
	            dataAgg = config.dataAgg,
	            composition = config.composition,
	            model = composition.reactiveModel,
	            currentAggMethod,
	            suitableInterval,
	            binSize;
	
	        binSize = model.prop('bin-size') - 1;
	
	        if (isFinite(binSize)) {
	          config.canAggregate = true;
	          suitableInterval = dataAgg.timeRules.getSuitableInterval(binSize);
	          currentAggMethod = model.prop('aggregation-fn');
	        } else {
	          config.canAggregate = false;
	          suitableInterval = {
	            name: '',
	            step: ''
	          };
	          config.validTimePeriod = [suitableInterval.name];
	          config.validTimePeriodMultiplier = [[suitableInterval.step]];
	          config.avlAggMethods = {
	            'invalid': {
	              formalName: '',
	              nickName: ''
	            }
	          };
	          currentAggMethod = config.avlAggMethods['invalid'];
	        }
	
	        return {
	          timePeriod: suitableInterval.name,
	          timePeriodMultiplier: suitableInterval.step,
	          aggregationMethod: {
	            value: currentAggMethod.nickName,
	            text: currentAggMethod.formalName
	          }
	        };
	      }
	    }, {
	      key: 'init',
	      value: function init(require) {
	        var self = this,
	            config = self.config,
	            toolboxComponent = config.toolboxComponent = {},
	            api,
	            store,
	            composition,
	            saveTo = 'tsObject',
	            requiredParams = ['graphics', 'globalReactiveModel', 'chart', 'spaceManagerInstance', 'chartInstance', 'smartLabel', function acquire() {
	          var i = 0,
	              ii = requiredParams.length - 1,
	              param = '';
	          self[saveTo] = self[saveTo] || {};
	          self.requiredParams = {};
	          for (i = 0; i < ii; ++i) {
	            param = requiredParams[i];
	            self[saveTo][param] = arguments[i];
	          }
	          // onInit(self[saveTo]);
	        }];
	        require(requiredParams);
	
	        api = self.tsObject.chartInstance.apiInstance;
	        store = api.getComponentStore();
	        config.composition = composition = store.getCanvasByIndex(0).composition;
	        config.dataAgg = composition.impl.getDataAggregator();
	
	        toolboxComponent.toolbox = dep.FC.getComponent('api', 'toolbox');
	        toolboxComponent.config = {};
	
	        self.toolbars = [];
	
	        self.measurement = {};
	
	        self.toolbars.push(self.createToolbar());
	
	        window.Aggregator = self;
	        return self;
	      }
	    }, {
	      key: 'createToolbar',
	      value: function createToolbar() {
	        var self = this,
	            group,
	            toolbar,
	            timeMulSelectMenu,
	            timePeriodSelectMenu,
	            aggMethodSelectMenu,
	            resetButton,
	            applyButton,
	            config = self.config,
	            tsObject = self.tsObject,
	            label,
	            toolboxComponent = config.toolboxComponent,
	            toolbox = toolboxComponent.toolbox,
	            toolboxCompConfig = toolboxComponent.config,
	            HorizontalToolbar = toolbox.HorizontalToolbar,
	            ComponentGroup = toolbox.ComponentGroup,
	            SymbolStore = toolbox.SymbolStore,
	            graphics = tsObject.graphics,
	            paper = graphics.paper,
	            container = graphics.container,
	            chart = tsObject.chart,
	            smartLabel = tsObject.smartLabel,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            timePeriodMenuDisableConfig,
	            timeMultiplierMenuDisableConfig,
	            aggMethodMenuDisableonfig,
	            dropDownMenuStyle,
	            applyButtonDisableConfig,
	            resetButtonDisableConfig,
	            style,
	            dependencies = {
	          paper: paper,
	          chart: chart,
	          smartLabel: smartLabel,
	          chartContainer: container
	        },
	            apply = function apply(set) {
	          var model = config.composition.reactiveModel,
	              timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              aggMethodSelectMenuVal = aggMethodSelectMenu.value(),
	              keys,
	              binSize,
	              timeInterval,
	              aggregation = self.aggregation,
	              canvas = config.composition.impl;
	
	          var _iteratorNormalCompletion = true;
	          var _didIteratorError = false;
	          var _iteratorError = undefined;
	
	          try {
	            for (var _iterator = config.avlTimePeriods[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
	              keys = _step.value;
	
	              if (keys.name === timePeriodVal) {
	                timeInterval = keys.interval;
	                break;
	              }
	            }
	          } catch (err) {
	            _didIteratorError = true;
	            _iteratorError = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion && _iterator.return) {
	                _iterator.return();
	              }
	            } finally {
	              if (_didIteratorError) {
	                throw _iteratorError;
	              }
	            }
	          }
	
	          binSize = timeInterval * Number(timePeriodMultiplierVal);
	          if (set && isFinite(model.prop('bin-size'))) {
	            model.lock().prop('bin-size-ext', binSize).prop('aggregation-fn-ext', config.avlAggMethods[aggMethodSelectMenuVal]).unlock();
	            aggregation.binSize = binSize;
	            aggregation.aggregationMethod = aggMethodSelectMenuVal;
	            applyButton.updateVisual('disabled');
	            resetButton.updateVisual('enabled');
	          } else {
	            canvas.resetAggregation();
	            aggregation.binSize = null;
	            aggregation.aggregationMethod = null;
	            resetButton.updateVisual('disabled');
	          }
	        },
	            timePeriodOnChange = function timePeriodOnChange() {
	          var timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              prevTimePeroidMulVal = timePeriodMultiplierVal,
	              validTimePeriod = config.validTimePeriod,
	              validTimePeriodMultiplier = config.validTimePeriodMultiplier,
	              indexOfTimeUnit,
	              indexOfTimeMul;
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriodVal);
	          indexOfTimeMul = validTimePeriodMultiplier[indexOfTimeUnit].indexOf(Number(timePeriodMultiplierVal));
	
	          timeMulSelectMenuOpt = [];
	          var _iteratorNormalCompletion2 = true;
	          var _didIteratorError2 = false;
	          var _iteratorError2 = undefined;
	
	          try {
	            for (var _iterator2 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
	              multiplierVal = _step2.value;
	
	              timeMulSelectMenuOpt.push({
	                name: multiplierVal.toString(),
	                value: multiplierVal.toString()
	              });
	            }
	          } catch (err) {
	            _didIteratorError2 = true;
	            _iteratorError2 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion2 && _iterator2.return) {
	                _iterator2.return();
	              }
	            } finally {
	              if (_didIteratorError2) {
	                throw _iteratorError2;
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	
	          if (indexOfTimeMul < 0) {
	            timeMulSelectMenu.value(validTimePeriodMultiplier[indexOfTimeUnit][0].toString());
	          } else {
	            timeMulSelectMenu.value(prevTimePeroidMulVal);
	          }
	        },
	            onChange = function onChange(type) {
	          var currentAgg = self.getCurrentAggreation();
	
	          if (currentAgg.timePeriodMultiplier.toString() !== timeMulSelectMenu.value() || currentAgg.timePeriod !== timePeriodSelectMenu.value() || currentAgg.aggregationMethod.value !== aggMethodSelectMenu.value()) {
	            applyButton.updateVisual('enabled');
	          } else {
	            applyButton.updateVisual('disabled');
	          }
	        };
	
	        group = new ComponentGroup(dependencies);
	        toolbar = new HorizontalToolbar(dependencies);
	
	        config.usrConfig = {
	          enabled: true,
	          posWrtCanvas: 'top',
	          alignment: 'left',
	          orientation: 'horizontal',
	          styles: {
	            timeMultiplierInputField: {
	              active: {
	                'fill': '#fff',
	                'labelFill': '#696969',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverStroke': '#696969',
	                'hoverStrokeWidth': 1,
	                'radius': 1,
	                'width': 45,
	                'height': 22
	              },
	              inactive: {
	                'fill': '#fff',
	                'stroke-width': 1,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#000'
	              }
	            },
	            timePeriodInputField: {
	              active: {
	                'fill': '#fff',
	                'labelFill': '#696969',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverStroke': '#696969',
	                'hoverStrokeWidth': 1,
	                'radius': 1,
	                'width': 75,
	                'height': 22
	              },
	              inactive: {
	                'fill': '#fff',
	                'stroke-width': 1,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#000'
	              }
	            },
	            aggregationMethodInputField: {
	              active: {
	                'fill': '#fff',
	                'labelFill': '#696969',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverStroke': '#696969',
	                'hoverStrokeWidth': 1,
	                'radius': 1,
	                'width': 100,
	                'height': 22
	              },
	              inactive: {
	                'fill': '#fff',
	                'stroke-width': 1,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#000'
	              }
	            },
	            dropDown: {
	              active: {
	                'fill': '#898b8b',
	                'labelFill': '#fff'
	              },
	              normal: {
	                'fill': '#fff',
	                'labelFill': '#000',
	                'hoverFill': '#e6e8e8',
	                'hoverLabelFill': '#000'
	              }
	            },
	            applyButton: {
	              active: {
	                'fill': '#555',
	                'labelFill': '#f3f3f3',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverFill': '#555',
	                'hoverStrokeWidth': 1,
	                'hoverStroke': '',
	                'radius': 1,
	                'width': 30,
	                'height': 20
	              },
	              inactive: {
	                'fill': '#bebebe',
	                'stroke-width': 3,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#f3f3f3'
	              }
	            },
	            resetButton: {
	              active: {
	                'fill': '#898b8b',
	                'labelFill': '#f3f3f3',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverFill': '#898b8b',
	                'hoverStrokeWidth': 1,
	                'hoverStroke': '',
	                'radius': 1,
	                'width': 30,
	                'height': 20
	              },
	              inactive: {
	                'fill': '#bebebe',
	                'stroke-width': 3,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#f3f3f3'
	              }
	            },
	            base: {
	              font: {
	                'fontSize': 11
	              }
	            }
	          }
	        };
	
	        style = config.usrConfig.styles || {};
	
	        style = {
	          timeMultiplierInputField: {
	            active: style.timeMultiplierInputField && style.timeMultiplierInputField.active || {},
	            inactive: style.timeMultiplierInputField && style.timeMultiplierInputField.inactive || {}
	          },
	          timePeriodInputField: {
	            active: style.timePeriodInputField && style.timePeriodInputField.active || {},
	            inactive: style.timePeriodInputField && style.timePeriodInputField.inactive || {}
	          },
	          aggregationMethodInputField: {
	            active: style.aggregationMethodInputField && style.aggregationMethodInputField.active || {},
	            inactive: style.aggregationMethodInputField && style.aggregationMethodInputField.inactive || {}
	          },
	          dropDown: {
	            active: style.dropDown && style.dropDown.active || {},
	            normal: style.dropDown && style.dropDown.normal || {}
	          },
	          applyButton: {
	            active: style.applyButton && style.applyButton.active || {},
	            inactive: style.applyButton && style.applyButton.inactive || {}
	          },
	          resetButton: {
	            active: style.resetButton && style.resetButton.active || {},
	            inactive: style.resetButton && style.resetButton.inactive || {}
	          },
	          base: {
	            font: style.base && style.base.font || {}
	          }
	        };
	
	        group.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        toolbar.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        timePeriodMenuDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.timeMultiplierInputField.inactive
	            }
	          }
	        };
	
	        timeMultiplierMenuDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.timePeriodInputField.inactive
	            }
	          }
	        };
	
	        aggMethodMenuDisableonfig = {
	          disabled: {
	            config: {
	              disabled: style.aggregationMethodInputField.inactive
	            }
	          }
	        };
	
	        applyButtonDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.applyButton.inactive
	            }
	          }
	        };
	
	        resetButtonDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.resetButton.inactive
	            }
	          }
	        };
	
	        dropDownMenuStyle = {
	          selected: {
	            container: {
	              style: {
	                fill: style.dropDown.active.fill
	              }
	            },
	            text: {
	              style: {
	                fill: style.dropDown.active.labelFill
	              }
	            }
	          },
	          normal: {
	            container: {
	              style: {
	                fill: style.dropDown.normal.fill
	              }
	            },
	            text: {
	              style: {
	                fill: style.dropDown.normal.labelFill
	              }
	            }
	          },
	          hover: {
	            container: {
	              style: {
	                fill: style.dropDown.normal.hoverFill
	              }
	            },
	            text: {
	              style: {
	                fill: style.dropDown.normal.hoverLabelFill
	              }
	            }
	          }
	        };
	
	        label = new toolbox.Label('Aggregate Data:', dependencies, {
	          text: {
	            style: {
	              'font-size': '14',
	              'fill': '#696969'
	            }
	          }
	        });
	
	        toolboxCompConfig.timePeriodSelectMenu = timePeriodSelectMenu = new toolbox.SelectSymbol({}, dependencies, [], Object.assign(style.timePeriodInputField.active, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          },
	          dropDownMenu: dropDownMenuStyle
	        }));
	        timePeriodSelectMenu.setStateConfig(timePeriodMenuDisableConfig);
	
	        toolboxCompConfig.timeMulSelectMenu = timeMulSelectMenu = new toolbox.SelectSymbol({}, dependencies, [], Object.assign(style.timeMultiplierInputField.active, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          },
	          dropDownMenu: dropDownMenuStyle
	        }));
	        timeMulSelectMenu.setStateConfig(timeMultiplierMenuDisableConfig);
	
	        toolboxCompConfig.aggMethodSelectMenu = aggMethodSelectMenu = new toolbox.SelectSymbol({}, dependencies, [], Object.assign(style.aggregationMethodInputField.active, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          },
	          dropDownMenu: dropDownMenuStyle
	        }));
	        aggMethodSelectMenu.setStateConfig(aggMethodMenuDisableonfig);
	
	        toolboxCompConfig.applyButton = applyButton = new toolbox.Symbol('APPLY', true, dependencies, Object.assign(style.applyButton.active, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          }
	        })).attachEventHandlers({
	          click: function click() {
	            apply(1);
	          }
	        });
	        applyButton.setStateConfig(applyButtonDisableConfig);
	
	        toolboxCompConfig.resetButton = resetButton = new toolbox.Symbol('RESET', true, dependencies, Object.assign(style.resetButton.active, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          }
	        })).attachEventHandlers({
	          click: function click() {
	            apply(0);
	          }
	        });
	        resetButton.setStateConfig(resetButtonDisableConfig);
	
	        group.addSymbol(label);
	        group.addSymbol(timeMulSelectMenu);
	        group.addSymbol(timePeriodSelectMenu);
	        group.addSymbol(aggMethodSelectMenu);
	        group.addSymbol(applyButton);
	        group.addSymbol(resetButton);
	
	        SymbolStore.register('textBoxIcon', function (x, y, rad, w, h, padX, padY) {
	          var x1 = x - w / 2 + padX / 2,
	              x2 = x + w / 2 - padX / 2,
	              y1 = y - h / 2 + padY / 2,
	              y2 = y + h / 2 - padY / 2;
	
	          return ['M', x1, y1, 'L', x2, y1, 'L', x2, y2, 'L', x1, y2, 'Z'];
	        });
	
	        timePeriodSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            timePeriodOnChange();
	            onChange();
	          }
	        });
	
	        timeMulSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            onChange();
	          }
	        });
	
	        aggMethodSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            onChange();
	          }
	        });
	
	        toolbar.addComponent(group);
	
	        return toolbar;
	      }
	    }, {
	      key: 'getLogicalSpace',
	      value: function getLogicalSpace(availableWidth, availableHeight) {
	        var logicalSpace,
	            width = 0,
	            height = 0,
	            i,
	            ln;
	
	        for (i = 0, ln = this.toolbars.length; i < ln; i++) {
	          logicalSpace = this.toolbars[i].getLogicalSpace();
	          width = Math.max(logicalSpace.width, width);
	          height += logicalSpace.height;
	          this.toolbars[i].width = logicalSpace.width;
	          this.toolbars[i].height = logicalSpace.height;
	        }
	        height += this.padding;
	        return {
	          width: width > availableWidth ? 0 : width,
	          height: height > availableHeight ? 0 : height
	        };
	      }
	    }, {
	      key: 'placeInCanvas',
	      value: function placeInCanvas(containerInstance) {
	        var _self = this,
	            tsObject = _self.tsObject;
	
	        _self.padding = 5;
	        tsObject.spaceManagerInstance.add([{
	          name: function name() {
	            return 'DataAggregator';
	          },
	          ref: function ref(obj) {
	            return obj['0'];
	          },
	          self: function self() {
	            return _self;
	          },
	          priority: function priority() {
	            return 2;
	          },
	          layout: function layout(obj) {
	            return obj.inline;
	          },
	          orientation: [{
	            type: function type(obj) {
	              return obj.horizontal;
	            },
	            position: [{
	              type: function type(obj) {
	                return obj.top;
	              },
	              alignment: [{
	                type: function type(obj) {
	                  return obj.left;
	                },
	                dimensions: [function () {
	                  var parent = this.getParentComponentGroup();
	                  return _self.getLogicalSpace(parent.getWidth(), parent.getHeight());
	                }]
	              }]
	            }]
	          }]
	        }]);
	      }
	    }, {
	      key: 'setDrawingConfiguration',
	      value: function setDrawingConfiguration(x, y, width, height, group) {
	        var mes = this.measurement;
	        mes.x = x;
	        mes.y = y;
	        mes.width = width;
	        mes.height = height;
	
	        this.parentGroup = group;
	
	        return this;
	      }
	    }, {
	      key: 'draw',
	      value: function draw(x, y, width, height, group) {
	        var self = this,
	            config = self.config,
	            toolboxCompConfig = config.toolboxComponent.config,
	            timePeriodSelectMenu = toolboxCompConfig.timePeriodSelectMenu,
	            timeMulSelectMenu = toolboxCompConfig.timeMulSelectMenu,
	            aggMethodSelectMenu = toolboxCompConfig.aggMethodSelectMenu,
	            applyButton = toolboxCompConfig.applyButton,
	            resetButton = toolboxCompConfig.resetButton,
	            measurement = self.measurement,
	            toolbars = self.toolbars,
	            ln,
	            i,
	            toolbar,
	            model = config.composition.reactiveModel,
	            dataAgg = config.dataAgg,
	            timePeriodVal,
	            timePeriodSelectMenuOpt,
	            validTimePeriod,
	            indexOfTimeUnit,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            validTimePeriodMultiplier,
	            aggVal,
	            aggMethodSelectMenuOpt,
	            avlAggMethods,
	            rangeOnChange = function rangeOnChange() {
	          var aggregation = self.aggregation,
	              currentAggregationObj,
	              timePeriod,
	              timePeriodMultiplier,
	              aggregationMethod;
	
	          self.getValidAggregation();
	          currentAggregationObj = self.getCurrentAggreation();
	          timePeriod = currentAggregationObj.timePeriod;
	          timePeriodMultiplier = currentAggregationObj.timePeriodMultiplier;
	          aggregationMethod = currentAggregationObj.aggregationMethod;
	
	          timePeriodSelectMenuOpt = [];
	          timeMulSelectMenuOpt = [];
	          aggMethodSelectMenuOpt = [];
	
	          validTimePeriod = config.validTimePeriod;
	          validTimePeriodMultiplier = config.validTimePeriodMultiplier;
	          avlAggMethods = config.avlAggMethods;
	
	          applyButton.updateVisual('disabled');
	
	          if (aggregation.binSize !== model.prop('bin-size') && aggregationMethod.value === config.defaultAggMethod) {
	            aggregation.binSize = null;
	            aggregation.aggregationMethod = null;
	            resetButton.updateVisual('disabled');
	          } else {
	            resetButton.updateVisual('enabled');
	          }
	
	          if (!config.canAggregate) {
	            timePeriodSelectMenu.updateVisual('disabled');
	            timeMulSelectMenu.updateVisual('disabled');
	            aggMethodSelectMenu.updateVisual('disabled');
	            resetButton.updateVisual('disabled');
	          } else {
	            timePeriodSelectMenu.updateVisual('enabled');
	            timeMulSelectMenu.updateVisual('enabled');
	            aggMethodSelectMenu.updateVisual('enabled');
	          }
	
	          var _iteratorNormalCompletion3 = true;
	          var _didIteratorError3 = false;
	          var _iteratorError3 = undefined;
	
	          try {
	            for (var _iterator3 = validTimePeriod[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
	              timePeriodVal = _step3.value;
	
	              timePeriodSelectMenuOpt.push({
	                name: timePeriodVal,
	                value: timePeriodVal
	              });
	            }
	          } catch (err) {
	            _didIteratorError3 = true;
	            _iteratorError3 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion3 && _iterator3.return) {
	                _iterator3.return();
	              }
	            } finally {
	              if (_didIteratorError3) {
	                throw _iteratorError3;
	              }
	            }
	          }
	
	          timePeriodSelectMenu.updateList(timePeriodSelectMenuOpt);
	          timePeriodSelectMenu.value(timePeriod);
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriod);
	
	          if (indexOfTimeUnit >= 0) {
	            var _iteratorNormalCompletion4 = true;
	            var _didIteratorError4 = false;
	            var _iteratorError4 = undefined;
	
	            try {
	              for (var _iterator4 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
	                multiplierVal = _step4.value;
	
	                timeMulSelectMenuOpt.push({
	                  name: multiplierVal.toString(),
	                  value: multiplierVal.toString()
	                });
	              }
	            } catch (err) {
	              _didIteratorError4 = true;
	              _iteratorError4 = err;
	            } finally {
	              try {
	                if (!_iteratorNormalCompletion4 && _iterator4.return) {
	                  _iterator4.return();
	                }
	              } finally {
	                if (_didIteratorError4) {
	                  throw _iteratorError4;
	                }
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	          timeMulSelectMenu.value(timePeriodMultiplier.toString());
	
	          for (aggVal in avlAggMethods) {
	            aggMethodSelectMenuOpt.push({
	              name: avlAggMethods[aggVal].formalName,
	              value: avlAggMethods[aggVal].nickName
	            });
	          }
	
	          aggMethodSelectMenu.updateList(aggMethodSelectMenuOpt);
	          aggMethodSelectMenu.value(aggregationMethod.value);
	        };
	
	        self.getAvailablelAggreagation();
	
	        x = x === undefined ? measurement.x : x;
	        y = y === undefined ? measurement.y : y;
	        width = width === undefined ? measurement.width : width;
	        height = height === undefined ? measurement.height : height;
	        group = group === undefined ? self.parentGroup : group;
	        if (width && height) {
	          for (i = 0, ln = toolbars.length; i < ln; i++) {
	            toolbar = toolbars[i];
	            toolbar.draw(x, y);
	          }
	        }
	        rangeOnChange();
	        applyButton.updateVisual('disabled');
	        resetButton.updateVisual('disabled');
	        config.defaultAggMethod = dataAgg.getDefaultAggregationMethod().nickName;
	
	        model.onPropsChange(['bin-size', 'aggregation-fn'], rangeOnChange);
	      }
	    }, {
	      key: 'dispose',
	      value: function dispose() {
	        // dispose extension
	      }
	    }, {
	      key: 'aggregation',
	      get: function get() {
	        return this.appliedAggregation;
	      },
	      set: function set(obj) {
	        this.appliedAggregation.timePeriod = obj.timePeriod;
	        this.appliedAggregation.timePeriodMultiplier = obj.timePeriodMultiplier;
	        this.appliedAggregation.aggregationMethod = obj.aggregationMethod;
	      }
	    }]);
	
	    return Aggregator;
	  }();
	
	  return Aggregator;
	};

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjU3Zjk3ZWViMWFkNTg5NTYyNTEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanMiXSwibmFtZXMiOlsiQWdncmVnYXRvckdldHRlciIsInJlcXVpcmUiLCJlbnYiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50Iiwid2luIiwiRXJyb3IiLCJBZ2dyZWdhdG9yIiwid2luZG93IiwiX3dpbmRvdyIsIndpbmRvd0V4aXN0cyIsIkZDIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJyZWdpc3RlckNvbXBvbmVudCIsImRlcCIsImFwcGxpZWRBZ2dyZWdhdGlvbiIsImJpblNpemUiLCJhZ2dyZWdhdGlvbk1ldGhvZCIsImNvbmZpZyIsImRhdGFBZ2ciLCJhdmxUaW1lUGVyaW9kcyIsImdldEFnZ3JlZ2F0aW9uVGltZVJ1bGVzIiwiaSIsImxlbiIsImF2bFRpbWVNdWx0aXBsaWVyIiwibGVuZ3RoIiwicHVzaCIsInBvc3NpYmxlRmFjdG9ycyIsInNlbGYiLCJ0c09iamVjdCIsImoiLCJsZW4xIiwibGVuMiIsIm1heE51bU9mUGxvdCIsImNvbXBvc2l0aW9uIiwicmVhY3RpdmVNb2RlbCIsIm1vZGVsIiwibXVsdGlwbGllcnNBcnIiLCJjdXJyZW50VGltZUxlbmd0aCIsInRpbWVQZXJpb2QiLCJ0aW1lIiwiZXhwZWN0ZWRUaW1lIiwibXVsdGlwbGllciIsIm1pbkJpblNpemUiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwidmFsaWRUaW1lUGVyaW9kIiwidmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciIsImF2bEFnZ01ldGhvZHMiLCJnZXRBbGxBZ2dyZWdhdGlvbk1ldGhvZCIsIm5hbWUiLCJpbnRlcnZhbCIsImN1cnJlbnRBZ2dNZXRob2QiLCJzdWl0YWJsZUludGVydmFsIiwicHJvcCIsImlzRmluaXRlIiwiY2FuQWdncmVnYXRlIiwidGltZVJ1bGVzIiwiZ2V0U3VpdGFibGVJbnRlcnZhbCIsInN0ZXAiLCJmb3JtYWxOYW1lIiwibmlja05hbWUiLCJ0aW1lUGVyaW9kTXVsdGlwbGllciIsInZhbHVlIiwidGV4dCIsInRvb2xib3hDb21wb25lbnQiLCJhcGkiLCJzdG9yZSIsInNhdmVUbyIsInJlcXVpcmVkUGFyYW1zIiwiYWNxdWlyZSIsImlpIiwicGFyYW0iLCJhcmd1bWVudHMiLCJjaGFydEluc3RhbmNlIiwiYXBpSW5zdGFuY2UiLCJnZXRDb21wb25lbnRTdG9yZSIsImdldENhbnZhc0J5SW5kZXgiLCJpbXBsIiwiZ2V0RGF0YUFnZ3JlZ2F0b3IiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwidG9vbGJhcnMiLCJtZWFzdXJlbWVudCIsImNyZWF0ZVRvb2xiYXIiLCJncm91cCIsInRvb2xiYXIiLCJ0aW1lTXVsU2VsZWN0TWVudSIsInRpbWVQZXJpb2RTZWxlY3RNZW51IiwiYWdnTWV0aG9kU2VsZWN0TWVudSIsInJlc2V0QnV0dG9uIiwiYXBwbHlCdXR0b24iLCJsYWJlbCIsInRvb2xib3hDb21wQ29uZmlnIiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwiZ3JhcGhpY3MiLCJwYXBlciIsImNvbnRhaW5lciIsImNoYXJ0Iiwic21hcnRMYWJlbCIsIm11bHRpcGxpZXJWYWwiLCJ0aW1lTXVsU2VsZWN0TWVudU9wdCIsInRpbWVQZXJpb2RNZW51RGlzYWJsZUNvbmZpZyIsInRpbWVNdWx0aXBsaWVyTWVudURpc2FibGVDb25maWciLCJhZ2dNZXRob2RNZW51RGlzYWJsZW9uZmlnIiwiZHJvcERvd25NZW51U3R5bGUiLCJhcHBseUJ1dHRvbkRpc2FibGVDb25maWciLCJyZXNldEJ1dHRvbkRpc2FibGVDb25maWciLCJzdHlsZSIsImRlcGVuZGVuY2llcyIsImNoYXJ0Q29udGFpbmVyIiwiYXBwbHkiLCJzZXQiLCJ0aW1lUGVyaW9kVmFsIiwidGltZVBlcmlvZE11bHRpcGxpZXJWYWwiLCJhZ2dNZXRob2RTZWxlY3RNZW51VmFsIiwia2V5cyIsInRpbWVJbnRlcnZhbCIsImFnZ3JlZ2F0aW9uIiwiY2FudmFzIiwiTnVtYmVyIiwibG9jayIsInVubG9jayIsInVwZGF0ZVZpc3VhbCIsInJlc2V0QWdncmVnYXRpb24iLCJ0aW1lUGVyaW9kT25DaGFuZ2UiLCJwcmV2VGltZVBlcm9pZE11bFZhbCIsImluZGV4T2ZUaW1lVW5pdCIsImluZGV4T2ZUaW1lTXVsIiwiaW5kZXhPZiIsInRvU3RyaW5nIiwidXBkYXRlTGlzdCIsIm9uQ2hhbmdlIiwidHlwZSIsImN1cnJlbnRBZ2ciLCJnZXRDdXJyZW50QWdncmVhdGlvbiIsInVzckNvbmZpZyIsImVuYWJsZWQiLCJwb3NXcnRDYW52YXMiLCJhbGlnbm1lbnQiLCJvcmllbnRhdGlvbiIsInN0eWxlcyIsInRpbWVNdWx0aXBsaWVySW5wdXRGaWVsZCIsImFjdGl2ZSIsImluYWN0aXZlIiwidGltZVBlcmlvZElucHV0RmllbGQiLCJhZ2dyZWdhdGlvbk1ldGhvZElucHV0RmllbGQiLCJkcm9wRG93biIsIm5vcm1hbCIsImJhc2UiLCJmb250Iiwic2V0Q29uZmlnIiwiZmlsbCIsImJvcmRlclRoaWNrbmVzcyIsImRpc2FibGVkIiwic2VsZWN0ZWQiLCJsYWJlbEZpbGwiLCJob3ZlciIsImhvdmVyRmlsbCIsImhvdmVyTGFiZWxGaWxsIiwiTGFiZWwiLCJTZWxlY3RTeW1ib2wiLCJPYmplY3QiLCJhc3NpZ24iLCJidG5UZXh0U3R5bGUiLCJmb250U2l6ZSIsImRyb3BEb3duTWVudSIsInNldFN0YXRlQ29uZmlnIiwiU3ltYm9sIiwiYXR0YWNoRXZlbnRIYW5kbGVycyIsImNsaWNrIiwiYWRkU3ltYm9sIiwieCIsInkiLCJyYWQiLCJ3IiwiaCIsInBhZFgiLCJwYWRZIiwieDEiLCJ4MiIsInkxIiwieTIiLCJ0ZXh0T25DaGFuZ2UiLCJhZGRDb21wb25lbnQiLCJhdmFpbGFibGVXaWR0aCIsImF2YWlsYWJsZUhlaWdodCIsImxvZ2ljYWxTcGFjZSIsIndpZHRoIiwiaGVpZ2h0IiwibG4iLCJnZXRMb2dpY2FsU3BhY2UiLCJNYXRoIiwibWF4IiwicGFkZGluZyIsImNvbnRhaW5lckluc3RhbmNlIiwic3BhY2VNYW5hZ2VySW5zdGFuY2UiLCJhZGQiLCJyZWYiLCJvYmoiLCJwcmlvcml0eSIsImxheW91dCIsImlubGluZSIsImhvcml6b250YWwiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJkaW1lbnNpb25zIiwicGFyZW50IiwiZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIm1lcyIsInBhcmVudEdyb3VwIiwidGltZVBlcmlvZFNlbGVjdE1lbnVPcHQiLCJhZ2dWYWwiLCJhZ2dNZXRob2RTZWxlY3RNZW51T3B0IiwicmFuZ2VPbkNoYW5nZSIsImN1cnJlbnRBZ2dyZWdhdGlvbk9iaiIsImdldFZhbGlkQWdncmVnYXRpb24iLCJkZWZhdWx0QWdnTWV0aG9kIiwiZ2V0QXZhaWxhYmxlbEFnZ3JlYWdhdGlvbiIsInVuZGVmaW5lZCIsImRyYXciLCJnZXREZWZhdWx0QWdncmVnYXRpb25NZXRob2QiLCJvblByb3BzQ2hhbmdlIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQ3RDQTs7OztBQUNBLEtBQU1BLG1CQUFtQixtQkFBQUMsQ0FBUSxDQUFSLENBQXpCOztBQUVBLEVBQUMsQ0FBQyxVQUFVQyxHQUFWLEVBQWVDLE9BQWYsRUFBd0I7QUFDeEIsT0FBSSxnQ0FBT0MsTUFBUCxPQUFrQixRQUFsQixJQUE4QkEsT0FBT0MsT0FBekMsRUFBa0Q7QUFD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V0FBM0IsR0FBeUNsSSxLQUFqRDtBQUNBLGFBQUl5RyxTQUFTQyxNQUFiLEVBQXFCO0FBQ25CLGdCQUFLeEssSUFBSSxDQUFKLEVBQU95SyxLQUFLOUcsU0FBU3hELE1BQTFCLEVBQWtDSCxJQUFJeUssRUFBdEMsRUFBMEN6SyxHQUExQyxFQUErQztBQUM3QytELHVCQUFVSixTQUFTM0QsQ0FBVCxDQUFWO0FBQ0ErRCxxQkFBUTJJLElBQVIsQ0FBYW5ELENBQWIsRUFBZ0JDLENBQWhCO0FBQ0Q7QUFDRjtBQUNENEM7QUFDQWhJLHFCQUFZa0MsWUFBWixDQUF5QixVQUF6QjtBQUNBbkMscUJBQVltQyxZQUFaLENBQXlCLFVBQXpCO0FBQ0ExRyxnQkFBTzJNLGdCQUFQLEdBQTBCMU0sUUFBUThNLDJCQUFSLEdBQXNDckssUUFBaEU7O0FBRUF4QixlQUFNOEwsYUFBTixDQUFvQixDQUFDLFVBQUQsRUFBYSxnQkFBYixDQUFwQixFQUFvRFIsYUFBcEQ7QUFDRDtBQWwzQjJCO0FBQUE7QUFBQSxpQ0FvM0JqQjtBQUNUO0FBQ0Q7QUF0M0IyQjtBQUFBO0FBQUEsMkJBMkJUO0FBQ2pCLGdCQUFPLEtBQUszTSxrQkFBWjtBQUNELFFBN0IyQjtBQUFBLHlCQStCWHlMLEdBL0JXLEVBK0JOO0FBQ3BCLGNBQUt6TCxrQkFBTCxDQUF3QndCLFVBQXhCLEdBQXFDaUssSUFBSWpLLFVBQXpDO0FBQ0EsY0FBS3hCLGtCQUFMLENBQXdCOEMsb0JBQXhCLEdBQStDMkksSUFBSTNJLG9CQUFuRDtBQUNBLGNBQUs5QyxrQkFBTCxDQUF3QkUsaUJBQXhCLEdBQTRDdUwsSUFBSXZMLGlCQUFoRDtBQUNEO0FBbkMyQjs7QUFBQTtBQUFBOztBQXczQjlCLFVBQU9YLFVBQVA7QUFDRCxFQXozQkQsQyIsImZpbGUiOiJmY3RzLWV4dC1kYXRhYWdncmVnYXRvci1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMjU3Zjk3ZWViMWFkNTg5NTYyNTEiLCIndXNlIHN0cmljdCc7XG5jb25zdCBBZ2dyZWdhdG9yR2V0dGVyID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1hZ2dyZWdhdG9yJyk7XG5cbjsoZnVuY3Rpb24gKGVudiwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGVudi5kb2N1bWVudFxuICAgICAgID8gZmFjdG9yeShlbnYpIDogZnVuY3Rpb24gKHdpbikge1xuICAgICAgICAgaWYgKCF3aW4uZG9jdW1lbnQpIHtcbiAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXaW5kb3cgd2l0aCBkb2N1bWVudCBub3QgcHJlc2VudCcpO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGZhY3Rvcnkod2luLCB0cnVlKTtcbiAgICAgICB9O1xuICB9IGVsc2Uge1xuICAgIGVudi5BZ2dyZWdhdG9yID0gZmFjdG9yeShlbnYsIHRydWUpO1xuICB9XG59KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIChfd2luZG93LCB3aW5kb3dFeGlzdHMpIHtcbiAgdmFyIEZDID0gX3dpbmRvdy5GdXNpb25DaGFydHM7XG5cbiAgRkMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsncHJpdmF0ZScsICdkYXRhLWFnZ3JlZ2F0b3InLCBmdW5jdGlvbiAoKSB7XG4gICAgRkMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnZGF0YS1hZ2dyZWdhdG9yJywgQWdncmVnYXRvckdldHRlcih7RkM6IEZDfSkpO1xuICB9XSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRlcCkge1xuICAvKipcbiAgICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRhIEFnZ3JlZ2F0b3IuXG4gICAqL1xuICBjbGFzcyBBZ2dyZWdhdG9yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBBZ2dyZWdhdG9yLlxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IEFnZ3JlZ2F0b3IuYWdncmVnYXRpb25cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdGltZVBlcmlvZCAtIFRoZSB0aW1lIGludGVydmFsIG9mIGFnZ3JlZ2F0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lUGVyaW9kTXVsdGlwbGllciAtIFRoZSBtdWx0aXBsaWVyIG9mIHRpbWUgaW50ZXJ2YWwuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGFnZ3JlZ2F0aW9uTWV0aG9kIC0gVGhlIG1ldGhvZCBhcHBsaWVkIHRvIGFnZ3JlZ2F0ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uID0ge1xuICAgICAgICBiaW5TaXplOiBudWxsLFxuICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZDogbnVsbFxuICAgICAgfTtcbiAgICAgIHRoaXMuY29uZmlnID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgdGltZVBlcmlvZCwgdGltZVBlcmlvZE11bHRpcGxpZXIsIGFnZ3JlZ2F0aW9uTWV0aG9kLlxuICAgICAqIEB0eXBlIHtBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9ufVxuICAgICAqL1xuICAgIGdldCBhZ2dyZWdhdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBsaWVkQWdncmVnYXRpb247XG4gICAgfVxuXG4gICAgc2V0IGFnZ3JlZ2F0aW9uIChvYmopIHtcbiAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2QgPSBvYmoudGltZVBlcmlvZDtcbiAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2RNdWx0aXBsaWVyID0gb2JqLnRpbWVQZXJpb2RNdWx0aXBsaWVyO1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24uYWdncmVnYXRpb25NZXRob2QgPSBvYmouYWdncmVnYXRpb25NZXRob2Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhdmFpbGFibGUgYWdncmVnYXRpb24gb3B0aW9ucyBpbiBjb25maWd1cmF0aW9uIG9mIGV4dGVuc2lvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0QXZhaWxhYmxlbEFnZ3JlYWdhdGlvbiAoKSB7XG4gICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWcsXG4gICAgICAgIGRhdGFBZ2cgPSBjb25maWcuZGF0YUFnZyxcbiAgICAgICAgYXZsVGltZVBlcmlvZHMgPSBjb25maWcuYXZsVGltZVBlcmlvZHMgPSBkYXRhQWdnLmdldEFnZ3JlZ2F0aW9uVGltZVJ1bGVzKCksXG4gICAgICAgIGksXG4gICAgICAgIGxlbjtcblxuICAgICAgY29uZmlnLmF2bFRpbWVNdWx0aXBsaWVyID0gW107XG4gICAgICBsZW4gPSBhdmxUaW1lUGVyaW9kcy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25maWcuYXZsVGltZU11bHRpcGxpZXIucHVzaChhdmxUaW1lUGVyaW9kc1tpXS5wb3NzaWJsZUZhY3RvcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdmFsaWQgYWdncmVnYXRpb24gdGltZSBwZXJpb2RzIGFuZCBjb3JyZXNwb25kaW5nIG11bHRpcGxpZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRWYWxpZEFnZ3JlZ2F0aW9uICgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRzT2JqZWN0ID0gc2VsZi50c09iamVjdCxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuICAgICAgICBpLFxuICAgICAgICBqLFxuICAgICAgICBsZW4xLFxuICAgICAgICBsZW4yLFxuICAgICAgICBhdmxUaW1lUGVyaW9kcyxcbiAgICAgICAgYXZsVGltZU11bHRpcGxpZXIsXG4gICAgICAgIC8vIG1pbk51bU9mUGxvdCA9IDUsXG4gICAgICAgIG1heE51bU9mUGxvdCA9IGNvbmZpZy5jb21wb3NpdGlvbi5yZWFjdGl2ZU1vZGVsLm1vZGVsWydtYXgtcGxvdC1wb2ludCddLFxuICAgICAgICBtdWx0aXBsaWVyc0FycixcbiAgICAgICAgY3VycmVudFRpbWVMZW5ndGgsXG4gICAgICAgIHRpbWVQZXJpb2QsXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGV4cGVjdGVkVGltZSxcbiAgICAgICAgbXVsdGlwbGllcixcbiAgICAgICAgbWluQmluU2l6ZTtcbiAgICAgICAgLy8gbWF4QmluU2l6ZTtcblxuICAgICAgY29uZmlnLmN1cnJlbnRUaW1lTGVuZ3RoID0gdHNPYmplY3QuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ10gLVxuICAgICAgICB0c09iamVjdC5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuXG4gICAgICBhdmxUaW1lUGVyaW9kcyA9IGNvbmZpZy5hdmxUaW1lUGVyaW9kcztcbiAgICAgIGF2bFRpbWVNdWx0aXBsaWVyID0gY29uZmlnLmF2bFRpbWVNdWx0aXBsaWVyO1xuICAgICAgY3VycmVudFRpbWVMZW5ndGggPSBjb25maWcuY3VycmVudFRpbWVMZW5ndGg7XG5cbiAgICAgIGNvbmZpZy5taW5CaW5TaXplID0gbWluQmluU2l6ZSA9IGN1cnJlbnRUaW1lTGVuZ3RoIC8gbWF4TnVtT2ZQbG90O1xuICAgICAgLy8gY29uZmlnLm1heEJpblNpemUgPSBtYXhCaW5TaXplID0gY3VycmVudFRpbWVMZW5ndGggLyBtaW5OdW1PZlBsb3Q7XG5cbiAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QgPSBbXTtcbiAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyID0gW107XG4gICAgICBjb25maWcuYXZsQWdnTWV0aG9kcyA9IGRhdGFBZ2cuZ2V0QWxsQWdncmVnYXRpb25NZXRob2QoKTtcblxuICAgICAgZm9yIChpID0gMCwgbGVuMSA9IGF2bFRpbWVQZXJpb2RzLmxlbmd0aDsgaSA8IGxlbjE7IGkrKykge1xuICAgICAgICB0aW1lUGVyaW9kID0gYXZsVGltZVBlcmlvZHNbaV0ubmFtZTtcbiAgICAgICAgdGltZSA9IGF2bFRpbWVQZXJpb2RzW2ldLmludGVydmFsO1xuICAgICAgICBtdWx0aXBsaWVyc0FyciA9IFtdO1xuXG4gICAgICAgIGZvciAoaiA9IDAsIGxlbjIgPSBhdmxUaW1lTXVsdGlwbGllcltpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcbiAgICAgICAgICBtdWx0aXBsaWVyID0gYXZsVGltZU11bHRpcGxpZXJbaV1bal07XG4gICAgICAgICAgZXhwZWN0ZWRUaW1lID0gbXVsdGlwbGllciAqIHRpbWU7XG5cbiAgICAgICAgICAvLyBpZiAoKGV4cGVjdGVkVGltZSA+PSBtaW5CaW5TaXplKSAmJiAoZXhwZWN0ZWRUaW1lIDw9IG1heEJpblNpemUpKSB7XG4gICAgICAgICAgaWYgKChleHBlY3RlZFRpbWUgPj0gbWluQmluU2l6ZSkpIHtcbiAgICAgICAgICAgIG11bHRpcGxpZXJzQXJyLnB1c2goYXZsVGltZU11bHRpcGxpZXJbaV1bal0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobXVsdGlwbGllcnNBcnIubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyLnB1c2gobXVsdGlwbGllcnNBcnIpO1xuICAgICAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QucHVzaCh0aW1lUGVyaW9kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gY29uc29sZS5sb2coJ1RpbWUgUGVyaW9kOiAnLCBjb25maWcudmFsaWRUaW1lUGVyaW9kKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdOdW1iZXIgT2YgTXVsdGlwbGllcnM6ICcsIGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdNZXRob2RzOiAnLCBjb25maWcuYXZsQWdnTWV0aG9kcyk7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudEFnZ3JlYXRpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuICAgICAgICBjb21wb3NpdGlvbiA9IGNvbmZpZy5jb21wb3NpdGlvbixcbiAgICAgICAgbW9kZWwgPSBjb21wb3NpdGlvbi5yZWFjdGl2ZU1vZGVsLFxuICAgICAgICBjdXJyZW50QWdnTWV0aG9kLFxuICAgICAgICBzdWl0YWJsZUludGVydmFsLFxuICAgICAgICBiaW5TaXplO1xuXG4gICAgICBiaW5TaXplID0gbW9kZWwucHJvcCgnYmluLXNpemUnKSAtIDE7XG5cbiAgICAgIGlmIChpc0Zpbml0ZShiaW5TaXplKSkge1xuICAgICAgICBjb25maWcuY2FuQWdncmVnYXRlID0gdHJ1ZTtcbiAgICAgICAgc3VpdGFibGVJbnRlcnZhbCA9IGRhdGFBZ2cudGltZVJ1bGVzLmdldFN1aXRhYmxlSW50ZXJ2YWwoYmluU2l6ZSk7XG4gICAgICAgIGN1cnJlbnRBZ2dNZXRob2QgPSBtb2RlbC5wcm9wKCdhZ2dyZWdhdGlvbi1mbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlnLmNhbkFnZ3JlZ2F0ZSA9IGZhbHNlO1xuICAgICAgICBzdWl0YWJsZUludGVydmFsID0ge1xuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgIHN0ZXA6ICcnXG4gICAgICAgIH07XG4gICAgICAgIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QgPSBbc3VpdGFibGVJbnRlcnZhbC5uYW1lXTtcbiAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBbW3N1aXRhYmxlSW50ZXJ2YWwuc3RlcF1dO1xuICAgICAgICBjb25maWcuYXZsQWdnTWV0aG9kcyA9IHtcbiAgICAgICAgICAnaW52YWxpZCc6IHtcbiAgICAgICAgICAgIGZvcm1hbE5hbWU6ICcnLFxuICAgICAgICAgICAgbmlja05hbWU6ICcnXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjdXJyZW50QWdnTWV0aG9kID0gY29uZmlnLmF2bEFnZ01ldGhvZHNbJ2ludmFsaWQnXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVBlcmlvZDogc3VpdGFibGVJbnRlcnZhbC5uYW1lLFxuICAgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcjogc3VpdGFibGVJbnRlcnZhbC5zdGVwLFxuICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZDoge1xuICAgICAgICAgIHZhbHVlOiBjdXJyZW50QWdnTWV0aG9kLm5pY2tOYW1lLFxuICAgICAgICAgIHRleHQ6IGN1cnJlbnRBZ2dNZXRob2QuZm9ybWFsTmFtZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGluaXQgKHJlcXVpcmUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRvb2xib3hDb21wb25lbnQgPSBjb25maWcudG9vbGJveENvbXBvbmVudCA9IHt9LFxuICAgICAgICBhcGksXG4gICAgICAgIHN0b3JlLFxuICAgICAgICBjb21wb3NpdGlvbixcbiAgICAgICAgc2F2ZVRvID0gJ3RzT2JqZWN0JyxcbiAgICAgICAgcmVxdWlyZWRQYXJhbXMgPSBbXG4gICAgICAgICAgJ2dyYXBoaWNzJyxcbiAgICAgICAgICAnZ2xvYmFsUmVhY3RpdmVNb2RlbCcsXG4gICAgICAgICAgJ2NoYXJ0JyxcbiAgICAgICAgICAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLFxuICAgICAgICAgICdjaGFydEluc3RhbmNlJyxcbiAgICAgICAgICAnc21hcnRMYWJlbCcsXG4gICAgICAgICAgZnVuY3Rpb24gYWNxdWlyZSAoKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDAsXG4gICAgICAgICAgICAgIGlpID0gcmVxdWlyZWRQYXJhbXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgcGFyYW0gPSAnJztcbiAgICAgICAgICAgIHNlbGZbc2F2ZVRvXSA9IHNlbGZbc2F2ZVRvXSB8fCB7fTtcbiAgICAgICAgICAgIHNlbGYucmVxdWlyZWRQYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgIHBhcmFtID0gcmVxdWlyZWRQYXJhbXNbaV07XG4gICAgICAgICAgICAgIHNlbGZbc2F2ZVRvXVtwYXJhbV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbkluaXQoc2VsZltzYXZlVG9dKTtcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICByZXF1aXJlKHJlcXVpcmVkUGFyYW1zKTtcblxuICAgICAgYXBpID0gc2VsZi50c09iamVjdC5jaGFydEluc3RhbmNlLmFwaUluc3RhbmNlO1xuICAgICAgc3RvcmUgPSBhcGkuZ2V0Q29tcG9uZW50U3RvcmUoKTtcbiAgICAgIGNvbmZpZy5jb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uID0gc3RvcmUuZ2V0Q2FudmFzQnlJbmRleCgwKS5jb21wb3NpdGlvbjtcbiAgICAgIGNvbmZpZy5kYXRhQWdnID0gY29tcG9zaXRpb24uaW1wbC5nZXREYXRhQWdncmVnYXRvcigpO1xuXG4gICAgICB0b29sYm94Q29tcG9uZW50LnRvb2xib3ggPSBkZXAuRkMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuICAgICAgdG9vbGJveENvbXBvbmVudC5jb25maWcgPSB7fTtcblxuICAgICAgc2VsZi50b29sYmFycyA9IFtdO1xuXG4gICAgICBzZWxmLm1lYXN1cmVtZW50ID0ge307XG5cbiAgICAgIHNlbGYudG9vbGJhcnMucHVzaChzZWxmLmNyZWF0ZVRvb2xiYXIoKSk7XG5cbiAgICAgIHdpbmRvdy5BZ2dyZWdhdG9yID0gc2VsZjtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGNyZWF0ZVRvb2xiYXIgKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBncm91cCxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnUsXG4gICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LFxuICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LFxuICAgICAgICByZXNldEJ1dHRvbixcbiAgICAgICAgYXBwbHlCdXR0b24sXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuY29uZmlnLFxuICAgICAgICB0c09iamVjdCA9IHNlbGYudHNPYmplY3QsXG4gICAgICAgIGxhYmVsLFxuXG4gICAgICAgIHRvb2xib3hDb21wb25lbnQgPSBjb25maWcudG9vbGJveENvbXBvbmVudCxcbiAgICAgICAgdG9vbGJveCA9IHRvb2xib3hDb21wb25lbnQudG9vbGJveCxcbiAgICAgICAgdG9vbGJveENvbXBDb25maWcgPSB0b29sYm94Q29tcG9uZW50LmNvbmZpZyxcbiAgICAgICAgSG9yaXpvbnRhbFRvb2xiYXIgPSB0b29sYm94Lkhvcml6b250YWxUb29sYmFyLFxuICAgICAgICBDb21wb25lbnRHcm91cCA9IHRvb2xib3guQ29tcG9uZW50R3JvdXAsXG4gICAgICAgIFN5bWJvbFN0b3JlID0gdG9vbGJveC5TeW1ib2xTdG9yZSxcblxuICAgICAgICBncmFwaGljcyA9IHRzT2JqZWN0LmdyYXBoaWNzLFxuICAgICAgICBwYXBlciA9IGdyYXBoaWNzLnBhcGVyLFxuICAgICAgICBjb250YWluZXIgPSBncmFwaGljcy5jb250YWluZXIsXG4gICAgICAgIGNoYXJ0ID0gdHNPYmplY3QuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWwgPSB0c09iamVjdC5zbWFydExhYmVsLFxuXG4gICAgICAgIG11bHRpcGxpZXJWYWwsXG4gICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0LFxuICAgICAgICB0aW1lUGVyaW9kTWVudURpc2FibGVDb25maWcsXG4gICAgICAgIHRpbWVNdWx0aXBsaWVyTWVudURpc2FibGVDb25maWcsXG4gICAgICAgIGFnZ01ldGhvZE1lbnVEaXNhYmxlb25maWcsXG4gICAgICAgIGRyb3BEb3duTWVudVN0eWxlLFxuICAgICAgICBhcHBseUJ1dHRvbkRpc2FibGVDb25maWcsXG4gICAgICAgIHJlc2V0QnV0dG9uRGlzYWJsZUNvbmZpZyxcblxuICAgICAgICBzdHlsZSxcblxuICAgICAgICBkZXBlbmRlbmNpZXMgPSB7XG4gICAgICAgICAgcGFwZXI6IHBhcGVyLFxuICAgICAgICAgIGNoYXJ0OiBjaGFydCxcbiAgICAgICAgICBzbWFydExhYmVsOiBzbWFydExhYmVsLFxuICAgICAgICAgIGNoYXJ0Q29udGFpbmVyOiBjb250YWluZXJcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHkgPSAoc2V0KSA9PiB7XG4gICAgICAgICAgdmFyIG1vZGVsID0gY29uZmlnLmNvbXBvc2l0aW9uLnJlYWN0aXZlTW9kZWwsXG4gICAgICAgICAgICB0aW1lUGVyaW9kVmFsID0gdGltZVBlcmlvZFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsID0gdGltZU11bFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnVWYWwgPSBhZ2dNZXRob2RTZWxlY3RNZW51LnZhbHVlKCksXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgYmluU2l6ZSxcbiAgICAgICAgICAgIHRpbWVJbnRlcnZhbCxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uID0gc2VsZi5hZ2dyZWdhdGlvbixcbiAgICAgICAgICAgIGNhbnZhcyA9IGNvbmZpZy5jb21wb3NpdGlvbi5pbXBsO1xuXG4gICAgICAgICAgZm9yIChrZXlzIG9mIGNvbmZpZy5hdmxUaW1lUGVyaW9kcykge1xuICAgICAgICAgICAgaWYgKGtleXMubmFtZSA9PT0gdGltZVBlcmlvZFZhbCkge1xuICAgICAgICAgICAgICB0aW1lSW50ZXJ2YWwgPSBrZXlzLmludGVydmFsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYmluU2l6ZSA9IHRpbWVJbnRlcnZhbCAqIE51bWJlcih0aW1lUGVyaW9kTXVsdGlwbGllclZhbCk7XG4gICAgICAgICAgaWYgKHNldCAmJiBpc0Zpbml0ZShtb2RlbC5wcm9wKCdiaW4tc2l6ZScpKSkge1xuICAgICAgICAgICAgbW9kZWxcbiAgICAgICAgICAgICAgLmxvY2soKVxuICAgICAgICAgICAgICAucHJvcCgnYmluLXNpemUtZXh0JywgYmluU2l6ZSlcbiAgICAgICAgICAgICAgLnByb3AoJ2FnZ3JlZ2F0aW9uLWZuLWV4dCcsIGNvbmZpZy5hdmxBZ2dNZXRob2RzW2FnZ01ldGhvZFNlbGVjdE1lbnVWYWxdKVxuICAgICAgICAgICAgICAudW5sb2NrKCk7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbi5iaW5TaXplID0gYmluU2l6ZTtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmFnZ3JlZ2F0aW9uTWV0aG9kID0gYWdnTWV0aG9kU2VsZWN0TWVudVZhbDtcbiAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYW52YXMucmVzZXRBZ2dyZWdhdGlvbigpO1xuICAgICAgICAgICAgYWdncmVnYXRpb24uYmluU2l6ZSA9IG51bGw7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbi5hZ2dyZWdhdGlvbk1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICByZXNldEJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHRpbWVQZXJpb2RPbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICB2YXIgdGltZVBlcmlvZFZhbCA9IHRpbWVQZXJpb2RTZWxlY3RNZW51LnZhbHVlKCksXG4gICAgICAgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllclZhbCA9IHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKCksXG4gICAgICAgICAgICBwcmV2VGltZVBlcm9pZE11bFZhbCA9IHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsLFxuICAgICAgICAgICAgdmFsaWRUaW1lUGVyaW9kID0gY29uZmlnLnZhbGlkVGltZVBlcmlvZCxcbiAgICAgICAgICAgIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcixcbiAgICAgICAgICAgIGluZGV4T2ZUaW1lVW5pdCxcbiAgICAgICAgICAgIGluZGV4T2ZUaW1lTXVsO1xuXG4gICAgICAgICAgaW5kZXhPZlRpbWVVbml0ID0gdmFsaWRUaW1lUGVyaW9kLmluZGV4T2YodGltZVBlcmlvZFZhbCk7XG4gICAgICAgICAgaW5kZXhPZlRpbWVNdWwgPSB2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyW2luZGV4T2ZUaW1lVW5pdF0uaW5kZXhPZihOdW1iZXIodGltZVBlcmlvZE11bHRpcGxpZXJWYWwpKTtcblxuICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0ID0gW107XG4gICAgICAgICAgZm9yIChtdWx0aXBsaWVyVmFsIG9mIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XSkge1xuICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IG11bHRpcGxpZXJWYWwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdmFsdWU6IG11bHRpcGxpZXJWYWwudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudXBkYXRlTGlzdCh0aW1lTXVsU2VsZWN0TWVudU9wdCk7XG5cbiAgICAgICAgICBpZiAoaW5kZXhPZlRpbWVNdWwgPCAwKSB7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS52YWx1ZSh2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyW2luZGV4T2ZUaW1lVW5pdF1bMF0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKHByZXZUaW1lUGVyb2lkTXVsVmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGFuZ2UgPSAodHlwZSkgPT4ge1xuICAgICAgICAgIHZhciBjdXJyZW50QWdnID0gc2VsZi5nZXRDdXJyZW50QWdncmVhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKGN1cnJlbnRBZ2cudGltZVBlcmlvZE11bHRpcGxpZXIudG9TdHJpbmcoKSAhPT0gdGltZU11bFNlbGVjdE1lbnUudmFsdWUoKSB8fFxuICAgICAgICAgICAgY3VycmVudEFnZy50aW1lUGVyaW9kICE9PSB0aW1lUGVyaW9kU2VsZWN0TWVudS52YWx1ZSgpIHx8XG4gICAgICAgICAgICBjdXJyZW50QWdnLmFnZ3JlZ2F0aW9uTWV0aG9kLnZhbHVlICE9PSBhZ2dNZXRob2RTZWxlY3RNZW51LnZhbHVlKCkpIHtcbiAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseUJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBncm91cCA9IG5ldyBDb21wb25lbnRHcm91cChkZXBlbmRlbmNpZXMpO1xuICAgICAgdG9vbGJhciA9IG5ldyBIb3Jpem9udGFsVG9vbGJhcihkZXBlbmRlbmNpZXMpO1xuXG4gICAgICBjb25maWcudXNyQ29uZmlnID0ge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBwb3NXcnRDYW52YXM6ICd0b3AnLFxuICAgICAgICBhbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcbiAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgdGltZU11bHRpcGxpZXJJbnB1dEZpZWxkOiB7XG4gICAgICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI2ZmZicsXG4gICAgICAgICAgICAgICdsYWJlbEZpbGwnOiAnIzY5Njk2OScsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnI2M4Y2VjZCcsXG4gICAgICAgICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZSc6ICcjNjk2OTY5JyxcbiAgICAgICAgICAgICAgJ2hvdmVyU3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAncmFkaXVzJzogMSxcbiAgICAgICAgICAgICAgJ3dpZHRoJzogNDUsXG4gICAgICAgICAgICAgICdoZWlnaHQnOiAyMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNmZmYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICdyZ2IoMTkyLCAxOTIsIDE5MiknLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyMwMDAnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aW1lUGVyaW9kSW5wdXRGaWVsZDoge1xuICAgICAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNmZmYnLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyNjOGNlY2QnLFxuICAgICAgICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2UnOiAnIzY5Njk2OScsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZVdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3JhZGl1cyc6IDEsXG4gICAgICAgICAgICAgICd3aWR0aCc6IDc1LFxuICAgICAgICAgICAgICAnaGVpZ2h0JzogMjJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmFjdGl2ZToge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjZmZmJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAncmdiKDE5MiwgMTkyLCAxOTIpJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjMDAwJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWdncmVnYXRpb25NZXRob2RJbnB1dEZpZWxkOiB7XG4gICAgICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI2ZmZicsXG4gICAgICAgICAgICAgICdsYWJlbEZpbGwnOiAnIzY5Njk2OScsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnI2M4Y2VjZCcsXG4gICAgICAgICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZSc6ICcjNjk2OTY5JyxcbiAgICAgICAgICAgICAgJ2hvdmVyU3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAncmFkaXVzJzogMSxcbiAgICAgICAgICAgICAgJ3dpZHRoJzogMTAwLFxuICAgICAgICAgICAgICAnaGVpZ2h0JzogMjJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmFjdGl2ZToge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjZmZmJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAncmdiKDE5MiwgMTkyLCAxOTIpJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjMDAwJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZHJvcERvd246IHtcbiAgICAgICAgICAgIGFjdGl2ZToge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjODk4YjhiJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjZmZmJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjZmZmJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjMDAwJyxcbiAgICAgICAgICAgICAgJ2hvdmVyRmlsbCc6ICcjZTZlOGU4JyxcbiAgICAgICAgICAgICAgJ2hvdmVyTGFiZWxGaWxsJzogJyMwMDAnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHBseUJ1dHRvbjoge1xuICAgICAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyM1NTUnLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmM2YzZjMnLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyNjOGNlY2QnLFxuICAgICAgICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnaG92ZXJGaWxsJzogJyM1NTUnLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZSc6ICcnLFxuICAgICAgICAgICAgICAncmFkaXVzJzogMSxcbiAgICAgICAgICAgICAgJ3dpZHRoJzogMzAsXG4gICAgICAgICAgICAgICdoZWlnaHQnOiAyMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNiZWJlYmUnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMyxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICdyZ2IoMTkyLCAxOTIsIDE5MiknLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmM2YzZjMnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNldEJ1dHRvbjoge1xuICAgICAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyM4OThiOGInLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmM2YzZjMnLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyNjOGNlY2QnLFxuICAgICAgICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnaG92ZXJGaWxsJzogJyM4OThiOGInLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZSc6ICcnLFxuICAgICAgICAgICAgICAncmFkaXVzJzogMSxcbiAgICAgICAgICAgICAgJ3dpZHRoJzogMzAsXG4gICAgICAgICAgICAgICdoZWlnaHQnOiAyMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNiZWJlYmUnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMyxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICdyZ2IoMTkyLCAxOTIsIDE5MiknLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmM2YzZjMnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBiYXNlOiB7XG4gICAgICAgICAgICBmb250OiB7XG4gICAgICAgICAgICAgICdmb250U2l6ZSc6IDExXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzdHlsZSA9IGNvbmZpZy51c3JDb25maWcuc3R5bGVzIHx8IHt9O1xuXG4gICAgICBzdHlsZSA9IHtcbiAgICAgICAgdGltZU11bHRpcGxpZXJJbnB1dEZpZWxkOiB7XG4gICAgICAgICAgYWN0aXZlOiAoc3R5bGUudGltZU11bHRpcGxpZXJJbnB1dEZpZWxkICYmIHN0eWxlLnRpbWVNdWx0aXBsaWVySW5wdXRGaWVsZC5hY3RpdmUpIHx8IHt9LFxuICAgICAgICAgIGluYWN0aXZlOiAoc3R5bGUudGltZU11bHRpcGxpZXJJbnB1dEZpZWxkICYmIHN0eWxlLnRpbWVNdWx0aXBsaWVySW5wdXRGaWVsZC5pbmFjdGl2ZSkgfHwge31cbiAgICAgICAgfSxcbiAgICAgICAgdGltZVBlcmlvZElucHV0RmllbGQ6IHtcbiAgICAgICAgICBhY3RpdmU6IChzdHlsZS50aW1lUGVyaW9kSW5wdXRGaWVsZCAmJiBzdHlsZS50aW1lUGVyaW9kSW5wdXRGaWVsZC5hY3RpdmUpIHx8IHt9LFxuICAgICAgICAgIGluYWN0aXZlOiAoc3R5bGUudGltZVBlcmlvZElucHV0RmllbGQgJiYgc3R5bGUudGltZVBlcmlvZElucHV0RmllbGQuaW5hY3RpdmUpIHx8IHt9XG4gICAgICAgIH0sXG4gICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kSW5wdXRGaWVsZDoge1xuICAgICAgICAgIGFjdGl2ZTogKHN0eWxlLmFnZ3JlZ2F0aW9uTWV0aG9kSW5wdXRGaWVsZCAmJiBzdHlsZS5hZ2dyZWdhdGlvbk1ldGhvZElucHV0RmllbGQuYWN0aXZlKSB8fCB7fSxcbiAgICAgICAgICBpbmFjdGl2ZTogKHN0eWxlLmFnZ3JlZ2F0aW9uTWV0aG9kSW5wdXRGaWVsZCAmJiBzdHlsZS5hZ2dyZWdhdGlvbk1ldGhvZElucHV0RmllbGQuaW5hY3RpdmUpIHx8IHt9XG4gICAgICAgIH0sXG4gICAgICAgIGRyb3BEb3duOiB7XG4gICAgICAgICAgYWN0aXZlOiAoc3R5bGUuZHJvcERvd24gJiYgc3R5bGUuZHJvcERvd24uYWN0aXZlKSB8fCB7fSxcbiAgICAgICAgICBub3JtYWw6IChzdHlsZS5kcm9wRG93biAmJiBzdHlsZS5kcm9wRG93bi5ub3JtYWwpIHx8IHt9XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5QnV0dG9uOiB7XG4gICAgICAgICAgYWN0aXZlOiAoc3R5bGUuYXBwbHlCdXR0b24gJiYgc3R5bGUuYXBwbHlCdXR0b24uYWN0aXZlKSB8fCB7fSxcbiAgICAgICAgICBpbmFjdGl2ZTogKHN0eWxlLmFwcGx5QnV0dG9uICYmIHN0eWxlLmFwcGx5QnV0dG9uLmluYWN0aXZlKSB8fCB7fVxuICAgICAgICB9LFxuICAgICAgICByZXNldEJ1dHRvbjoge1xuICAgICAgICAgIGFjdGl2ZTogKHN0eWxlLnJlc2V0QnV0dG9uICYmIHN0eWxlLnJlc2V0QnV0dG9uLmFjdGl2ZSkgfHwge30sXG4gICAgICAgICAgaW5hY3RpdmU6IChzdHlsZS5yZXNldEJ1dHRvbiAmJiBzdHlsZS5yZXNldEJ1dHRvbi5pbmFjdGl2ZSkgfHwge31cbiAgICAgICAgfSxcbiAgICAgICAgYmFzZToge1xuICAgICAgICAgIGZvbnQ6IChzdHlsZS5iYXNlICYmIHN0eWxlLmJhc2UuZm9udCkgfHwge31cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZ3JvdXAuc2V0Q29uZmlnKHtcbiAgICAgICAgZmlsbDogJyNmZmYnLFxuICAgICAgICBib3JkZXJUaGlja25lc3M6IDBcbiAgICAgIH0pO1xuXG4gICAgICB0b29sYmFyLnNldENvbmZpZyh7XG4gICAgICAgIGZpbGw6ICcjZmZmJyxcbiAgICAgICAgYm9yZGVyVGhpY2tuZXNzOiAwXG4gICAgICB9KTtcblxuICAgICAgdGltZVBlcmlvZE1lbnVEaXNhYmxlQ29uZmlnID0ge1xuICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHN0eWxlLnRpbWVNdWx0aXBsaWVySW5wdXRGaWVsZC5pbmFjdGl2ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGltZU11bHRpcGxpZXJNZW51RGlzYWJsZUNvbmZpZyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzdHlsZS50aW1lUGVyaW9kSW5wdXRGaWVsZC5pbmFjdGl2ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWdnTWV0aG9kTWVudURpc2FibGVvbmZpZyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzdHlsZS5hZ2dyZWdhdGlvbk1ldGhvZElucHV0RmllbGQuaW5hY3RpdmVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFwcGx5QnV0dG9uRGlzYWJsZUNvbmZpZyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzdHlsZS5hcHBseUJ1dHRvbi5pbmFjdGl2ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVzZXRCdXR0b25EaXNhYmxlQ29uZmlnID0ge1xuICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHN0eWxlLnJlc2V0QnV0dG9uLmluYWN0aXZlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBkcm9wRG93bk1lbnVTdHlsZSA9IHtcbiAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmRyb3BEb3duLmFjdGl2ZS5maWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBmaWxsOiBzdHlsZS5kcm9wRG93bi5hY3RpdmUubGFiZWxGaWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmRyb3BEb3duLm5vcm1hbC5maWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBmaWxsOiBzdHlsZS5kcm9wRG93bi5ub3JtYWwubGFiZWxGaWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3Zlcjoge1xuICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZmlsbDogc3R5bGUuZHJvcERvd24ubm9ybWFsLmhvdmVyRmlsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZmlsbDogc3R5bGUuZHJvcERvd24ubm9ybWFsLmhvdmVyTGFiZWxGaWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBsYWJlbCA9IG5ldyB0b29sYm94LkxhYmVsKCdBZ2dyZWdhdGUgRGF0YTonLCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAnZm9udC1zaXplJzogJzE0JyxcbiAgICAgICAgICAgICdmaWxsJzogJyM2OTY5NjknXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcudGltZVBlcmlvZFNlbGVjdE1lbnUgPSB0aW1lUGVyaW9kU2VsZWN0TWVudSA9IG5ldyB0b29sYm94LlNlbGVjdFN5bWJvbCh7fSwgZGVwZW5kZW5jaWVzLCBbXSxcbiAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUudGltZVBlcmlvZElucHV0RmllbGQuYWN0aXZlLCB7XG4gICAgICAgIGJ0blRleHRTdHlsZToge1xuICAgICAgICAgIGZvbnRTaXplOiBzdHlsZS5iYXNlLmZvbnQuZm9udFNpemVcbiAgICAgICAgfSxcbiAgICAgICAgZHJvcERvd25NZW51OiBkcm9wRG93bk1lbnVTdHlsZVxuICAgICAgfSkpO1xuICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUuc2V0U3RhdGVDb25maWcodGltZVBlcmlvZE1lbnVEaXNhYmxlQ29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcudGltZU11bFNlbGVjdE1lbnUgPSB0aW1lTXVsU2VsZWN0TWVudSA9IG5ldyB0b29sYm94LlNlbGVjdFN5bWJvbCh7fSwgZGVwZW5kZW5jaWVzLCBbXSxcbiAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUudGltZU11bHRpcGxpZXJJbnB1dEZpZWxkLmFjdGl2ZSwge1xuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogc3R5bGUuYmFzZS5mb250LmZvbnRTaXplXG4gICAgICAgIH0sXG4gICAgICAgIGRyb3BEb3duTWVudTogZHJvcERvd25NZW51U3R5bGVcbiAgICAgIH0pKTtcbiAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnNldFN0YXRlQ29uZmlnKHRpbWVNdWx0aXBsaWVyTWVudURpc2FibGVDb25maWcpO1xuXG4gICAgICB0b29sYm94Q29tcENvbmZpZy5hZ2dNZXRob2RTZWxlY3RNZW51ID0gYWdnTWV0aG9kU2VsZWN0TWVudSA9IG5ldyB0b29sYm94LlNlbGVjdFN5bWJvbCh7fSwgZGVwZW5kZW5jaWVzLCBbXSxcbiAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUuYWdncmVnYXRpb25NZXRob2RJbnB1dEZpZWxkLmFjdGl2ZSwge1xuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogc3R5bGUuYmFzZS5mb250LmZvbnRTaXplXG4gICAgICAgIH0sXG4gICAgICAgIGRyb3BEb3duTWVudTogZHJvcERvd25NZW51U3R5bGVcbiAgICAgIH0pKTtcbiAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUuc2V0U3RhdGVDb25maWcoYWdnTWV0aG9kTWVudURpc2FibGVvbmZpZyk7XG5cbiAgICAgIHRvb2xib3hDb21wQ29uZmlnLmFwcGx5QnV0dG9uID0gYXBwbHlCdXR0b24gPSBuZXcgdG9vbGJveC5TeW1ib2woJ0FQUExZJywgdHJ1ZSwgZGVwZW5kZW5jaWVzLFxuICAgICAgICBPYmplY3QuYXNzaWduKHN0eWxlLmFwcGx5QnV0dG9uLmFjdGl2ZSwge1xuICAgICAgICAgIGJ0blRleHRTdHlsZToge1xuICAgICAgICAgICAgZm9udFNpemU6IHN0eWxlLmJhc2UuZm9udC5mb250U2l6ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIC5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXBwbHkoMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIGFwcGx5QnV0dG9uLnNldFN0YXRlQ29uZmlnKGFwcGx5QnV0dG9uRGlzYWJsZUNvbmZpZyk7XG5cbiAgICAgIHRvb2xib3hDb21wQ29uZmlnLnJlc2V0QnV0dG9uID0gcmVzZXRCdXR0b24gPSBuZXcgdG9vbGJveC5TeW1ib2woJ1JFU0VUJywgdHJ1ZSwgZGVwZW5kZW5jaWVzLFxuICAgICAgICBPYmplY3QuYXNzaWduKHN0eWxlLnJlc2V0QnV0dG9uLmFjdGl2ZSwge1xuICAgICAgICAgIGJ0blRleHRTdHlsZToge1xuICAgICAgICAgICAgZm9udFNpemU6IHN0eWxlLmJhc2UuZm9udC5mb250U2l6ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIC5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXBwbHkoMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIHJlc2V0QnV0dG9uLnNldFN0YXRlQ29uZmlnKHJlc2V0QnV0dG9uRGlzYWJsZUNvbmZpZyk7XG5cbiAgICAgIGdyb3VwLmFkZFN5bWJvbChsYWJlbCk7XG4gICAgICBncm91cC5hZGRTeW1ib2wodGltZU11bFNlbGVjdE1lbnUpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKHRpbWVQZXJpb2RTZWxlY3RNZW51KTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbChhZ2dNZXRob2RTZWxlY3RNZW51KTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbChhcHBseUJ1dHRvbik7XG4gICAgICBncm91cC5hZGRTeW1ib2wocmVzZXRCdXR0b24pO1xuXG4gICAgICBTeW1ib2xTdG9yZS5yZWdpc3RlcigndGV4dEJveEljb24nLCBmdW5jdGlvbiAoeCwgeSwgcmFkLCB3LCBoLCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIHZhciB4MSA9IHggLSB3IC8gMiArIHBhZFggLyAyLFxuICAgICAgICAgIHgyID0geCArIHcgLyAyIC0gcGFkWCAvIDIsXG4gICAgICAgICAgeTEgPSB5IC0gaCAvIDIgKyBwYWRZIC8gMixcbiAgICAgICAgICB5MiA9IHkgKyBoIC8gMiAtIHBhZFkgLyAyO1xuXG4gICAgICAgIHJldHVybiBbJ00nLCB4MSwgeTEsICdMJywgeDIsIHkxLCAnTCcsIHgyLCB5MiwgJ0wnLCB4MSwgeTIsICdaJ107XG4gICAgICB9KTtcblxuICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIHRleHRPbkNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRpbWVQZXJpb2RPbkNoYW5nZSgpO1xuICAgICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aW1lTXVsU2VsZWN0TWVudS5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgdGV4dE9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25DaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIHRleHRPbkNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0b29sYmFyLmFkZENvbXBvbmVudChncm91cCk7XG5cbiAgICAgIHJldHVybiB0b29sYmFyO1xuICAgIH1cblxuICAgIGdldExvZ2ljYWxTcGFjZSAoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgdmFyIGxvZ2ljYWxTcGFjZSxcbiAgICAgICAgd2lkdGggPSAwLFxuICAgICAgICBoZWlnaHQgPSAwLFxuICAgICAgICBpLFxuICAgICAgICBsbjtcblxuICAgICAgZm9yIChpID0gMCwgbG4gPSB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgbG9naWNhbFNwYWNlID0gdGhpcy50b29sYmFyc1tpXS5nZXRMb2dpY2FsU3BhY2UoKTtcbiAgICAgICAgd2lkdGggPSBNYXRoLm1heChsb2dpY2FsU3BhY2Uud2lkdGgsIHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ICs9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudG9vbGJhcnNbaV0ud2lkdGggPSBsb2dpY2FsU3BhY2Uud2lkdGg7XG4gICAgICAgIHRoaXMudG9vbGJhcnNbaV0uaGVpZ2h0ID0gbG9naWNhbFNwYWNlLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGhlaWdodCArPSB0aGlzLnBhZGRpbmc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogd2lkdGggPiBhdmFpbGFibGVXaWR0aCA/IDAgOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgPiBhdmFpbGFibGVIZWlnaHQgPyAwIDogaGVpZ2h0XG4gICAgICB9O1xuICAgIH1cblxuICAgIHBsYWNlSW5DYW52YXMgKGNvbnRhaW5lckluc3RhbmNlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHRzT2JqZWN0ID0gc2VsZi50c09iamVjdDtcblxuICAgICAgc2VsZi5wYWRkaW5nID0gNTtcbiAgICAgIHRzT2JqZWN0LnNwYWNlTWFuYWdlckluc3RhbmNlLmFkZChbe1xuICAgICAgICBuYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICdEYXRhQWdncmVnYXRvcic7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZjogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmpbJzAnXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9LFxuICAgICAgICBwcmlvcml0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICB9LFxuICAgICAgICBsYXlvdXQ6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICByZXR1cm4gb2JqLmlubGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgb3JpZW50YXRpb246IFt7XG4gICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iai5ob3Jpem9udGFsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9zaXRpb246IFt7XG4gICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYmoudG9wO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsaWdubWVudDogW3tcbiAgICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmoubGVmdDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGltZW5zaW9uczogW2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRDb21wb25lbnRHcm91cCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldExvZ2ljYWxTcGFjZShwYXJlbnQuZ2V0V2lkdGgoKSwgcGFyZW50LmdldEhlaWdodCgpKTtcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICAgIH1dKTtcbiAgICB9XG5cbiAgICBzZXREcmF3aW5nQ29uZmlndXJhdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcbiAgICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuICAgICAgbWVzLnggPSB4O1xuICAgICAgbWVzLnkgPSB5O1xuICAgICAgbWVzLndpZHRoID0gd2lkdGg7XG4gICAgICBtZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICB0aGlzLnBhcmVudEdyb3VwID0gZ3JvdXA7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGRyYXcgKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuY29uZmlnLFxuICAgICAgICB0b29sYm94Q29tcENvbmZpZyA9IGNvbmZpZy50b29sYm94Q29tcG9uZW50LmNvbmZpZyxcbiAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUgPSB0b29sYm94Q29tcENvbmZpZy50aW1lUGVyaW9kU2VsZWN0TWVudSxcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnUgPSB0b29sYm94Q29tcENvbmZpZy50aW1lTXVsU2VsZWN0TWVudSxcbiAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudSA9IHRvb2xib3hDb21wQ29uZmlnLmFnZ01ldGhvZFNlbGVjdE1lbnUsXG4gICAgICAgIGFwcGx5QnV0dG9uID0gdG9vbGJveENvbXBDb25maWcuYXBwbHlCdXR0b24sXG4gICAgICAgIHJlc2V0QnV0dG9uID0gdG9vbGJveENvbXBDb25maWcucmVzZXRCdXR0b24sXG4gICAgICAgIG1lYXN1cmVtZW50ID0gc2VsZi5tZWFzdXJlbWVudCxcbiAgICAgICAgdG9vbGJhcnMgPSBzZWxmLnRvb2xiYXJzLFxuICAgICAgICBsbixcbiAgICAgICAgaSxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgbW9kZWwgPSBjb25maWcuY29tcG9zaXRpb24ucmVhY3RpdmVNb2RlbCxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuXG4gICAgICAgIHRpbWVQZXJpb2RWYWwsXG4gICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51T3B0LFxuICAgICAgICB2YWxpZFRpbWVQZXJpb2QsXG4gICAgICAgIGluZGV4T2ZUaW1lVW5pdCxcblxuICAgICAgICBtdWx0aXBsaWVyVmFsLFxuICAgICAgICB0aW1lTXVsU2VsZWN0TWVudU9wdCxcbiAgICAgICAgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcixcblxuICAgICAgICBhZ2dWYWwsXG4gICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnVPcHQsXG4gICAgICAgIGF2bEFnZ01ldGhvZHMsXG4gICAgICAgIHJhbmdlT25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgdmFyIGFnZ3JlZ2F0aW9uID0gc2VsZi5hZ2dyZWdhdGlvbixcbiAgICAgICAgICAgIGN1cnJlbnRBZ2dyZWdhdGlvbk9iaixcbiAgICAgICAgICAgIHRpbWVQZXJpb2QsXG4gICAgICAgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcixcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kO1xuXG4gICAgICAgICAgc2VsZi5nZXRWYWxpZEFnZ3JlZ2F0aW9uKCk7XG4gICAgICAgICAgY3VycmVudEFnZ3JlZ2F0aW9uT2JqID0gc2VsZi5nZXRDdXJyZW50QWdncmVhdGlvbigpO1xuICAgICAgICAgIHRpbWVQZXJpb2QgPSBjdXJyZW50QWdncmVnYXRpb25PYmoudGltZVBlcmlvZDtcbiAgICAgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllciA9IGN1cnJlbnRBZ2dyZWdhdGlvbk9iai50aW1lUGVyaW9kTXVsdGlwbGllcjtcbiAgICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZCA9IGN1cnJlbnRBZ2dyZWdhdGlvbk9iai5hZ2dyZWdhdGlvbk1ldGhvZDtcblxuICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51T3B0ID0gW107XG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQgPSBbXTtcbiAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51T3B0ID0gW107XG5cbiAgICAgICAgICB2YWxpZFRpbWVQZXJpb2QgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kO1xuICAgICAgICAgIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcjtcbiAgICAgICAgICBhdmxBZ2dNZXRob2RzID0gY29uZmlnLmF2bEFnZ01ldGhvZHM7XG5cbiAgICAgICAgICBhcHBseUJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICBpZiAoYWdncmVnYXRpb24uYmluU2l6ZSAhPT0gbW9kZWwucHJvcCgnYmluLXNpemUnKSAmJlxuICAgICAgICAgICAgYWdncmVnYXRpb25NZXRob2QudmFsdWUgPT09IGNvbmZpZy5kZWZhdWx0QWdnTWV0aG9kKSB7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbi5iaW5TaXplID0gbnVsbDtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmFnZ3JlZ2F0aW9uTWV0aG9kID0gbnVsbDtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFjb25maWcuY2FuQWdncmVnYXRlKSB7XG4gICAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yICh0aW1lUGVyaW9kVmFsIG9mIHZhbGlkVGltZVBlcmlvZCkge1xuICAgICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnVPcHQucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IHRpbWVQZXJpb2RWYWwsXG4gICAgICAgICAgICAgIHZhbHVlOiB0aW1lUGVyaW9kVmFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS51cGRhdGVMaXN0KHRpbWVQZXJpb2RTZWxlY3RNZW51T3B0KTtcbiAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS52YWx1ZSh0aW1lUGVyaW9kKTtcblxuICAgICAgICAgIGluZGV4T2ZUaW1lVW5pdCA9IHZhbGlkVGltZVBlcmlvZC5pbmRleE9mKHRpbWVQZXJpb2QpO1xuXG4gICAgICAgICAgaWYgKGluZGV4T2ZUaW1lVW5pdCA+PSAwKSB7XG4gICAgICAgICAgICBmb3IgKG11bHRpcGxpZXJWYWwgb2YgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcltpbmRleE9mVGltZVVuaXRdKSB7XG4gICAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0LnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6IG11bHRpcGxpZXJWYWwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbXVsdGlwbGllclZhbC50b1N0cmluZygpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnVwZGF0ZUxpc3QodGltZU11bFNlbGVjdE1lbnVPcHQpO1xuICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKHRpbWVQZXJpb2RNdWx0aXBsaWVyLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgZm9yIChhZ2dWYWwgaW4gYXZsQWdnTWV0aG9kcykge1xuICAgICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudU9wdC5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogYXZsQWdnTWV0aG9kc1thZ2dWYWxdLmZvcm1hbE5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiBhdmxBZ2dNZXRob2RzW2FnZ1ZhbF0ubmlja05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUudXBkYXRlTGlzdChhZ2dNZXRob2RTZWxlY3RNZW51T3B0KTtcbiAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LnZhbHVlKGFnZ3JlZ2F0aW9uTWV0aG9kLnZhbHVlKTtcbiAgICAgICAgfTtcblxuICAgICAgc2VsZi5nZXRBdmFpbGFibGVsQWdncmVhZ2F0aW9uKCk7XG5cbiAgICAgIHggPSB4ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC54IDogeDtcbiAgICAgIHkgPSB5ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC55IDogeTtcbiAgICAgIHdpZHRoID0gd2lkdGggPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LndpZHRoIDogd2lkdGg7XG4gICAgICBoZWlnaHQgPSBoZWlnaHQgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LmhlaWdodCA6IGhlaWdodDtcbiAgICAgIGdyb3VwID0gZ3JvdXAgPT09IHVuZGVmaW5lZCA/IHNlbGYucGFyZW50R3JvdXAgOiBncm91cDtcbiAgICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbG4gPSB0b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgICAgdG9vbGJhciA9IHRvb2xiYXJzW2ldO1xuICAgICAgICAgIHRvb2xiYXIuZHJhdyh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmFuZ2VPbkNoYW5nZSgpO1xuICAgICAgYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgY29uZmlnLmRlZmF1bHRBZ2dNZXRob2QgPSBkYXRhQWdnLmdldERlZmF1bHRBZ2dyZWdhdGlvbk1ldGhvZCgpLm5pY2tOYW1lO1xuXG4gICAgICBtb2RlbC5vblByb3BzQ2hhbmdlKFsnYmluLXNpemUnLCAnYWdncmVnYXRpb24tZm4nXSwgcmFuZ2VPbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgZGlzcG9zZSAoKSB7XG4gICAgICAvLyBkaXNwb3NlIGV4dGVuc2lvblxuICAgIH1cbiAgfVxuICByZXR1cm4gQWdncmVnYXRvcjtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZmN0cy1leHQtYWdncmVnYXRvci5qcyJdLCJzb3VyY2VSb290IjoiIn0=