!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),o=n(2);o.register("extension",["data-aggregator",function(e){var t=this,n=t.extAPI;console.log(e),n(new i)}])},function(e,t){(function(t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this.appliedAggregation={timePeriod:null,timePeriodMultiplier:0,aggregationMethod:null}}return i(e,[{key:"setAggregation",value:function(e){return this.aggregation=e,!0}},{key:"reset",value:function(){}},{key:"init",value:function(e){e("X-Axis","Y-Axis",function(e,n){t.x=e,t.y=n})}},{key:"placeInCanvas",value:function(){var e=this.setAggregation({timePeriod:"month",timePeriodMultiplier:3,aggregationMethod:"sum"});console.log(this.aggregation,e)}},{key:"draw",value:function(){}},{key:"dispose",value:function(){}},{key:"aggregation",get:function(){return this.appliedAggregation},set:function(e){this.appliedAggregation.timePeriod=e.timePeriod,this.appliedAggregation.timePeriodMultiplier=e.timePeriodMultiplier,this.appliedAggregation.aggregationMethod=e.aggregationMethod}}]),e}();e.exports=o}).call(t,function(){return this}())},function(e,t){"use strict";var n=function(){};n.register=function(e,t){var n=t[0],i=t[1];console.log("Currently active extension: "+n),i.bind(this,565)()},n.getComponent=function(e,t){var n={x:24,y:56,width:100,height:20,index:4};return"api"===e&&"toolbox"===t?n:null},n.extAPI=function(e){e.init(function(){for(var e=[],t=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)"X-Axis"===arguments[n]?e.push(156772):"Y-Axis"===arguments[n]&&e.push(156765);t.apply(this,e)}),e.placeInCanvas(),e.draw(),e.dispose()},e.exports=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0YWFnZ3JlZ2F0b3ItZXM1Lm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjk2ZjQ1NTIwYTNjMWM2NmM3MzAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1hZ2dyZWdhdG9yLmpzIiwid2VicGFjazovLy8uL2xpYi9mdXNpb25jaGFydHMuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiQWdncmVnYXRvciIsIkZ1c2lvbkNoYXJ0cyIsInJlZ2lzdGVyIiwiZ2xvYmFsIiwidGhpcyIsImV4dEFQSSIsImNvbnNvbGUiLCJsb2ciLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsImFwcGxpZWRBZ2dyZWdhdGlvbiIsInRpbWVQZXJpb2QiLCJ0aW1lUGVyaW9kTXVsdGlwbGllciIsImFnZ3JlZ2F0aW9uTWV0aG9kIiwidmFsdWUiLCJvYmoiLCJhZ2dyZWdhdGlvbiIsInJlcXVpcmUiLCJ4IiwieSIsImlzU2V0Iiwic2V0QWdncmVnYXRpb24iLCJnZXQiLCJzZXQiLCJleHQiLCJhcnIiLCJleHROYW1lIiwiZm4iLCJiaW5kIiwiZ2V0Q29tcG9uZW50IiwiY29tcG9uZW50VHlwZSIsImNvbXBvbmVudE5hbWUiLCJ0b29sQm94Iiwid2lkdGgiLCJoZWlnaHQiLCJpbmRleCIsImluaXQiLCJhcmdzVG9BcHBseSIsImNiIiwiYXJndW1lbnRzIiwicHVzaCIsImFwcGx5IiwicGxhY2VJbkNhbnZhcyIsImRyYXciLCJkaXNwb3NlIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQXFDQSxPQVRBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLEdBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHRTVDaEMsWUFDQSxJQUFNVyxHQUFhWCxFQUFRLEdBQ3JCWSxFQUFlWixFQUFRLEVBRTdCWSxHQUFhQyxTQUFTLGFBQWMsa0JBQW1CLFNBQVVSLEdBQy9ELEdBQUlTLEdBQVNDLEtBQ1RDLEVBQVNGLEVBQU9FLE1BQ3BCQyxTQUFRQyxJQUFJYixHQUtaVyxFQUFPLEdBQUlMLFFGb0RQLFNBQVNQLEVBQVFELElHaEV2QixTQUFBVyxHQUFBLFlIeUVDLFNBQVNLLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRmhILEdBQUlDLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFBT0QsRUFBV0UsY0FBZSxFQUFVLFNBQVdGLEtBQVlBLEVBQVdHLFVBQVcsR0FBTUMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFBaUIsTUFBTyxVQUFVUixFQUFhZSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVosRUFBaUJILEVBQVlpQixVQUFXRixHQUFpQkMsR0FBYWIsRUFBaUJILEVBQWFnQixHQUFxQmhCLE1HbkUzaEJWLEVIdUVZLFdHL0RoQixRQUFBQSxLQUFlUSxFQUFBSixLQUFBSixHQUliSSxLQUFLd0Isb0JBQ0hDLFdBQVksS0FDWkMscUJBQXNCLEVBQ3RCQyxrQkFBbUIsTUgrSXRCLE1BNURBbkIsR0FBYVosSUFDWHdCLElBQUssaUJBTUxRLE1BQU8sU0dyRU1DLEdBRWQsTUFEQTdCLE1BQUs4QixZQUFjRCxHQUNaLEtINkVOVCxJQUFLLFFBQ0xRLE1BQU8sZUFFUFIsSUFBSyxPQUNMUSxNQUFPLFNHdkVKRyxHQUNKQSxFQUFRLFNBQVUsU0FBVSxTQUFVQyxFQUFHQyxHQUN2Q2xDLEVBQU9pQyxFQUFJQSxFQUNYakMsRUFBT2tDLEVBQUlBLE9IMkVaYixJQUFLLGdCQUNMUSxNQUFPLFdHdEVSLEdBQUlNLEdBQVFsQyxLQUFLbUMsZ0JBQ2ZWLFdBQVksUUFDWkMscUJBQXNCLEVBQ3RCQyxrQkFBbUIsT0FFckJ6QixTQUFRQyxJQUFJSCxLQUFLOEIsWUFBYUksTUgyRTdCZCxJQUFLLE9BQ0xRLE1BQU8sZUFJUFIsSUFBSyxVQUNMUSxNQUFPLGVBSVBSLElBQUssY0FDTGdCLElBQUssV0c1SE4sTUFBT3BDLE1BQUt3QixvQkgrSFhhLElBQUssU0c1SFNSLEdBQ2Y3QixLQUFLd0IsbUJBQW1CQyxXQUFhSSxFQUFJSixXQUN6Q3pCLEtBQUt3QixtQkFBbUJFLHFCQUF1QkcsRUFBSUgscUJBQ25EMUIsS0FBS3dCLG1CQUFtQkcsa0JBQW9CRSxFQUFJRixzQkhnSTFDL0IsSUdwRlZQLEdBQU9ELFFBQVVRLElId0ZhSixLQUFLSixFQUFVLFdBQWEsTUFBT1ksV0FJM0QsU0FBU1gsRUFBUUQsR0kxS3ZCLFlBQ0EsSUFBSVMsR0FBZSxZQUVuQkEsR0FBYUMsU0FBVyxTQUFVd0MsRUFBS0MsR0FDckMsR0FBSUMsR0FBVUQsRUFBSSxHQUNkRSxFQUFLRixFQUFJLEVBQ2JyQyxTQUFRQyxJQUFJLCtCQUFpQ3FDLEdBQzdDQyxFQUFHQyxLQUFLMUMsS0FBTSxRQUdoQkgsRUFBYThDLGFBQWUsU0FBVUMsRUFBZUMsR0FDbkQsR0FBSUMsSUFDRmQsRUFBRyxHQUNIQyxFQUFHLEdBQ0hjLE1BQU8sSUFDUEMsT0FBUSxHQUNSQyxNQUFPLEVBR1QsT0FBc0IsUUFBbEJMLEdBQTZDLFlBQWxCQyxFQUN0QkMsRUFHRixNQUdUakQsRUFBYUksT0FBUyxTQUFVNEIsR0FDOUJBLEVBQUlxQixLQUFLLFdBSVAsSUFBSyxHQUhEQyxNQUNBQyxFQUFLQyxVQUFVQSxVQUFVeEMsT0FBUyxHQUU3QkQsRUFBSSxFQUFHQSxFQUFJeUMsVUFBVXhDLE9BQVMsRUFBR0QsSUFDbkIsV0FBakJ5QyxVQUFVekMsR0FDWnVDLEVBQVlHLEtBQUssUUFDUyxXQUFqQkQsVUFBVXpDLElBQ25CdUMsRUFBWUcsS0FBSyxPQUdyQkYsR0FBR0csTUFBTXZELEtBQU1tRCxLQUdqQnRCLEVBQUkyQixnQkFFSjNCLEVBQUk0QixPQUVKNUIsRUFBSTZCLFdBR05yRSxFQUFPRCxRQUFVUyIsImZpbGUiOiJmY3RzLWV4dC1kYXRhYWdncmVnYXRvci1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgQWdncmVnYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBGdXNpb25DaGFydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0RnVzaW9uQ2hhcnRzLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ2RhdGEtYWdncmVnYXRvcicsIGZ1bmN0aW9uIChpZCkge1xuXHQgIHZhciBnbG9iYWwgPSB0aGlzO1xuXHQgIHZhciBleHRBUEkgPSBnbG9iYWwuZXh0QVBJO1xuXHQgIGNvbnNvbGUubG9nKGlkKTtcblx0XG5cdCAgLy8gdmFyIG90aGVyQVBJID0gRnVzaW9uQ2hhcnRzLmdldEV4dENvbXBvbmVudChpZCwgJ2FwaScsICdsZWdhY3lleHRhcGknKTtcblx0ICAvLyB2YXIgdG9vbEJveEFwaSA9IEZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG5cdFxuXHQgIGV4dEFQSShuZXcgQWdncmVnYXRvcigpKTtcblx0fV0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgeyd1c2Ugc3RyaWN0Jztcblx0LyoqXG5cdCAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgRGF0YSBBZ2dyZWdhdG9yLlxuXHQgKi9cblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEFnZ3JlZ2F0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgLyoqXG5cdCAgICogQ3JlYXRlIGEgQWdncmVnYXRvci5cblx0ICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9uXG5cdCAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRpbWVQZXJpb2QgLSBUaGUgdGltZSBpbnRlcnZhbCBvZiBhZ2dyZWdhdGlvbi5cblx0ICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVBlcmlvZE11bHRpcGxpZXIgLSBUaGUgbXVsdGlwbGllciBvZiB0aW1lIGludGVydmFsLlxuXHQgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhZ2dyZWdhdGlvbk1ldGhvZCAtIFRoZSBtZXRob2QgYXBwbGllZCB0byBhZ2dyZWdhdGUuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gQWdncmVnYXRvcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZ2dyZWdhdG9yKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uID0ge1xuXHQgICAgICB0aW1lUGVyaW9kOiBudWxsLFxuXHQgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcjogMCxcblx0ICAgICAgYWdncmVnYXRpb25NZXRob2Q6IG51bGxcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSB0aW1lUGVyaW9kLCB0aW1lUGVyaW9kTXVsdGlwbGllciwgYWdncmVnYXRpb25NZXRob2QuXG5cdCAgICogQHR5cGUge0FnZ3JlZ2F0b3IuYWdncmVnYXRpb259XG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQWdncmVnYXRvciwgW3tcblx0ICAgIGtleTogJ3NldEFnZ3JlZ2F0aW9uJyxcblx0XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgQWdncmVnYXRpb24gb24gdGltZSBzZXJpZXNcblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFnZ3JlZ2F0aW9uKG9iaikge1xuXHQgICAgICB0aGlzLmFnZ3JlZ2F0aW9uID0gb2JqO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlc2V0IEFwcGxpZWQgQWdncmVnYXRpb25cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXNldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7fVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2luaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQocmVxdWlyZSkge1xuXHQgICAgICByZXF1aXJlKCdYLUF4aXMnLCAnWS1BeGlzJywgZnVuY3Rpb24gKHgsIHkpIHtcblx0ICAgICAgICBnbG9iYWwueCA9IHg7XG5cdCAgICAgICAgZ2xvYmFsLnkgPSB5O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwbGFjZUluQ2FudmFzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwbGFjZUluQ2FudmFzKCkge1xuXHQgICAgICAvLyBzcGFjZSBtYW5hZ2VtZW50XG5cdCAgICAgIHZhciBpc1NldCA9IHRoaXMuc2V0QWdncmVnYXRpb24oe1xuXHQgICAgICAgIHRpbWVQZXJpb2Q6ICdtb250aCcsXG5cdCAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXI6IDMsXG5cdCAgICAgICAgYWdncmVnYXRpb25NZXRob2Q6ICdzdW0nXG5cdCAgICAgIH0pO1xuXHQgICAgICBjb25zb2xlLmxvZyh0aGlzLmFnZ3JlZ2F0aW9uLCBpc1NldCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZHJhdycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcblx0ICAgICAgLy8gZHJhdyBleHRlbnNpb25cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkaXNwb3NlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlKCkge1xuXHQgICAgICAvLyBkaXNwb3NlIGV4dGVuc2lvblxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FnZ3JlZ2F0aW9uJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5hcHBsaWVkQWdncmVnYXRpb247XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQob2JqKSB7XG5cdCAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLnRpbWVQZXJpb2QgPSBvYmoudGltZVBlcmlvZDtcblx0ICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZE11bHRpcGxpZXIgPSBvYmoudGltZVBlcmlvZE11bHRpcGxpZXI7XG5cdCAgICAgIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uLmFnZ3JlZ2F0aW9uTWV0aG9kID0gb2JqLmFnZ3JlZ2F0aW9uTWV0aG9kO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEFnZ3JlZ2F0b3I7XG5cdH0oKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQWdncmVnYXRvcjtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIEZ1c2lvbkNoYXJ0cyA9IGZ1bmN0aW9uIEZ1c2lvbkNoYXJ0cygpIHt9O1xuXHRcblx0RnVzaW9uQ2hhcnRzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGV4dCwgYXJyKSB7XG5cdCAgdmFyIGV4dE5hbWUgPSBhcnJbMF07XG5cdCAgdmFyIGZuID0gYXJyWzFdO1xuXHQgIGNvbnNvbGUubG9nKCdDdXJyZW50bHkgYWN0aXZlIGV4dGVuc2lvbjogJyArIGV4dE5hbWUpO1xuXHQgIGZuLmJpbmQodGhpcywgNTY1KSgpO1xuXHR9O1xuXHRcblx0RnVzaW9uQ2hhcnRzLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnRUeXBlLCBjb21wb25lbnROYW1lKSB7XG5cdCAgdmFyIHRvb2xCb3ggPSB7XG5cdCAgICB4OiAyNCxcblx0ICAgIHk6IDU2LFxuXHQgICAgd2lkdGg6IDEwMCxcblx0ICAgIGhlaWdodDogMjAsXG5cdCAgICBpbmRleDogNFxuXHQgIH07XG5cdFxuXHQgIGlmIChjb21wb25lbnRUeXBlID09PSAnYXBpJyAmJiBjb21wb25lbnROYW1lID09PSAndG9vbGJveCcpIHtcblx0ICAgIHJldHVybiB0b29sQm94O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRGdXNpb25DaGFydHMuZXh0QVBJID0gZnVuY3Rpb24gKG9iaikge1xuXHQgIG9iai5pbml0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBhcmdzVG9BcHBseSA9IFtdO1xuXHQgICAgdmFyIGNiID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcblx0ICAgICAgaWYgKGFyZ3VtZW50c1tpXSA9PT0gJ1gtQXhpcycpIHtcblx0ICAgICAgICBhcmdzVG9BcHBseS5wdXNoKDE1Njc3Mik7XG5cdCAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzW2ldID09PSAnWS1BeGlzJykge1xuXHQgICAgICAgIGFyZ3NUb0FwcGx5LnB1c2goMTU2NzY1KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgY2IuYXBwbHkodGhpcywgYXJnc1RvQXBwbHkpO1xuXHQgIH0pO1xuXHRcblx0ICBvYmoucGxhY2VJbkNhbnZhcygpO1xuXHRcblx0ICBvYmouZHJhdygpO1xuXHRcblx0ICBvYmouZGlzcG9zZSgpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBGdXNpb25DaGFydHM7XG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIGZjdHMtZXh0LWRhdGFhZ2dyZWdhdG9yLWVzNS5taW4uanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDI5NmY0NTUyMGEzYzFjNjZjNzMwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgQWdncmVnYXRvciA9IHJlcXVpcmUoJy4vZmN0cy1leHQtYWdncmVnYXRvcicpO1xuY29uc3QgRnVzaW9uQ2hhcnRzID0gcmVxdWlyZSgnLi4vbGliL2Z1c2lvbmNoYXJ0cycpO1xuXG5GdXNpb25DaGFydHMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsnZGF0YS1hZ2dyZWdhdG9yJywgZnVuY3Rpb24gKGlkKSB7XG4gIHZhciBnbG9iYWwgPSB0aGlzO1xuICB2YXIgZXh0QVBJID0gZ2xvYmFsLmV4dEFQSTtcbiAgY29uc29sZS5sb2coaWQpO1xuXG4gIC8vIHZhciBvdGhlckFQSSA9IEZ1c2lvbkNoYXJ0cy5nZXRFeHRDb21wb25lbnQoaWQsICdhcGknLCAnbGVnYWN5ZXh0YXBpJyk7XG4gIC8vIHZhciB0b29sQm94QXBpID0gRnVzaW9uQ2hhcnRzLmdldENvbXBvbmVudCgnYXBpJywgJ3Rvb2xib3gnKTtcblxuICBleHRBUEkobmV3IEFnZ3JlZ2F0b3IoKSk7XG59XSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9pbmRleC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRhIEFnZ3JlZ2F0b3IuXG4gKi9cbmNsYXNzIEFnZ3JlZ2F0b3Ige1xuICAvKipcbiAgICogQ3JlYXRlIGEgQWdncmVnYXRvci5cbiAgICogQHR5cGVkZWYge29iamVjdH0gQWdncmVnYXRvci5hZ2dyZWdhdGlvblxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gdGltZVBlcmlvZCAtIFRoZSB0aW1lIGludGVydmFsIG9mIGFnZ3JlZ2F0aW9uLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVBlcmlvZE11bHRpcGxpZXIgLSBUaGUgbXVsdGlwbGllciBvZiB0aW1lIGludGVydmFsLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gYWdncmVnYXRpb25NZXRob2QgLSBUaGUgbWV0aG9kIGFwcGxpZWQgdG8gYWdncmVnYXRlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24gPSB7XG4gICAgICB0aW1lUGVyaW9kOiBudWxsLFxuICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXI6IDAsXG4gICAgICBhZ2dyZWdhdGlvbk1ldGhvZDogbnVsbFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgdGltZVBlcmlvZCwgdGltZVBlcmlvZE11bHRpcGxpZXIsIGFnZ3JlZ2F0aW9uTWV0aG9kLlxuICAgKiBAdHlwZSB7QWdncmVnYXRvci5hZ2dyZWdhdGlvbn1cbiAgICovXG4gIGdldCBhZ2dyZWdhdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBwbGllZEFnZ3JlZ2F0aW9uO1xuICB9XG5cbiAgc2V0IGFnZ3JlZ2F0aW9uIChvYmopIHtcbiAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbi50aW1lUGVyaW9kID0gb2JqLnRpbWVQZXJpb2Q7XG4gICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZE11bHRpcGxpZXIgPSBvYmoudGltZVBlcmlvZE11bHRpcGxpZXI7XG4gICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24uYWdncmVnYXRpb25NZXRob2QgPSBvYmouYWdncmVnYXRpb25NZXRob2Q7XG4gIH1cblxuICAvKipcbiAgICogU2V0IEFnZ3JlZ2F0aW9uIG9uIHRpbWUgc2VyaWVzXG4gICAqL1xuICBzZXRBZ2dyZWdhdGlvbiAob2JqKSB7XG4gICAgdGhpcy5hZ2dyZWdhdGlvbiA9IG9iajtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBBcHBsaWVkIEFnZ3JlZ2F0aW9uXG4gICAqL1xuICByZXNldCAoKSB7XG5cbiAgfVxuXG4gIGluaXQgKHJlcXVpcmUpIHtcbiAgICByZXF1aXJlKCdYLUF4aXMnLCAnWS1BeGlzJywgZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgIGdsb2JhbC54ID0geDtcbiAgICAgIGdsb2JhbC55ID0geTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYWNlSW5DYW52YXMgKCkge1xuICAgIC8vIHNwYWNlIG1hbmFnZW1lbnRcbiAgICB2YXIgaXNTZXQgPSB0aGlzLnNldEFnZ3JlZ2F0aW9uKHtcbiAgICAgIHRpbWVQZXJpb2Q6ICdtb250aCcsXG4gICAgICB0aW1lUGVyaW9kTXVsdGlwbGllcjogMyxcbiAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kOiAnc3VtJ1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYWdncmVnYXRpb24sIGlzU2V0KTtcbiAgfVxuXG4gIGRyYXcgKCkge1xuICAgIC8vIGRyYXcgZXh0ZW5zaW9uXG4gIH1cblxuICBkaXNwb3NlICgpIHtcbiAgICAvLyBkaXNwb3NlIGV4dGVuc2lvblxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQWdncmVnYXRvcjtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgRnVzaW9uQ2hhcnRzID0gZnVuY3Rpb24gKCkge307XG5cbkZ1c2lvbkNoYXJ0cy5yZWdpc3RlciA9IGZ1bmN0aW9uIChleHQsIGFycikge1xuICB2YXIgZXh0TmFtZSA9IGFyclswXTtcbiAgdmFyIGZuID0gYXJyWzFdO1xuICBjb25zb2xlLmxvZygnQ3VycmVudGx5IGFjdGl2ZSBleHRlbnNpb246ICcgKyBleHROYW1lKTtcbiAgZm4uYmluZCh0aGlzLCA1NjUpKCk7XG59O1xuXG5GdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudE5hbWUpIHtcbiAgdmFyIHRvb2xCb3ggPSB7XG4gICAgeDogMjQsXG4gICAgeTogNTYsXG4gICAgd2lkdGg6IDEwMCxcbiAgICBoZWlnaHQ6IDIwLFxuICAgIGluZGV4OiA0XG4gIH07XG5cbiAgaWYgKGNvbXBvbmVudFR5cGUgPT09ICdhcGknICYmIGNvbXBvbmVudE5hbWUgPT09ICd0b29sYm94Jykge1xuICAgIHJldHVybiB0b29sQm94O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5GdXNpb25DaGFydHMuZXh0QVBJID0gZnVuY3Rpb24gKG9iaikge1xuICBvYmouaW5pdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3NUb0FwcGx5ID0gW107XG4gICAgdmFyIGNiID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgaWYgKGFyZ3VtZW50c1tpXSA9PT0gJ1gtQXhpcycpIHtcbiAgICAgICAgYXJnc1RvQXBwbHkucHVzaCgxNTY3NzIpO1xuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNbaV0gPT09ICdZLUF4aXMnKSB7XG4gICAgICAgIGFyZ3NUb0FwcGx5LnB1c2goMTU2NzY1KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2IuYXBwbHkodGhpcywgYXJnc1RvQXBwbHkpO1xuICB9KTtcblxuICBvYmoucGxhY2VJbkNhbnZhcygpO1xuXG4gIG9iai5kcmF3KCk7XG5cbiAgb2JqLmRpc3Bvc2UoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRnVzaW9uQ2hhcnRzO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9saWIvZnVzaW9uY2hhcnRzLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==