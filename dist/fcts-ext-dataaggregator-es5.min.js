/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(module) {'use strict';
	
	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
	
	var AggregatorGetter = __webpack_require__(2);
	
	;(function (env, factory) {
	  if (( false ? 'undefined' : _typeof(module)) === 'object' && module.exports) {
	    module.exports = env.document ? factory(env) : function (win) {
	      if (!win.document) {
	        throw new Error('Window with document not present');
	      }
	      return factory(win, true);
	    };
	  } else {
	    env.Aggregator = factory(env, true);
	  }
	})(typeof window !== 'undefined' ? window : undefined, function (_window, windowExists) {
	  var FC = _window.FusionCharts;
	
	  FC.register('extension', ['private', 'data-aggregator', function () {
	    FC.registerComponent('extensions', 'data-aggregator', AggregatorGetter({ FC: FC }));
	  }]);
	});
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = function(module) {
		if(!module.webpackPolyfill) {
			module.deprecate = function() {};
			module.paths = [];
			// module.parent = undefined by default
			module.children = [];
			module.webpackPolyfill = 1;
		}
		return module;
	}


/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	module.exports = function (dep) {
	  /**
	   * Class representing the Data Aggregator.
	   */
	  var Aggregator = function () {
	    /**
	     * Create a Aggregator.
	     * @typedef {object} Aggregator.aggregation
	     * @property {string} timePeriod - The time interval of aggregation.
	     * @property {number} timePeriodMultiplier - The multiplier of time interval.
	     * @property {string} aggregationMethod - The method applied to aggregate.
	     */
	    function Aggregator() {
	      _classCallCheck(this, Aggregator);
	
	      /**
	       * @private
	       */
	      this.appliedAggregation = {
	        timePeriod: null,
	        timePeriodMultiplier: null,
	        aggregationMethod: null
	      };
	      this.config = {};
	    }
	
	    /**
	     * An object representing the timePeriod, timePeriodMultiplier, aggregationMethod.
	     * @type {Aggregator.aggregation}
	     */
	
	
	    _createClass(Aggregator, [{
	      key: 'getAvailablelAggreagation',
	
	
	      /**
	       * Sets available aggregation options in configuration of extension
	       * @private
	       */
	      value: function getAvailablelAggreagation() {
	        var config = this.config,
	            dataAgg = config.dataAgg,
	            avlTimePeriods = config.avlTimePeriods = dataAgg.getAggregationTimeRules(),
	            i,
	            len;
	
	        config.avlTimeMultiplier = [];
	        len = avlTimePeriods.length;
	
	        for (i = 0; i < len; i++) {
	          config.avlTimeMultiplier.push(avlTimePeriods[i].possibleFactors);
	        }
	      }
	
	      /**
	       * Calculates valid aggregation time periods and corresponding multipliers
	       * @private
	       */
	
	    }, {
	      key: 'getValidAggregation',
	      value: function getValidAggregation() {
	        var self = this,
	            config = self.config,
	            tsObject = self.tsObject,
	            dataAgg = config.dataAgg,
	            i,
	            j,
	            len1,
	            len2,
	            avlTimePeriods,
	            avlTimeMultiplier,
	
	        // minNumOfPlot = 5,
	        maxNumOfPlot = config.composition.reactiveModel.model['max-plot-point'],
	            multipliersArr,
	            currentTimeLength,
	            timePeriod,
	            time,
	            expectedTime,
	            multiplier,
	            minBinSize;
	        // maxBinSize;
	
	        config.currentTimeLength = tsObject.globalReactiveModel.model['x-axis-visible-range-end'] - tsObject.globalReactiveModel.model['x-axis-visible-range-start'];
	
	        avlTimePeriods = config.avlTimePeriods;
	        avlTimeMultiplier = config.avlTimeMultiplier;
	        currentTimeLength = config.currentTimeLength;
	
	        config.minBinSize = minBinSize = currentTimeLength / maxNumOfPlot;
	        // config.maxBinSize = maxBinSize = currentTimeLength / minNumOfPlot;
	
	        config.validTimePeriod = [];
	        config.validTimePeriodMultiplier = [];
	        config.avlAggMethods = dataAgg.getAllAggregationMethod();
	
	        for (i = 0, len1 = avlTimePeriods.length; i < len1; i++) {
	          timePeriod = avlTimePeriods[i].name;
	          time = avlTimePeriods[i].interval;
	          multipliersArr = [];
	
	          for (j = 0, len2 = avlTimeMultiplier[i].length; j < len2; j++) {
	            multiplier = avlTimeMultiplier[i][j];
	            expectedTime = multiplier * time;
	
	            // if ((expectedTime >= minBinSize) && (expectedTime <= maxBinSize)) {
	            if (expectedTime >= minBinSize) {
	              multipliersArr.push(avlTimeMultiplier[i][j]);
	            }
	          }
	          if (multipliersArr.length > 0) {
	            config.validTimePeriodMultiplier.push(multipliersArr);
	            config.validTimePeriod.push(timePeriod);
	          }
	        }
	        // console.log('Time Period: ', config.validTimePeriod);
	        // console.log('Number Of Multipliers: ', config.validTimePeriodMultiplier);
	        // console.log('Methods: ', config.avlAggMethods);
	      }
	    }, {
	      key: 'getCurrentAggreation',
	      value: function getCurrentAggreation() {
	        var self = this,
	            config = self.config,
	            dataAgg = config.dataAgg,
	            composition = config.composition,
	            model = composition.reactiveModel,
	            currentAggMethod,
	            suitableInterval,
	            binSize;
	
	        binSize = model.prop('bin-size') - 1;
	
	        if (isFinite(binSize)) {
	          config.canAggregate = true;
	          suitableInterval = dataAgg.timeRules.getSuitableInterval(binSize);
	          currentAggMethod = model.prop('aggregation-fn');
	        } else {
	          config.canAggregate = false;
	          suitableInterval = {
	            name: '',
	            step: ''
	          };
	          config.validTimePeriod = [suitableInterval.name];
	          config.validTimePeriodMultiplier = [[suitableInterval.step]];
	          config.avlAggMethods = {
	            'invalid': {
	              formalName: '',
	              nickName: ''
	            }
	          };
	          currentAggMethod = config.avlAggMethods['invalid'];
	        }
	
	        return {
	          timePeriod: suitableInterval.name,
	          timePeriodMultiplier: suitableInterval.step,
	          aggregationMethod: {
	            value: currentAggMethod.nickName,
	            text: currentAggMethod.formalName
	          }
	        };
	      }
	
	      /**
	       * Set Aggregation on time series
	       * @param  {object} obj
	       * @property {string} timePeriod - The time interval of aggregation.
	       * @property {number} timePeriodMultiplier - The multiplier of time interval.
	       * @property {string} aggregationMethod - The method applied to aggregate.
	       */
	
	    }, {
	      key: 'setAggregation',
	      value: function setAggregation(obj) {
	        var avlAggMethods,
	            validTimePeriod,
	            timePeriodIndex,
	            validTimePeriodMultiplier,
	            config = this.config;
	
	        avlAggMethods = config.avlAggMethods;
	        validTimePeriod = config.validTimePeriod;
	        validTimePeriodMultiplier = config.validTimePeriodMultiplier;
	
	        // if (avlAggMethods.includes(obj.aggregationMethod) && validTimePeriod.includes(obj.timePeriod)) {
	        //   timePeriodIndex = validTimePeriod.indexOf(obj.timePeriod);
	        //   if (validTimePeriodMultiplier[timePeriodIndex].includes(Number(obj.timePeriodMultiplier))) {
	        //     this.aggregation = obj;
	        //     console.log(this.aggregation);
	        //     return true;
	        //   } else {
	        //     console.log(this.aggregation);
	        //     return false;
	        //   }
	        // } else {
	        //   console.log(this.aggregation);
	        //   return false;
	        // }
	      }
	
	      /**
	       * Reset Applied Aggregation
	       */
	
	    }, {
	      key: 'resetAggregation',
	      value: function resetAggregation() {}
	    }, {
	      key: 'init',
	      value: function init(require) {
	        var self = this,
	            config = self.config,
	            toolboxComponent = config.toolboxComponent = {},
	            api,
	            store,
	            composition,
	            saveTo = 'tsObject',
	            requiredParams = ['graphics', 'globalReactiveModel', 'chart', 'spaceManagerInstance', 'chartInstance', 'smartLabel', function acquire() {
	          var i = 0,
	              ii = requiredParams.length - 1,
	              param = '';
	          self[saveTo] = self[saveTo] || {};
	          self.requiredParams = {};
	          for (i = 0; i < ii; ++i) {
	            param = requiredParams[i];
	            self[saveTo][param] = arguments[i];
	          }
	          // onInit(self[saveTo]);
	        }];
	        require(requiredParams);
	
	        api = self.tsObject.chartInstance.apiInstance;
	        store = api.getComponentStore();
	        config.composition = composition = store.getCanvasByIndex(0).composition;
	        config.dataAgg = composition.impl.getDataAggregator();
	
	        toolboxComponent.toolbox = dep.FC.getComponent('api', 'toolbox');
	        toolboxComponent.config = {};
	
	        self.toolbars = [];
	
	        self.measurement = {};
	
	        self.toolbars.push(self.createToolbar());
	
	        window.Aggregator = self;
	        return self;
	      }
	    }, {
	      key: 'createToolbar',
	      value: function createToolbar() {
	        var self = this,
	            group,
	            toolbar,
	            timeMulSelectMenu,
	            timePeriodSelectMenu,
	            aggMethodSelectMenu,
	            resetButton,
	            applyButton,
	            config = self.config,
	            tsObject = self.tsObject,
	            label,
	            toolboxComponent = config.toolboxComponent,
	            toolbox = toolboxComponent.toolbox,
	            toolboxCompConfig = toolboxComponent.config,
	            HorizontalToolbar = toolbox.HorizontalToolbar,
	            ComponentGroup = toolbox.ComponentGroup,
	            SymbolStore = toolbox.SymbolStore,
	            graphics = tsObject.graphics,
	            paper = graphics.paper,
	            container = graphics.container,
	            chart = tsObject.chart,
	            smartLabel = tsObject.smartLabel,
	            multiplierVal,
	            timeMulSelectMenuOpt = '',
	            dependencies = {
	          paper: paper,
	          chart: chart,
	          smartLabel: smartLabel,
	          chartContainer: container
	        },
	            apply = function apply(set) {
	          var model = config.composition.reactiveModel,
	              timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              aggMethodSelectMenuVal = aggMethodSelectMenu.value(),
	              keys,
	              timeInterval,
	              canvas = config.composition.impl;
	
	          var _iteratorNormalCompletion = true;
	          var _didIteratorError = false;
	          var _iteratorError = undefined;
	
	          try {
	            for (var _iterator = config.avlTimePeriods[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
	              keys = _step.value;
	
	              if (keys.name === timePeriodVal) {
	                timeInterval = keys.interval;
	                break;
	              }
	            }
	          } catch (err) {
	            _didIteratorError = true;
	            _iteratorError = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion && _iterator.return) {
	                _iterator.return();
	              }
	            } finally {
	              if (_didIteratorError) {
	                throw _iteratorError;
	              }
	            }
	          }
	
	          if (set && isFinite(model.prop('bin-size'))) {
	            model.lock().prop('bin-size-ext', timeInterval * Number(timePeriodMultiplierVal)).prop('aggregation-fn-ext', config.avlAggMethods[aggMethodSelectMenuVal]).unlock();
	          } else {
	            canvas.resetAggregation();
	          }
	          // applyButton.updateVisual('disabled');
	          // applyButton.updateVisual('enabled');
	        },
	            timePeriodOnChange = function timePeriodOnChange() {
	          var timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              prevTimePeroidMulVal = timePeriodMultiplierVal,
	              validTimePeriod = config.validTimePeriod,
	              validTimePeriodMultiplier = config.validTimePeriodMultiplier,
	              indexOfTimeUnit,
	              indexOfTimeMul;
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriodVal);
	          indexOfTimeMul = validTimePeriodMultiplier[indexOfTimeUnit].indexOf(Number(timePeriodMultiplierVal));
	
	          // console.log(indexOfTimeUnit, indexOfTimeMul);
	          timeMulSelectMenuOpt = '';
	          var _iteratorNormalCompletion2 = true;
	          var _didIteratorError2 = false;
	          var _iteratorError2 = undefined;
	
	          try {
	            for (var _iterator2 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
	              multiplierVal = _step2.value;
	
	              timeMulSelectMenuOpt += '<option value="' + multiplierVal + '">' + multiplierVal + '</option>';
	            }
	          } catch (err) {
	            _didIteratorError2 = true;
	            _iteratorError2 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion2 && _iterator2.return) {
	                _iterator2.return();
	              }
	            } finally {
	              if (_didIteratorError2) {
	                throw _iteratorError2;
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	
	          if (indexOfTimeMul < 0) {
	            timeMulSelectMenu.value(validTimePeriodMultiplier[indexOfTimeUnit][0].toString());
	          } else {
	            timeMulSelectMenu.value(prevTimePeroidMulVal);
	          }
	        };
	
	        group = new ComponentGroup(dependencies);
	        toolbar = new HorizontalToolbar(dependencies);
	
	        group.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        toolbar.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        label = new toolbox.Label('Aggregate Data:', dependencies, {
	          text: {
	            style: {
	              'font-size': '14',
	              'fill': '#696969'
	            }
	          }
	        });
	
	        toolboxCompConfig.timePeriodSelectMenu = timePeriodSelectMenu = new toolbox.SelectSymbol({
	          width: 90,
	          height: 22
	        }, dependencies, {
	          innerHTML: '<option value="time">Time Period</option>'
	        }, {
	          strokeWidth: 1,
	          stroke: 'rgba(102,102,102,0.5)',
	          symbolStrokeWidth: 0,
	          btnTextStyle: {
	            fontSize: 11
	          },
	          hoverFill: '#1e1f1f'
	        });
	
	        toolboxCompConfig.timeMulSelectMenu = timeMulSelectMenu = new toolbox.SelectSymbol({
	          width: 50,
	          height: 22
	        }, dependencies, {
	          innerHTML: '<option value="number">Multiplier</option>'
	        }, {
	          strokeWidth: 1,
	          stroke: 'rgba(102,102,102,0.5)',
	          symbolStrokeWidth: 0,
	          btnTextStyle: {
	            fontSize: 11
	          },
	          hoverFill: '#1e1f1f'
	        });
	
	        toolboxCompConfig.aggMethodSelectMenu = aggMethodSelectMenu = new toolbox.SelectSymbol({
	          width: 90,
	          height: 22
	        }, dependencies, {
	          innerHTML: '<option value="Formula">Method</option>'
	        }, {
	          strokeWidth: 1,
	          stroke: 'rgba(102,102,102,0.5)',
	          symbolStrokeWidth: 0,
	          btnTextStyle: {
	            fontSize: 11
	          },
	          hoverFill: '#1e1f1f'
	        });
	
	        toolboxCompConfig.applyButton = applyButton = new toolbox.Symbol('APPLY', true, dependencies, {
	          fill: '#555',
	          labelFill: '#fff',
	          hoverFill: '#555',
	          width: 30,
	          height: 20,
	          btnTextStyle: {
	            fontSize: 11
	          }
	        }).attachEventHandlers({
	          click: function click() {
	            apply(1);
	          }
	        });
	        toolboxCompConfig.resetButton = resetButton = new toolbox.Symbol('RESET', true, dependencies, {
	          fill: '#898b8b',
	          labelFill: '#fff',
	          hoverFill: '#898b8b',
	          width: 30,
	          height: 20,
	          btnTextStyle: {
	            fontSize: 11
	          }
	        }).attachEventHandlers({
	          click: function click() {
	            apply(0);
	          }
	        });
	
	        group.addSymbol(label);
	        group.addSymbol(timeMulSelectMenu);
	        group.addSymbol(timePeriodSelectMenu);
	        group.addSymbol(aggMethodSelectMenu);
	        group.addSymbol(applyButton);
	        group.addSymbol(resetButton);
	
	        SymbolStore.register('textBoxIcon', function (x, y, rad, w, h, padX, padY) {
	          var x1 = x - w / 2 + padX / 2,
	              x2 = x + w / 2 - padX / 2,
	              y1 = y - h / 2 + padY / 2,
	              y2 = y + h / 2 - padY / 2;
	
	          return ['M', x1, y1, 'L', x2, y1, 'L', x2, y2, 'L', x1, y2, 'Z'];
	        });
	
	        timeMulSelectMenu.attachEventHandlers({
	          click: {
	            fn: timeMulSelectMenu.edit
	          },
	          textOnBlur: function textOnBlur() {
	            timeMulSelectMenu.blur();
	          }
	        });
	        timePeriodSelectMenu.attachEventHandlers({
	          click: {
	            fn: timePeriodSelectMenu.edit
	          },
	          textOnBlur: function textOnBlur() {
	            timePeriodSelectMenu.blur();
	          },
	          textOnChange: function textOnChange() {
	            timePeriodSelectMenu.blur();
	            timePeriodOnChange();
	          }
	        });
	        aggMethodSelectMenu.attachEventHandlers({
	          click: {
	            fn: aggMethodSelectMenu.edit
	          },
	          textOnBlur: function textOnBlur() {
	            aggMethodSelectMenu.blur();
	          }
	        });
	
	        toolbar.addComponent(group);
	
	        return toolbar;
	      }
	    }, {
	      key: 'getLogicalSpace',
	      value: function getLogicalSpace(availableWidth, availableHeight) {
	        var logicalSpace,
	            width = 0,
	            height = 0,
	            i,
	            ln;
	
	        for (i = 0, ln = this.toolbars.length; i < ln; i++) {
	          logicalSpace = this.toolbars[i].getLogicalSpace();
	          width = Math.max(logicalSpace.width, width);
	          height += logicalSpace.height;
	          this.toolbars[i].width = logicalSpace.width;
	          this.toolbars[i].height = logicalSpace.height;
	        }
	        height += this.padding;
	        return {
	          width: width > availableWidth ? 0 : width,
	          height: height > availableHeight ? 0 : height
	        };
	      }
	    }, {
	      key: 'placeInCanvas',
	      value: function placeInCanvas(containerInstance) {
	        var _self = this,
	            tsObject = _self.tsObject;
	
	        _self.padding = 5;
	        tsObject.spaceManagerInstance.add([{
	          name: function name() {
	            return 'DataAggregator';
	          },
	          ref: function ref(obj) {
	            return obj['0'];
	          },
	          self: function self() {
	            return _self;
	          },
	          priority: function priority() {
	            return 2;
	          },
	          layout: function layout(obj) {
	            return obj.inline;
	          },
	          orientation: [{
	            type: function type(obj) {
	              return obj.horizontal;
	            },
	            position: [{
	              type: function type(obj) {
	                return obj.top;
	              },
	              alignment: [{
	                type: function type(obj) {
	                  return obj.left;
	                },
	                dimensions: [function () {
	                  var parent = this.getParentComponentGroup();
	                  return _self.getLogicalSpace(parent.getWidth(), parent.getHeight());
	                }]
	              }]
	            }]
	          }]
	        }]);
	      }
	    }, {
	      key: 'setDrawingConfiguration',
	      value: function setDrawingConfiguration(x, y, width, height, group) {
	        var mes = this.measurement;
	        mes.x = x;
	        mes.y = y;
	        mes.width = width;
	        mes.height = height;
	
	        this.parentGroup = group;
	
	        return this;
	      }
	    }, {
	      key: 'draw',
	      value: function draw(x, y, width, height, group) {
	        var self = this,
	            config = self.config,
	            toolboxCompConfig = config.toolboxComponent.config,
	            timePeriodSelectMenu = toolboxCompConfig.timePeriodSelectMenu,
	            timeMulSelectMenu = toolboxCompConfig.timeMulSelectMenu,
	            aggMethodSelectMenu = toolboxCompConfig.aggMethodSelectMenu,
	            applyButton = toolboxCompConfig.applyButton,
	            resetButton = toolboxCompConfig.resetButton,
	            currentAggregationObj,
	            measurement = self.measurement,
	            toolbars = self.toolbars,
	            ln,
	            i,
	            toolbar,
	            model = config.composition.reactiveModel,
	            timePeriodVal,
	            timePeriodSelectMenuOpt,
	            validTimePeriod,
	            indexOfTimeUnit,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            validTimePeriodMultiplier,
	            aggVal,
	            aggMethodSelectMenuOpt,
	            avlAggMethods,
	            rangeOnChange = function rangeOnChange() {
	          self.getValidAggregation();
	          currentAggregationObj = self.getCurrentAggreation();
	
	          timePeriodSelectMenuOpt = '';
	          timeMulSelectMenuOpt = '';
	          aggMethodSelectMenuOpt = '';
	
	          validTimePeriod = config.validTimePeriod;
	          validTimePeriodMultiplier = config.validTimePeriodMultiplier;
	          avlAggMethods = config.avlAggMethods;
	
	          if (!config.canAggregate) {
	            timePeriodSelectMenu.updateVisual('disabled');
	            timeMulSelectMenu.updateVisual('disabled');
	            aggMethodSelectMenu.updateVisual('disabled');
	            applyButton.updateVisual('disabled');
	            resetButton.updateVisual('disabled');
	          } else {
	            timePeriodSelectMenu.updateVisual('enabled');
	            timeMulSelectMenu.updateVisual('enabled');
	            aggMethodSelectMenu.updateVisual('enabled');
	            applyButton.updateVisual('enabled');
	            resetButton.updateVisual('enabled');
	          }
	
	          var _iteratorNormalCompletion3 = true;
	          var _didIteratorError3 = false;
	          var _iteratorError3 = undefined;
	
	          try {
	            for (var _iterator3 = validTimePeriod[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
	              timePeriodVal = _step3.value;
	
	              timePeriodSelectMenuOpt += '<option value="' + timePeriodVal + '">' + timePeriodVal + '</option>';
	            }
	          } catch (err) {
	            _didIteratorError3 = true;
	            _iteratorError3 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion3 && _iterator3.return) {
	                _iterator3.return();
	              }
	            } finally {
	              if (_didIteratorError3) {
	                throw _iteratorError3;
	              }
	            }
	          }
	
	          timePeriodSelectMenu.updateList(timePeriodSelectMenuOpt);
	          timePeriodSelectMenu.value(currentAggregationObj.timePeriod);
	
	          indexOfTimeUnit = validTimePeriod.indexOf(currentAggregationObj.timePeriod);
	
	          if (indexOfTimeUnit >= 0) {
	            var _iteratorNormalCompletion4 = true;
	            var _didIteratorError4 = false;
	            var _iteratorError4 = undefined;
	
	            try {
	              for (var _iterator4 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
	                multiplierVal = _step4.value;
	
	                timeMulSelectMenuOpt += '<option value="' + multiplierVal + '">' + multiplierVal + '</option>';
	              }
	            } catch (err) {
	              _didIteratorError4 = true;
	              _iteratorError4 = err;
	            } finally {
	              try {
	                if (!_iteratorNormalCompletion4 && _iterator4.return) {
	                  _iterator4.return();
	                }
	              } finally {
	                if (_didIteratorError4) {
	                  throw _iteratorError4;
	                }
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	          timeMulSelectMenu.value(currentAggregationObj.timePeriodMultiplier.toString());
	
	          for (aggVal in avlAggMethods) {
	            aggMethodSelectMenuOpt += '<option value="' + avlAggMethods[aggVal].nickName + '">' + avlAggMethods[aggVal].formalName + '</option>';
	          }
	
	          aggMethodSelectMenu.updateList(aggMethodSelectMenuOpt);
	          aggMethodSelectMenu.value(currentAggregationObj.aggregationMethod.value);
	        };
	
	        self.getAvailablelAggreagation();
	
	        x = x === undefined ? measurement.x : x;
	        y = y === undefined ? measurement.y : y;
	        width = width === undefined ? measurement.width : width;
	        height = height === undefined ? measurement.height : height;
	        group = group === undefined ? self.parentGroup : group;
	        if (width && height) {
	          for (i = 0, ln = toolbars.length; i < ln; i++) {
	            toolbar = toolbars[i];
	            toolbar.draw(x, y);
	          }
	        }
	        rangeOnChange();
	
	        model.onPropsChange(['bin-size', 'aggregation-fn'], rangeOnChange);
	      }
	    }, {
	      key: 'dispose',
	      value: function dispose() {
	        // dispose extension
	      }
	    }, {
	      key: 'aggregation',
	      get: function get() {
	        return this.appliedAggregation;
	      },
	      set: function set(obj) {
	        this.appliedAggregation.timePeriod = obj.timePeriod;
	        this.appliedAggregation.timePeriodMultiplier = obj.timePeriodMultiplier;
	        this.appliedAggregation.aggregationMethod = obj.aggregationMethod;
	      }
	    }]);
	
	    return Aggregator;
	  }();
	
	  return Aggregator;
	};

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjE1MzdkMzBlMmEwM2FkN2FkMGEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanMiXSwibmFtZXMiOlsiQWdncmVnYXRvckdldHRlciIsInJlcXVpcmUiLCJlbnYiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50Iiwid2luIiwiRXJyb3IiLCJBZ2dyZWdhdG9yIiwid2luZG93IiwiX3dpbmRvdyIsIndpbmRvd0V4aXN0cyIsIkZDIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJyZWdpc3RlckNvbXBvbmVudCIsImRlcCIsImFwcGxpZWRBZ2dyZWdhdGlvbiIsInRpbWVQZXJpb2QiLCJ0aW1lUGVyaW9kTXVsdGlwbGllciIsImFnZ3JlZ2F0aW9uTWV0aG9kIiwiY29uZmlnIiwiZGF0YUFnZyIsImF2bFRpbWVQZXJpb2RzIiwiZ2V0QWdncmVnYXRpb25UaW1lUnVsZXMiLCJpIiwibGVuIiwiYXZsVGltZU11bHRpcGxpZXIiLCJsZW5ndGgiLCJwdXNoIiwicG9zc2libGVGYWN0b3JzIiwic2VsZiIsInRzT2JqZWN0IiwiaiIsImxlbjEiLCJsZW4yIiwibWF4TnVtT2ZQbG90IiwiY29tcG9zaXRpb24iLCJyZWFjdGl2ZU1vZGVsIiwibW9kZWwiLCJtdWx0aXBsaWVyc0FyciIsImN1cnJlbnRUaW1lTGVuZ3RoIiwidGltZSIsImV4cGVjdGVkVGltZSIsIm11bHRpcGxpZXIiLCJtaW5CaW5TaXplIiwiZ2xvYmFsUmVhY3RpdmVNb2RlbCIsInZhbGlkVGltZVBlcmlvZCIsInZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIiLCJhdmxBZ2dNZXRob2RzIiwiZ2V0QWxsQWdncmVnYXRpb25NZXRob2QiLCJuYW1lIiwiaW50ZXJ2YWwiLCJjdXJyZW50QWdnTWV0aG9kIiwic3VpdGFibGVJbnRlcnZhbCIsImJpblNpemUiLCJwcm9wIiwiaXNGaW5pdGUiLCJjYW5BZ2dyZWdhdGUiLCJ0aW1lUnVsZXMiLCJnZXRTdWl0YWJsZUludGVydmFsIiwic3RlcCIsImZvcm1hbE5hbWUiLCJuaWNrTmFtZSIsInZhbHVlIiwidGV4dCIsIm9iaiIsInRpbWVQZXJpb2RJbmRleCIsInRvb2xib3hDb21wb25lbnQiLCJhcGkiLCJzdG9yZSIsInNhdmVUbyIsInJlcXVpcmVkUGFyYW1zIiwiYWNxdWlyZSIsImlpIiwicGFyYW0iLCJhcmd1bWVudHMiLCJjaGFydEluc3RhbmNlIiwiYXBpSW5zdGFuY2UiLCJnZXRDb21wb25lbnRTdG9yZSIsImdldENhbnZhc0J5SW5kZXgiLCJpbXBsIiwiZ2V0RGF0YUFnZ3JlZ2F0b3IiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwidG9vbGJhcnMiLCJtZWFzdXJlbWVudCIsImNyZWF0ZVRvb2xiYXIiLCJncm91cCIsInRvb2xiYXIiLCJ0aW1lTXVsU2VsZWN0TWVudSIsInRpbWVQZXJpb2RTZWxlY3RNZW51IiwiYWdnTWV0aG9kU2VsZWN0TWVudSIsInJlc2V0QnV0dG9uIiwiYXBwbHlCdXR0b24iLCJsYWJlbCIsInRvb2xib3hDb21wQ29uZmlnIiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwiZ3JhcGhpY3MiLCJwYXBlciIsImNvbnRhaW5lciIsImNoYXJ0Iiwic21hcnRMYWJlbCIsIm11bHRpcGxpZXJWYWwiLCJ0aW1lTXVsU2VsZWN0TWVudU9wdCIsImRlcGVuZGVuY2llcyIsImNoYXJ0Q29udGFpbmVyIiwiYXBwbHkiLCJzZXQiLCJ0aW1lUGVyaW9kVmFsIiwidGltZVBlcmlvZE11bHRpcGxpZXJWYWwiLCJhZ2dNZXRob2RTZWxlY3RNZW51VmFsIiwia2V5cyIsInRpbWVJbnRlcnZhbCIsImNhbnZhcyIsImxvY2siLCJOdW1iZXIiLCJ1bmxvY2siLCJyZXNldEFnZ3JlZ2F0aW9uIiwidGltZVBlcmlvZE9uQ2hhbmdlIiwicHJldlRpbWVQZXJvaWRNdWxWYWwiLCJpbmRleE9mVGltZVVuaXQiLCJpbmRleE9mVGltZU11bCIsImluZGV4T2YiLCJ1cGRhdGVMaXN0IiwidG9TdHJpbmciLCJzZXRDb25maWciLCJmaWxsIiwiYm9yZGVyVGhpY2tuZXNzIiwiTGFiZWwiLCJzdHlsZSIsIlNlbGVjdFN5bWJvbCIsIndpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIVE1MIiwic3Ryb2tlV2lkdGgiLCJzdHJva2UiLCJzeW1ib2xTdHJva2VXaWR0aCIsImJ0blRleHRTdHlsZSIsImZvbnRTaXplIiwiaG92ZXJGaWxsIiwiU3ltYm9sIiwibGFiZWxGaWxsIiwiYXR0YWNoRXZlbnRIYW5kbGVycyIsImNsaWNrIiwiYWRkU3ltYm9sIiwieCIsInkiLCJyYWQiLCJ3IiwiaCIsInBhZFgiLCJwYWRZIiwieDEiLCJ4MiIsInkxIiwieTIiLCJmbiIsImVkaXQiLCJ0ZXh0T25CbHVyIiwiYmx1ciIsInRleHRPbkNoYW5nZSIsImFkZENvbXBvbmVudCIsImF2YWlsYWJsZVdpZHRoIiwiYXZhaWxhYmxlSGVpZ2h0IiwibG9naWNhbFNwYWNlIiwibG4iLCJnZXRMb2dpY2FsU3BhY2UiLCJNYXRoIiwibWF4IiwicGFkZGluZyIsImNvbnRhaW5lckluc3RhbmNlIiwic3BhY2VNYW5hZ2VySW5zdGFuY2UiLCJhZGQiLCJyZWYiLCJwcmlvcml0eSIsImxheW91dCIsImlubGluZSIsIm9yaWVudGF0aW9uIiwidHlwZSIsImhvcml6b250YWwiLCJwb3NpdGlvbiIsInRvcCIsImFsaWdubWVudCIsImxlZnQiLCJkaW1lbnNpb25zIiwicGFyZW50IiwiZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIm1lcyIsInBhcmVudEdyb3VwIiwiY3VycmVudEFnZ3JlZ2F0aW9uT2JqIiwidGltZVBlcmlvZFNlbGVjdE1lbnVPcHQiLCJhZ2dWYWwiLCJhZ2dNZXRob2RTZWxlY3RNZW51T3B0IiwicmFuZ2VPbkNoYW5nZSIsImdldFZhbGlkQWdncmVnYXRpb24iLCJnZXRDdXJyZW50QWdncmVhdGlvbiIsInVwZGF0ZVZpc3VhbCIsImdldEF2YWlsYWJsZWxBZ2dyZWFnYXRpb24iLCJ1bmRlZmluZWQiLCJkcmF3Iiwib25Qcm9wc0NoYW5nZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7QUN0Q0E7Ozs7QUFDQSxLQUFNQSxtQkFBbUIsbUJBQUFDLENBQVEsQ0FBUixDQUF6Qjs7QUFFQSxFQUFDLENBQUMsVUFBVUMsR0FBVixFQUFlQyxPQUFmLEVBQXdCO0FBQ3hCLE9BQUksZ0NBQU9DLE1BQVAsT0FBa0IsUUFBbEIsSUFBOEJBLE9BQU9DLE9BQXpDLEVBQWtEO0FBQ2hERCxZQUFPQyxPQUFQLEdBQWlCSCxJQUFJSSxRQUFKLEdBQ1pILFFBQVFELEdBQVIsQ0FEWSxHQUNHLFVBQVVLLEdBQVYsRUFBZTtBQUM5QixXQUFJLENBQUNBLElBQUlELFFBQVQsRUFBbUI7QUFDakIsZUFBTSxJQUFJRSxLQUFKLENBQVUsa0NBQVYsQ0FBTjtBQUNEO0FBQ0QsY0FBT0wsUUFBUUksR0FBUixFQUFhLElBQWIsQ0FBUDtBQUNELE1BTko7QUFPRCxJQVJELE1BUU87QUFDTEwsU0FBSU8sVUFBSixHQUFpQk4sUUFBUUQsR0FBUixFQUFhLElBQWIsQ0FBakI7QUFDRDtBQUNGLEVBWkEsRUFZRSxPQUFPUSxNQUFQLEtBQWtCLFdBQWxCLEdBQWdDQSxNQUFoQyxZQVpGLEVBWWlELFVBQVVDLE9BQVYsRUFBbUJDLFlBQW5CLEVBQWlDO0FBQ2pGLE9BQUlDLEtBQUtGLFFBQVFHLFlBQWpCOztBQUVBRCxNQUFHRSxRQUFILENBQVksV0FBWixFQUF5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cUI5QixVQUFPWixVQUFQO0FBQ0QsRUFqcUJELEMiLCJmaWxlIjoiZmN0cy1leHQtZGF0YWFnZ3JlZ2F0b3ItZXM1Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDIxNTM3ZDMwZTJhMDNhZDdhZDBhIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgQWdncmVnYXRvckdldHRlciA9IHJlcXVpcmUoJy4vZmN0cy1leHQtYWdncmVnYXRvcicpO1xuXG47KGZ1bmN0aW9uIChlbnYsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBlbnYuZG9jdW1lbnRcbiAgICAgICA/IGZhY3RvcnkoZW52KSA6IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgIGlmICghd2luLmRvY3VtZW50KSB7XG4gICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IHdpdGggZG9jdW1lbnQgbm90IHByZXNlbnQnKTtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBmYWN0b3J5KHdpbiwgdHJ1ZSk7XG4gICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICBlbnYuQWdncmVnYXRvciA9IGZhY3RvcnkoZW52LCB0cnVlKTtcbiAgfVxufSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAoX3dpbmRvdywgd2luZG93RXhpc3RzKSB7XG4gIHZhciBGQyA9IF93aW5kb3cuRnVzaW9uQ2hhcnRzO1xuXG4gIEZDLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ3ByaXZhdGUnLCAnZGF0YS1hZ2dyZWdhdG9yJywgZnVuY3Rpb24gKCkge1xuICAgIEZDLnJlZ2lzdGVyQ29tcG9uZW50KCdleHRlbnNpb25zJywgJ2RhdGEtYWdncmVnYXRvcicsIEFnZ3JlZ2F0b3JHZXR0ZXIoe0ZDOiBGQ30pKTtcbiAgfV0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXApIHtcbiAgLyoqXG4gICAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgRGF0YSBBZ2dyZWdhdG9yLlxuICAgKi9cbiAgY2xhc3MgQWdncmVnYXRvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgQWdncmVnYXRvci5cbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBBZ2dyZWdhdG9yLmFnZ3JlZ2F0aW9uXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRpbWVQZXJpb2QgLSBUaGUgdGltZSBpbnRlcnZhbCBvZiBhZ2dyZWdhdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVBlcmlvZE11bHRpcGxpZXIgLSBUaGUgbXVsdGlwbGllciBvZiB0aW1lIGludGVydmFsLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhZ2dyZWdhdGlvbk1ldGhvZCAtIFRoZSBtZXRob2QgYXBwbGllZCB0byBhZ2dyZWdhdGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbiA9IHtcbiAgICAgICAgdGltZVBlcmlvZDogbnVsbCxcbiAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXI6IG51bGwsXG4gICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kOiBudWxsXG4gICAgICB9O1xuICAgICAgdGhpcy5jb25maWcgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSB0aW1lUGVyaW9kLCB0aW1lUGVyaW9kTXVsdGlwbGllciwgYWdncmVnYXRpb25NZXRob2QuXG4gICAgICogQHR5cGUge0FnZ3JlZ2F0b3IuYWdncmVnYXRpb259XG4gICAgICovXG4gICAgZ2V0IGFnZ3JlZ2F0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgYWdncmVnYXRpb24gKG9iaikge1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZCA9IG9iai50aW1lUGVyaW9kO1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZE11bHRpcGxpZXIgPSBvYmoudGltZVBlcmlvZE11bHRpcGxpZXI7XG4gICAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbi5hZ2dyZWdhdGlvbk1ldGhvZCA9IG9iai5hZ2dyZWdhdGlvbk1ldGhvZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGF2YWlsYWJsZSBhZ2dyZWdhdGlvbiBvcHRpb25zIGluIGNvbmZpZ3VyYXRpb24gb2YgZXh0ZW5zaW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRBdmFpbGFibGVsQWdncmVhZ2F0aW9uICgpIHtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZyxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuICAgICAgICBhdmxUaW1lUGVyaW9kcyA9IGNvbmZpZy5hdmxUaW1lUGVyaW9kcyA9IGRhdGFBZ2cuZ2V0QWdncmVnYXRpb25UaW1lUnVsZXMoKSxcbiAgICAgICAgaSxcbiAgICAgICAgbGVuO1xuXG4gICAgICBjb25maWcuYXZsVGltZU11bHRpcGxpZXIgPSBbXTtcbiAgICAgIGxlbiA9IGF2bFRpbWVQZXJpb2RzLmxlbmd0aDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbmZpZy5hdmxUaW1lTXVsdGlwbGllci5wdXNoKGF2bFRpbWVQZXJpb2RzW2ldLnBvc3NpYmxlRmFjdG9ycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB2YWxpZCBhZ2dyZWdhdGlvbiB0aW1lIHBlcmlvZHMgYW5kIGNvcnJlc3BvbmRpbmcgbXVsdGlwbGllcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFZhbGlkQWdncmVnYXRpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgdHNPYmplY3QgPSBzZWxmLnRzT2JqZWN0LFxuICAgICAgICBkYXRhQWdnID0gY29uZmlnLmRhdGFBZ2csXG4gICAgICAgIGksXG4gICAgICAgIGosXG4gICAgICAgIGxlbjEsXG4gICAgICAgIGxlbjIsXG4gICAgICAgIGF2bFRpbWVQZXJpb2RzLFxuICAgICAgICBhdmxUaW1lTXVsdGlwbGllcixcbiAgICAgICAgLy8gbWluTnVtT2ZQbG90ID0gNSxcbiAgICAgICAgbWF4TnVtT2ZQbG90ID0gY29uZmlnLmNvbXBvc2l0aW9uLnJlYWN0aXZlTW9kZWwubW9kZWxbJ21heC1wbG90LXBvaW50J10sXG4gICAgICAgIG11bHRpcGxpZXJzQXJyLFxuICAgICAgICBjdXJyZW50VGltZUxlbmd0aCxcbiAgICAgICAgdGltZVBlcmlvZCxcbiAgICAgICAgdGltZSxcbiAgICAgICAgZXhwZWN0ZWRUaW1lLFxuICAgICAgICBtdWx0aXBsaWVyLFxuICAgICAgICBtaW5CaW5TaXplO1xuICAgICAgICAvLyBtYXhCaW5TaXplO1xuXG4gICAgICBjb25maWcuY3VycmVudFRpbWVMZW5ndGggPSB0c09iamVjdC5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSAtXG4gICAgICAgIHRzT2JqZWN0Lmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J107XG5cbiAgICAgIGF2bFRpbWVQZXJpb2RzID0gY29uZmlnLmF2bFRpbWVQZXJpb2RzO1xuICAgICAgYXZsVGltZU11bHRpcGxpZXIgPSBjb25maWcuYXZsVGltZU11bHRpcGxpZXI7XG4gICAgICBjdXJyZW50VGltZUxlbmd0aCA9IGNvbmZpZy5jdXJyZW50VGltZUxlbmd0aDtcblxuICAgICAgY29uZmlnLm1pbkJpblNpemUgPSBtaW5CaW5TaXplID0gY3VycmVudFRpbWVMZW5ndGggLyBtYXhOdW1PZlBsb3Q7XG4gICAgICAvLyBjb25maWcubWF4QmluU2l6ZSA9IG1heEJpblNpemUgPSBjdXJyZW50VGltZUxlbmd0aCAvIG1pbk51bU9mUGxvdDtcblxuICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZCA9IFtdO1xuICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBbXTtcbiAgICAgIGNvbmZpZy5hdmxBZ2dNZXRob2RzID0gZGF0YUFnZy5nZXRBbGxBZ2dyZWdhdGlvbk1ldGhvZCgpO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4xID0gYXZsVGltZVBlcmlvZHMubGVuZ3RoOyBpIDwgbGVuMTsgaSsrKSB7XG4gICAgICAgIHRpbWVQZXJpb2QgPSBhdmxUaW1lUGVyaW9kc1tpXS5uYW1lO1xuICAgICAgICB0aW1lID0gYXZsVGltZVBlcmlvZHNbaV0uaW50ZXJ2YWw7XG4gICAgICAgIG11bHRpcGxpZXJzQXJyID0gW107XG5cbiAgICAgICAgZm9yIChqID0gMCwgbGVuMiA9IGF2bFRpbWVNdWx0aXBsaWVyW2ldLmxlbmd0aDsgaiA8IGxlbjI7IGorKykge1xuICAgICAgICAgIG11bHRpcGxpZXIgPSBhdmxUaW1lTXVsdGlwbGllcltpXVtqXTtcbiAgICAgICAgICBleHBlY3RlZFRpbWUgPSBtdWx0aXBsaWVyICogdGltZTtcblxuICAgICAgICAgIC8vIGlmICgoZXhwZWN0ZWRUaW1lID49IG1pbkJpblNpemUpICYmIChleHBlY3RlZFRpbWUgPD0gbWF4QmluU2l6ZSkpIHtcbiAgICAgICAgICBpZiAoKGV4cGVjdGVkVGltZSA+PSBtaW5CaW5TaXplKSkge1xuICAgICAgICAgICAgbXVsdGlwbGllcnNBcnIucHVzaChhdmxUaW1lTXVsdGlwbGllcltpXVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtdWx0aXBsaWVyc0Fyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIucHVzaChtdWx0aXBsaWVyc0Fycik7XG4gICAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZC5wdXNoKHRpbWVQZXJpb2QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZygnVGltZSBQZXJpb2Q6ICcsIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ051bWJlciBPZiBNdWx0aXBsaWVyczogJywgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ01ldGhvZHM6ICcsIGNvbmZpZy5hdmxBZ2dNZXRob2RzKTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50QWdncmVhdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuY29uZmlnLFxuICAgICAgICBkYXRhQWdnID0gY29uZmlnLmRhdGFBZ2csXG4gICAgICAgIGNvbXBvc2l0aW9uID0gY29uZmlnLmNvbXBvc2l0aW9uLFxuICAgICAgICBtb2RlbCA9IGNvbXBvc2l0aW9uLnJlYWN0aXZlTW9kZWwsXG4gICAgICAgIGN1cnJlbnRBZ2dNZXRob2QsXG4gICAgICAgIHN1aXRhYmxlSW50ZXJ2YWwsXG4gICAgICAgIGJpblNpemU7XG5cbiAgICAgIGJpblNpemUgPSBtb2RlbC5wcm9wKCdiaW4tc2l6ZScpIC0gMTtcblxuICAgICAgaWYgKGlzRmluaXRlKGJpblNpemUpKSB7XG4gICAgICAgIGNvbmZpZy5jYW5BZ2dyZWdhdGUgPSB0cnVlO1xuICAgICAgICBzdWl0YWJsZUludGVydmFsID0gZGF0YUFnZy50aW1lUnVsZXMuZ2V0U3VpdGFibGVJbnRlcnZhbChiaW5TaXplKTtcbiAgICAgICAgY3VycmVudEFnZ01ldGhvZCA9IG1vZGVsLnByb3AoJ2FnZ3JlZ2F0aW9uLWZuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuY2FuQWdncmVnYXRlID0gZmFsc2U7XG4gICAgICAgIHN1aXRhYmxlSW50ZXJ2YWwgPSB7XG4gICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgc3RlcDogJydcbiAgICAgICAgfTtcbiAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZCA9IFtzdWl0YWJsZUludGVydmFsLm5hbWVdO1xuICAgICAgICBjb25maWcudmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IFtbc3VpdGFibGVJbnRlcnZhbC5zdGVwXV07XG4gICAgICAgIGNvbmZpZy5hdmxBZ2dNZXRob2RzID0ge1xuICAgICAgICAgICdpbnZhbGlkJzoge1xuICAgICAgICAgICAgZm9ybWFsTmFtZTogJycsXG4gICAgICAgICAgICBuaWNrTmFtZTogJydcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGN1cnJlbnRBZ2dNZXRob2QgPSBjb25maWcuYXZsQWdnTWV0aG9kc1snaW52YWxpZCddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aW1lUGVyaW9kOiBzdWl0YWJsZUludGVydmFsLm5hbWUsXG4gICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyOiBzdWl0YWJsZUludGVydmFsLnN0ZXAsXG4gICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kOiB7XG4gICAgICAgICAgdmFsdWU6IGN1cnJlbnRBZ2dNZXRob2Qubmlja05hbWUsXG4gICAgICAgICAgdGV4dDogY3VycmVudEFnZ01ldGhvZC5mb3JtYWxOYW1lXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IEFnZ3JlZ2F0aW9uIG9uIHRpbWUgc2VyaWVzXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSBvYmpcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdGltZVBlcmlvZCAtIFRoZSB0aW1lIGludGVydmFsIG9mIGFnZ3JlZ2F0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lUGVyaW9kTXVsdGlwbGllciAtIFRoZSBtdWx0aXBsaWVyIG9mIHRpbWUgaW50ZXJ2YWwuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGFnZ3JlZ2F0aW9uTWV0aG9kIC0gVGhlIG1ldGhvZCBhcHBsaWVkIHRvIGFnZ3JlZ2F0ZS5cbiAgICAgKi9cbiAgICBzZXRBZ2dyZWdhdGlvbiAob2JqKSB7XG4gICAgICB2YXIgYXZsQWdnTWV0aG9kcyxcbiAgICAgICAgdmFsaWRUaW1lUGVyaW9kLFxuICAgICAgICB0aW1lUGVyaW9kSW5kZXgsXG4gICAgICAgIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIsXG4gICAgICAgIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuXG4gICAgICBhdmxBZ2dNZXRob2RzID0gY29uZmlnLmF2bEFnZ01ldGhvZHM7XG4gICAgICB2YWxpZFRpbWVQZXJpb2QgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kO1xuICAgICAgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyO1xuXG4gICAgICAvLyBpZiAoYXZsQWdnTWV0aG9kcy5pbmNsdWRlcyhvYmouYWdncmVnYXRpb25NZXRob2QpICYmIHZhbGlkVGltZVBlcmlvZC5pbmNsdWRlcyhvYmoudGltZVBlcmlvZCkpIHtcbiAgICAgIC8vICAgdGltZVBlcmlvZEluZGV4ID0gdmFsaWRUaW1lUGVyaW9kLmluZGV4T2Yob2JqLnRpbWVQZXJpb2QpO1xuICAgICAgLy8gICBpZiAodmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllclt0aW1lUGVyaW9kSW5kZXhdLmluY2x1ZGVzKE51bWJlcihvYmoudGltZVBlcmlvZE11bHRpcGxpZXIpKSkge1xuICAgICAgLy8gICAgIHRoaXMuYWdncmVnYXRpb24gPSBvYmo7XG4gICAgICAvLyAgICAgY29uc29sZS5sb2codGhpcy5hZ2dyZWdhdGlvbik7XG4gICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAvLyAgIH0gZWxzZSB7XG4gICAgICAvLyAgICAgY29uc29sZS5sb2codGhpcy5hZ2dyZWdhdGlvbik7XG4gICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmFnZ3JlZ2F0aW9uKTtcbiAgICAgIC8vICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IEFwcGxpZWQgQWdncmVnYXRpb25cbiAgICAgKi9cbiAgICByZXNldEFnZ3JlZ2F0aW9uICgpIHtcblxuICAgIH1cblxuICAgIGluaXQgKHJlcXVpcmUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRvb2xib3hDb21wb25lbnQgPSBjb25maWcudG9vbGJveENvbXBvbmVudCA9IHt9LFxuICAgICAgICBhcGksXG4gICAgICAgIHN0b3JlLFxuICAgICAgICBjb21wb3NpdGlvbixcbiAgICAgICAgc2F2ZVRvID0gJ3RzT2JqZWN0JyxcbiAgICAgICAgcmVxdWlyZWRQYXJhbXMgPSBbXG4gICAgICAgICAgJ2dyYXBoaWNzJyxcbiAgICAgICAgICAnZ2xvYmFsUmVhY3RpdmVNb2RlbCcsXG4gICAgICAgICAgJ2NoYXJ0JyxcbiAgICAgICAgICAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLFxuICAgICAgICAgICdjaGFydEluc3RhbmNlJyxcbiAgICAgICAgICAnc21hcnRMYWJlbCcsXG4gICAgICAgICAgZnVuY3Rpb24gYWNxdWlyZSAoKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDAsXG4gICAgICAgICAgICAgIGlpID0gcmVxdWlyZWRQYXJhbXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgcGFyYW0gPSAnJztcbiAgICAgICAgICAgIHNlbGZbc2F2ZVRvXSA9IHNlbGZbc2F2ZVRvXSB8fCB7fTtcbiAgICAgICAgICAgIHNlbGYucmVxdWlyZWRQYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgIHBhcmFtID0gcmVxdWlyZWRQYXJhbXNbaV07XG4gICAgICAgICAgICAgIHNlbGZbc2F2ZVRvXVtwYXJhbV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbkluaXQoc2VsZltzYXZlVG9dKTtcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICByZXF1aXJlKHJlcXVpcmVkUGFyYW1zKTtcblxuICAgICAgYXBpID0gc2VsZi50c09iamVjdC5jaGFydEluc3RhbmNlLmFwaUluc3RhbmNlO1xuICAgICAgc3RvcmUgPSBhcGkuZ2V0Q29tcG9uZW50U3RvcmUoKTtcbiAgICAgIGNvbmZpZy5jb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uID0gc3RvcmUuZ2V0Q2FudmFzQnlJbmRleCgwKS5jb21wb3NpdGlvbjtcbiAgICAgIGNvbmZpZy5kYXRhQWdnID0gY29tcG9zaXRpb24uaW1wbC5nZXREYXRhQWdncmVnYXRvcigpO1xuXG4gICAgICB0b29sYm94Q29tcG9uZW50LnRvb2xib3ggPSBkZXAuRkMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuICAgICAgdG9vbGJveENvbXBvbmVudC5jb25maWcgPSB7fTtcblxuICAgICAgc2VsZi50b29sYmFycyA9IFtdO1xuXG4gICAgICBzZWxmLm1lYXN1cmVtZW50ID0ge307XG5cbiAgICAgIHNlbGYudG9vbGJhcnMucHVzaChzZWxmLmNyZWF0ZVRvb2xiYXIoKSk7XG5cbiAgICAgIHdpbmRvdy5BZ2dyZWdhdG9yID0gc2VsZjtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGNyZWF0ZVRvb2xiYXIgKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBncm91cCxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnUsXG4gICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LFxuICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LFxuICAgICAgICByZXNldEJ1dHRvbixcbiAgICAgICAgYXBwbHlCdXR0b24sXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuY29uZmlnLFxuICAgICAgICB0c09iamVjdCA9IHNlbGYudHNPYmplY3QsXG4gICAgICAgIGxhYmVsLFxuXG4gICAgICAgIHRvb2xib3hDb21wb25lbnQgPSBjb25maWcudG9vbGJveENvbXBvbmVudCxcbiAgICAgICAgdG9vbGJveCA9IHRvb2xib3hDb21wb25lbnQudG9vbGJveCxcbiAgICAgICAgdG9vbGJveENvbXBDb25maWcgPSB0b29sYm94Q29tcG9uZW50LmNvbmZpZyxcbiAgICAgICAgSG9yaXpvbnRhbFRvb2xiYXIgPSB0b29sYm94Lkhvcml6b250YWxUb29sYmFyLFxuICAgICAgICBDb21wb25lbnRHcm91cCA9IHRvb2xib3guQ29tcG9uZW50R3JvdXAsXG4gICAgICAgIFN5bWJvbFN0b3JlID0gdG9vbGJveC5TeW1ib2xTdG9yZSxcblxuICAgICAgICBncmFwaGljcyA9IHRzT2JqZWN0LmdyYXBoaWNzLFxuICAgICAgICBwYXBlciA9IGdyYXBoaWNzLnBhcGVyLFxuICAgICAgICBjb250YWluZXIgPSBncmFwaGljcy5jb250YWluZXIsXG4gICAgICAgIGNoYXJ0ID0gdHNPYmplY3QuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWwgPSB0c09iamVjdC5zbWFydExhYmVsLFxuXG4gICAgICAgIG11bHRpcGxpZXJWYWwsXG4gICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0ID0gJycsXG5cbiAgICAgICAgZGVwZW5kZW5jaWVzID0ge1xuICAgICAgICAgIHBhcGVyOiBwYXBlcixcbiAgICAgICAgICBjaGFydDogY2hhcnQsXG4gICAgICAgICAgc21hcnRMYWJlbDogc21hcnRMYWJlbCxcbiAgICAgICAgICBjaGFydENvbnRhaW5lcjogY29udGFpbmVyXG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5ID0gKHNldCkgPT4ge1xuICAgICAgICAgIHZhciBtb2RlbCA9IGNvbmZpZy5jb21wb3NpdGlvbi5yZWFjdGl2ZU1vZGVsLFxuICAgICAgICAgICAgdGltZVBlcmlvZFZhbCA9IHRpbWVQZXJpb2RTZWxlY3RNZW51LnZhbHVlKCksXG4gICAgICAgICAgICB0aW1lUGVyaW9kTXVsdGlwbGllclZhbCA9IHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKCksXG4gICAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51VmFsID0gYWdnTWV0aG9kU2VsZWN0TWVudS52YWx1ZSgpLFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIHRpbWVJbnRlcnZhbCxcbiAgICAgICAgICAgIGNhbnZhcyA9IGNvbmZpZy5jb21wb3NpdGlvbi5pbXBsO1xuXG4gICAgICAgICAgZm9yIChrZXlzIG9mIGNvbmZpZy5hdmxUaW1lUGVyaW9kcykge1xuICAgICAgICAgICAgaWYgKGtleXMubmFtZSA9PT0gdGltZVBlcmlvZFZhbCkge1xuICAgICAgICAgICAgICB0aW1lSW50ZXJ2YWwgPSBrZXlzLmludGVydmFsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2V0ICYmIGlzRmluaXRlKG1vZGVsLnByb3AoJ2Jpbi1zaXplJykpKSB7XG4gICAgICAgICAgICBtb2RlbFxuICAgICAgICAgICAgICAubG9jaygpXG4gICAgICAgICAgICAgIC5wcm9wKCdiaW4tc2l6ZS1leHQnLCAodGltZUludGVydmFsICogTnVtYmVyKHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsKSkpXG4gICAgICAgICAgICAgIC5wcm9wKCdhZ2dyZWdhdGlvbi1mbi1leHQnLCBjb25maWcuYXZsQWdnTWV0aG9kc1thZ2dNZXRob2RTZWxlY3RNZW51VmFsXSlcbiAgICAgICAgICAgICAgLnVubG9jaygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYW52YXMucmVzZXRBZ2dyZWdhdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBhcHBseUJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgLy8gYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGltZVBlcmlvZE9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIHZhciB0aW1lUGVyaW9kVmFsID0gdGltZVBlcmlvZFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsID0gdGltZU11bFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHByZXZUaW1lUGVyb2lkTXVsVmFsID0gdGltZVBlcmlvZE11bHRpcGxpZXJWYWwsXG4gICAgICAgICAgICB2YWxpZFRpbWVQZXJpb2QgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kLFxuICAgICAgICAgICAgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyLFxuICAgICAgICAgICAgaW5kZXhPZlRpbWVVbml0LFxuICAgICAgICAgICAgaW5kZXhPZlRpbWVNdWw7XG5cbiAgICAgICAgICBpbmRleE9mVGltZVVuaXQgPSB2YWxpZFRpbWVQZXJpb2QuaW5kZXhPZih0aW1lUGVyaW9kVmFsKTtcbiAgICAgICAgICBpbmRleE9mVGltZU11bCA9IHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XS5pbmRleE9mKE51bWJlcih0aW1lUGVyaW9kTXVsdGlwbGllclZhbCkpO1xuXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXhPZlRpbWVVbml0LCBpbmRleE9mVGltZU11bCk7XG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQgPSAnJztcbiAgICAgICAgICBmb3IgKG11bHRpcGxpZXJWYWwgb2YgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcltpbmRleE9mVGltZVVuaXRdKSB7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudU9wdCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBtdWx0aXBsaWVyVmFsICsgJ1wiPicgKyBtdWx0aXBsaWVyVmFsICsgJzwvb3B0aW9uPic7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudXBkYXRlTGlzdCh0aW1lTXVsU2VsZWN0TWVudU9wdCk7XG5cbiAgICAgICAgICBpZiAoaW5kZXhPZlRpbWVNdWwgPCAwKSB7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS52YWx1ZSh2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyW2luZGV4T2ZUaW1lVW5pdF1bMF0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKHByZXZUaW1lUGVyb2lkTXVsVmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGdyb3VwID0gbmV3IENvbXBvbmVudEdyb3VwKGRlcGVuZGVuY2llcyk7XG4gICAgICB0b29sYmFyID0gbmV3IEhvcml6b250YWxUb29sYmFyKGRlcGVuZGVuY2llcyk7XG5cbiAgICAgIGdyb3VwLnNldENvbmZpZyh7XG4gICAgICAgIGZpbGw6ICcjZmZmJyxcbiAgICAgICAgYm9yZGVyVGhpY2tuZXNzOiAwXG4gICAgICB9KTtcblxuICAgICAgdG9vbGJhci5zZXRDb25maWcoe1xuICAgICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICAgIGJvcmRlclRoaWNrbmVzczogMFxuICAgICAgfSk7XG5cbiAgICAgIGxhYmVsID0gbmV3IHRvb2xib3guTGFiZWwoJ0FnZ3JlZ2F0ZSBEYXRhOicsIGRlcGVuZGVuY2llcywge1xuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICdmb250LXNpemUnOiAnMTQnLFxuICAgICAgICAgICAgJ2ZpbGwnOiAnIzY5Njk2OSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0b29sYm94Q29tcENvbmZpZy50aW1lUGVyaW9kU2VsZWN0TWVudSA9IHRpbWVQZXJpb2RTZWxlY3RNZW51ID0gbmV3IHRvb2xib3guU2VsZWN0U3ltYm9sKHtcbiAgICAgICAgd2lkdGg6IDkwLFxuICAgICAgICBoZWlnaHQ6IDIyXG4gICAgICB9LCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgaW5uZXJIVE1MOiAnPG9wdGlvbiB2YWx1ZT1cInRpbWVcIj5UaW1lIFBlcmlvZDwvb3B0aW9uPidcbiAgICAgIH0sIHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHN0cm9rZTogJ3JnYmEoMTAyLDEwMiwxMDIsMC41KScsXG4gICAgICAgIHN5bWJvbFN0cm9rZVdpZHRoOiAwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfSxcbiAgICAgICAgaG92ZXJGaWxsOiAnIzFlMWYxZidcbiAgICAgIH0pO1xuXG4gICAgICB0b29sYm94Q29tcENvbmZpZy50aW1lTXVsU2VsZWN0TWVudSA9IHRpbWVNdWxTZWxlY3RNZW51ID0gbmV3IHRvb2xib3guU2VsZWN0U3ltYm9sKHtcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBoZWlnaHQ6IDIyXG4gICAgICB9LCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgaW5uZXJIVE1MOiAnPG9wdGlvbiB2YWx1ZT1cIm51bWJlclwiPk11bHRpcGxpZXI8L29wdGlvbj4nXG4gICAgICB9LCB7XG4gICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICBzdHJva2U6ICdyZ2JhKDEwMiwxMDIsMTAyLDAuNSknLFxuICAgICAgICBzeW1ib2xTdHJva2VXaWR0aDogMCxcbiAgICAgICAgYnRuVGV4dFN0eWxlOiB7XG4gICAgICAgICAgZm9udFNpemU6IDExXG4gICAgICAgIH0sXG4gICAgICAgIGhvdmVyRmlsbDogJyMxZTFmMWYnXG4gICAgICB9KTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcuYWdnTWV0aG9kU2VsZWN0TWVudSA9IGFnZ01ldGhvZFNlbGVjdE1lbnUgPSBuZXcgdG9vbGJveC5TZWxlY3RTeW1ib2woe1xuICAgICAgICB3aWR0aDogOTAsXG4gICAgICAgIGhlaWdodDogMjJcbiAgICAgIH0sIGRlcGVuZGVuY2llcywge1xuICAgICAgICBpbm5lckhUTUw6ICc8b3B0aW9uIHZhbHVlPVwiRm9ybXVsYVwiPk1ldGhvZDwvb3B0aW9uPidcbiAgICAgIH0sIHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHN0cm9rZTogJ3JnYmEoMTAyLDEwMiwxMDIsMC41KScsXG4gICAgICAgIHN5bWJvbFN0cm9rZVdpZHRoOiAwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfSxcbiAgICAgICAgaG92ZXJGaWxsOiAnIzFlMWYxZidcbiAgICAgIH0pO1xuXG4gICAgICB0b29sYm94Q29tcENvbmZpZy5hcHBseUJ1dHRvbiA9IGFwcGx5QnV0dG9uID0gbmV3IHRvb2xib3guU3ltYm9sKCdBUFBMWScsIHRydWUsIGRlcGVuZGVuY2llcywge1xuICAgICAgICBmaWxsOiAnIzU1NScsXG4gICAgICAgIGxhYmVsRmlsbDogJyNmZmYnLFxuICAgICAgICBob3ZlckZpbGw6ICcjNTU1JyxcbiAgICAgICAgd2lkdGg6IDMwLFxuICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTFcbiAgICAgICAgfVxuICAgICAgfSkuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYXBwbHkoMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdG9vbGJveENvbXBDb25maWcucmVzZXRCdXR0b24gPSByZXNldEJ1dHRvbiA9IG5ldyB0b29sYm94LlN5bWJvbCgnUkVTRVQnLCB0cnVlLCBkZXBlbmRlbmNpZXMsIHtcbiAgICAgICAgZmlsbDogJyM4OThiOGInLFxuICAgICAgICBsYWJlbEZpbGw6ICcjZmZmJyxcbiAgICAgICAgaG92ZXJGaWxsOiAnIzg5OGI4YicsXG4gICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgYnRuVGV4dFN0eWxlOiB7XG4gICAgICAgICAgZm9udFNpemU6IDExXG4gICAgICAgIH1cbiAgICAgIH0pLmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFwcGx5KDApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAuYWRkU3ltYm9sKGxhYmVsKTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbCh0aW1lTXVsU2VsZWN0TWVudSk7XG4gICAgICBncm91cC5hZGRTeW1ib2wodGltZVBlcmlvZFNlbGVjdE1lbnUpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKGFnZ01ldGhvZFNlbGVjdE1lbnUpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKGFwcGx5QnV0dG9uKTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbChyZXNldEJ1dHRvbik7XG5cbiAgICAgIFN5bWJvbFN0b3JlLnJlZ2lzdGVyKCd0ZXh0Qm94SWNvbicsIGZ1bmN0aW9uICh4LCB5LCByYWQsIHcsIGgsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgdmFyIHgxID0geCAtIHcgLyAyICsgcGFkWCAvIDIsXG4gICAgICAgICAgeDIgPSB4ICsgdyAvIDIgLSBwYWRYIC8gMixcbiAgICAgICAgICB5MSA9IHkgLSBoIC8gMiArIHBhZFkgLyAyLFxuICAgICAgICAgIHkyID0geSArIGggLyAyIC0gcGFkWSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIFsnTScsIHgxLCB5MSwgJ0wnLCB4MiwgeTEsICdMJywgeDIsIHkyLCAnTCcsIHgxLCB5MiwgJ1onXTtcbiAgICAgIH0pO1xuXG4gICAgICB0aW1lTXVsU2VsZWN0TWVudS5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICBmbjogdGltZU11bFNlbGVjdE1lbnUuZWRpdFxuICAgICAgICB9LFxuICAgICAgICB0ZXh0T25CbHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUuYmx1cigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICBjbGljazoge1xuICAgICAgICAgIGZuOiB0aW1lUGVyaW9kU2VsZWN0TWVudS5lZGl0XG4gICAgICAgIH0sXG4gICAgICAgIHRleHRPbkJsdXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS5ibHVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRleHRPbkNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LmJsdXIoKTtcbiAgICAgICAgICB0aW1lUGVyaW9kT25DaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICBjbGljazoge1xuICAgICAgICAgIGZuOiBhZ2dNZXRob2RTZWxlY3RNZW51LmVkaXRcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dE9uQmx1cjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUuYmx1cigpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdG9vbGJhci5hZGRDb21wb25lbnQoZ3JvdXApO1xuXG4gICAgICByZXR1cm4gdG9vbGJhcjtcbiAgICB9XG5cbiAgICBnZXRMb2dpY2FsU3BhY2UgKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgIHZhciBsb2dpY2FsU3BhY2UsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgaSxcbiAgICAgICAgbG47XG5cbiAgICAgIGZvciAoaSA9IDAsIGxuID0gdGhpcy50b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGxvZ2ljYWxTcGFjZSA9IHRoaXMudG9vbGJhcnNbaV0uZ2V0TG9naWNhbFNwYWNlKCk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgobG9naWNhbFNwYWNlLndpZHRoLCB3aWR0aCk7XG4gICAgICAgIGhlaWdodCArPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLndpZHRoID0gbG9naWNhbFNwYWNlLndpZHRoO1xuICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLmhlaWdodCA9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBoZWlnaHQgKz0gdGhpcy5wYWRkaW5nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHdpZHRoID4gYXZhaWxhYmxlV2lkdGggPyAwIDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ID4gYXZhaWxhYmxlSGVpZ2h0ID8gMCA6IGhlaWdodFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBwbGFjZUluQ2FudmFzIChjb250YWluZXJJbnN0YW5jZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0c09iamVjdCA9IHNlbGYudHNPYmplY3Q7XG5cbiAgICAgIHNlbGYucGFkZGluZyA9IDU7XG4gICAgICB0c09iamVjdC5zcGFjZU1hbmFnZXJJbnN0YW5jZS5hZGQoW3tcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAnRGF0YUFnZ3JlZ2F0b3InO1xuICAgICAgICB9LFxuICAgICAgICByZWY6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICByZXR1cm4gb2JqWycwJ107XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgfSxcbiAgICAgICAgbGF5b3V0OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9iai5pbmxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIG9yaWVudGF0aW9uOiBbe1xuICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmouaG9yaXpvbnRhbDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvc2l0aW9uOiBbe1xuICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICByZXR1cm4gb2JqLnRvcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IFt7XG4gICAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmxlZnQ7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnM6IFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRMb2dpY2FsU3BhY2UocGFyZW50LmdldFdpZHRoKCksIHBhcmVudC5nZXRIZWlnaHQoKSk7XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH1dXG4gICAgICAgIH1dXG4gICAgICB9XSk7XG4gICAgfVxuXG4gICAgc2V0RHJhd2luZ0NvbmZpZ3VyYXRpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG4gICAgICB2YXIgbWVzID0gdGhpcy5tZWFzdXJlbWVudDtcbiAgICAgIG1lcy54ID0geDtcbiAgICAgIG1lcy55ID0geTtcbiAgICAgIG1lcy53aWR0aCA9IHdpZHRoO1xuICAgICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgdGhpcy5wYXJlbnRHcm91cCA9IGdyb3VwO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBkcmF3ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgdG9vbGJveENvbXBDb25maWcgPSBjb25maWcudG9vbGJveENvbXBvbmVudC5jb25maWcsXG4gICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51ID0gdG9vbGJveENvbXBDb25maWcudGltZVBlcmlvZFNlbGVjdE1lbnUsXG4gICAgICAgIHRpbWVNdWxTZWxlY3RNZW51ID0gdG9vbGJveENvbXBDb25maWcudGltZU11bFNlbGVjdE1lbnUsXG4gICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUgPSB0b29sYm94Q29tcENvbmZpZy5hZ2dNZXRob2RTZWxlY3RNZW51LFxuICAgICAgICBhcHBseUJ1dHRvbiA9IHRvb2xib3hDb21wQ29uZmlnLmFwcGx5QnV0dG9uLFxuICAgICAgICByZXNldEJ1dHRvbiA9IHRvb2xib3hDb21wQ29uZmlnLnJlc2V0QnV0dG9uLFxuICAgICAgICBjdXJyZW50QWdncmVnYXRpb25PYmosXG4gICAgICAgIG1lYXN1cmVtZW50ID0gc2VsZi5tZWFzdXJlbWVudCxcbiAgICAgICAgdG9vbGJhcnMgPSBzZWxmLnRvb2xiYXJzLFxuICAgICAgICBsbixcbiAgICAgICAgaSxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgbW9kZWwgPSBjb25maWcuY29tcG9zaXRpb24ucmVhY3RpdmVNb2RlbCxcblxuICAgICAgICB0aW1lUGVyaW9kVmFsLFxuICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudU9wdCxcbiAgICAgICAgdmFsaWRUaW1lUGVyaW9kLFxuICAgICAgICBpbmRleE9mVGltZVVuaXQsXG5cbiAgICAgICAgbXVsdGlwbGllclZhbCxcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQsXG4gICAgICAgIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIsXG5cbiAgICAgICAgYWdnVmFsLFxuICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51T3B0LFxuICAgICAgICBhdmxBZ2dNZXRob2RzLFxuICAgICAgICByYW5nZU9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGYuZ2V0VmFsaWRBZ2dyZWdhdGlvbigpO1xuICAgICAgICAgIGN1cnJlbnRBZ2dyZWdhdGlvbk9iaiA9IHNlbGYuZ2V0Q3VycmVudEFnZ3JlYXRpb24oKTtcblxuICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51T3B0ID0gJyc7XG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQgPSAnJztcbiAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51T3B0ID0gJyc7XG5cbiAgICAgICAgICB2YWxpZFRpbWVQZXJpb2QgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kO1xuICAgICAgICAgIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcjtcbiAgICAgICAgICBhdmxBZ2dNZXRob2RzID0gY29uZmlnLmF2bEFnZ01ldGhvZHM7XG5cbiAgICAgICAgICBpZiAoIWNvbmZpZy5jYW5BZ2dyZWdhdGUpIHtcbiAgICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yICh0aW1lUGVyaW9kVmFsIG9mIHZhbGlkVGltZVBlcmlvZCkge1xuICAgICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnVPcHQgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgdGltZVBlcmlvZFZhbCArICdcIj4nICtcbiAgICAgICAgICAgIHRpbWVQZXJpb2RWYWwgKyAnPC9vcHRpb24+JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS51cGRhdGVMaXN0KHRpbWVQZXJpb2RTZWxlY3RNZW51T3B0KTtcbiAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudS52YWx1ZShjdXJyZW50QWdncmVnYXRpb25PYmoudGltZVBlcmlvZCk7XG5cbiAgICAgICAgICBpbmRleE9mVGltZVVuaXQgPSB2YWxpZFRpbWVQZXJpb2QuaW5kZXhPZihjdXJyZW50QWdncmVnYXRpb25PYmoudGltZVBlcmlvZCk7XG5cbiAgICAgICAgICBpZiAoaW5kZXhPZlRpbWVVbml0ID49IDApIHtcbiAgICAgICAgICAgIGZvciAobXVsdGlwbGllclZhbCBvZiB2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyW2luZGV4T2ZUaW1lVW5pdF0pIHtcbiAgICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgbXVsdGlwbGllclZhbCArICdcIj4nICtcbiAgICAgICAgICAgICAgbXVsdGlwbGllclZhbCArICc8L29wdGlvbj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnVwZGF0ZUxpc3QodGltZU11bFNlbGVjdE1lbnVPcHQpO1xuICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKGN1cnJlbnRBZ2dyZWdhdGlvbk9iai50aW1lUGVyaW9kTXVsdGlwbGllci50b1N0cmluZygpKTtcblxuICAgICAgICAgIGZvciAoYWdnVmFsIGluIGF2bEFnZ01ldGhvZHMpIHtcbiAgICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnVPcHQgKz0gJzxvcHRpb24gdmFsdWU9XCInICtcbiAgICAgICAgICAgICAgYXZsQWdnTWV0aG9kc1thZ2dWYWxdLm5pY2tOYW1lICsgJ1wiPicgKyBhdmxBZ2dNZXRob2RzW2FnZ1ZhbF0uZm9ybWFsTmFtZSArICc8L29wdGlvbj4nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUudXBkYXRlTGlzdChhZ2dNZXRob2RTZWxlY3RNZW51T3B0KTtcbiAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LnZhbHVlKGN1cnJlbnRBZ2dyZWdhdGlvbk9iai5hZ2dyZWdhdGlvbk1ldGhvZC52YWx1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgIHNlbGYuZ2V0QXZhaWxhYmxlbEFnZ3JlYWdhdGlvbigpO1xuXG4gICAgICB4ID0geCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueCA6IHg7XG4gICAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG4gICAgICB3aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC53aWR0aCA6IHdpZHRoO1xuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC5oZWlnaHQgOiBoZWlnaHQ7XG4gICAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyBzZWxmLnBhcmVudEdyb3VwIDogZ3JvdXA7XG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGxuID0gdG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcbiAgICAgICAgICB0b29sYmFyLmRyYXcoeCwgeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJhbmdlT25DaGFuZ2UoKTtcblxuICAgICAgbW9kZWwub25Qcm9wc0NoYW5nZShbJ2Jpbi1zaXplJywgJ2FnZ3JlZ2F0aW9uLWZuJ10sIHJhbmdlT25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGRpc3Bvc2UgKCkge1xuICAgICAgLy8gZGlzcG9zZSBleHRlbnNpb25cbiAgICB9XG4gIH1cbiAgcmV0dXJuIEFnZ3JlZ2F0b3I7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanMiXSwic291cmNlUm9vdCI6IiJ9