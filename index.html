<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>FCTS Data Aggregator Extension</title>
  <style type="text/css">
    .text-style {
      fill: red;
      font-size: '20px';
    }
  </style>
</head>
<body>
  <script src="lib/fusioncharts.js" charset="utf-8"></script>
  <script src="lib/fusioncharts.timeseries.js" charset="utf-8"></script>
  <script src="dist/data-aggregator.min.js" charset="utf-8"></script>
  <div id="mainCont"></div>
  <div id="chart-container"></div>
  <script type="text/javascript">
        var tsChart;
        function getRandomDates (len) {
        var day = 1, months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct', 'Nov','Dec'],
               year = 2015,month = 0,arr = [];

           for (i = 0; i < len; i++) {
               if (month === 11 && day === 31) {
                   year++;
                   month = 0;
               }
               if (day > 30 || (month === 1 && day === 28)) {
                   day = 1;
                   month++;
               }
               if (month > 11) {
                   month = 0;
               }



               dateStr = day + '-' + months[month] + '-' + year;
               arr.push(dateStr);
               day++;
           }
           return arr;
       }

       function getRandomSeries (len) {
           var arr = [];

           for (i = 0; i < len; i++) {
               arr.push(Math.floor(Math.random() * 10));
           }
           return arr;
       }

       function getRandomCandleSeries (len) {
           var arr = [],
               open,
               high,
               low,
               close;

           for (i = 0; i < len; i++) {
               open = Math.floor(Math.random() * 10);
               close = Math.floor(Math.random() * 10);
               high = Math.floor(Math.random() * 10);
               low = Math.floor(Math.random() * 10);

               arr.push([open, high, low, close]);
           }

           return arr;
       }
       var data1;
        FusionCharts.ready(function () {
            tsChart = new FusionCharts({
                type: 'timeseries',
                plottype: 'line',
                renderAt: 'chart-container',
                width: '1000',
                height: '450',
                dataFormat: 'json',
                dataSource: {
                    chart: {
                        axes: [
                            {
                                x: { },
                                y: { }
                            }
                        ],
                        datasets: [{
                            category: {
                                dateformat: "%e-%b-%Y",
                                data: getRandomDates(10000)
                            },
                            dataset: [
                                {
                                    uid: 'ds-1',
                                    series: [
                                        {
                                            plot: {
                                                type: "line"
                                            },
                                            name: "Series 1",
                                            data: getRandomSeries(10000)
                                        },
                                        {
                                            plot: {
                                                type: "line"
                                            },
                                            name: "Series 1",
                                            data: getRandomSeries(10000)
                                        }

                                    ]
                                }
                            ]
                        }],
                        canvas: [{
                            axes: function (store) {
                                return store.getAxesByIndex(0);
                            },
                            dataset: function (store) {
                                return store.getDatasetsByIndex(0);
                            }
                        }],
                        caption:[{
                          title: {
                            text: 'Basic Elements'
                          },
                          subtitle: {
                            text: 'Sub-caption'
                          }
                        }]

                    },
                    extensions: {
                      'data-aggregator': {
                        disabled: false,
                        position: 'top',
                        alignment: 'left',
                        layout: 'inline',
                        aggregate: {
                          timeUnit: 'month',
                          timeMultiplier: '3',
                          method: 'mean'
                        },
                        orientation: 'horizontal',
                        styles: {
                          label: {
                            'font-size': 13,
                            'font-family': '"Lucida Grande", sans-serif',
                            'font-weight': 'normal',
                            'fill': '#4b4b4b',
                            'height': 22
                          },
                          timeMultiplierInputField: {
                            active: {
                              'fill': '#fff',
                              'labelFill': '#696969',
                              'stroke': '#c8cecd',
                              'strokeWidth': 1,
                              'radius': 1,
                              'shadow': {
                                'fill': '#000',
                                'opacity': 0.35
                              },
                              'width': 50,
                              'height': 22
                            },
                            inactive: {
                              'fill': '#fff',
                              'stroke-width': 1,
                              'stroke': '#ced5d4',
                              'labelFill': '#000'
                            }
                          },
                          timePeriodInputField: {
                            active: {
                              'fill': '#fff',
                              'labelFill': '#696969',
                              'stroke': '#c8cecd',
                              'strokeWidth': 1,
                              'radius': 1,
                              'shadow': {
                                'fill': '#000',
                                'opacity': 0.35
                              },
                              'width': 90,
                              'height': 22
                            },
                            inactive: {
                              'fill': '#fff',
                              'stroke-width': 1,
                              'stroke': '#ced5d4',
                              'labelFill': '#000'
                            }
                          },
                          aggregationMethodInputField: {
                            active: {
                              'fill': '#fff',
                              'labelFill': '#696969',
                              'stroke': '#c8cecd',
                              'strokeWidth': 1,
                              'radius': 1,
                              'shadow': {
                                'fill': '#000',
                                'opacity': 0.35
                              },
                              'width': 100,
                              'height': 22
                            },
                            inactive: {
                              'fill': '#fff',
                              'stroke-width': 1,
                              'stroke': '#ced5d4',
                              'labelFill': '#000'
                            }
                          },
                          dropDown: {
                            active: {
                              'fill': '#898b8b',
                              'labelFill': '#fff'
                            },
                            normal: {
                              'fill': '#fff',
                              'stroke': '#898b8b',
                              'radius': 2,
                              'labelFill': '#000',
                              'hoverFill': '#e6e8e8',
                              'hoverLabelFill': '#696969'
                            }
                          },
                          applyButton: {
                            active: {
                              'fill': '#555',
                              'labelFill': '#f3f3f3',
                              'stroke': '#ced5d4',
                              'strokeWidth': 0,
                              'hoverFill': '#555',
                              'hoverStrokeWidth': 0,
                              'hoverStroke': '',
                              'radius': 1,
                              'shadow': {
                                'fill': '#000',
                                'opacity': 0.35
                              },
                              'width': 54,
                              'height': 22
                            },
                            inactive: {
                              'fill': '#bebebe',
                              'stroke-width': 0,
                              'stroke': '#ced5d4',
                              'labelFill': '#f3f3f3'
                            }
                          },
                          resetButton: {
                            active: {
                              'fill': '#898b8b',
                              'labelFill': '#f3f3f3',
                              'stroke': '#ced5d4',
                              'strokeWidth': 0,
                              'hoverFill': '#898b8b',
                              'hoverStrokeWidth': 0,
                              'hoverStroke': '',
                              'radius': 1,
                              'shadow': {
                                'fill': '#000',
                                'opacity': 0.35
                              },
                              'width': 54,
                              'height': 22
                            },
                            inactive: {
                              'fill': '#bebebe',
                              'stroke-width': 0,
                              'stroke': '#ced5d4',
                              'labelFill': '#f3f3f3'
                            }
                          },
                          base: {
                            font: {
                              'fontSize': 11,
                              // 'fontWeight': 'bold',
                              'fontFamily': '"Lucida Grande", sans-serif'
                              // 'fontStyle': 'italic'
                            }
                          }
                        }
                      }
                    }
                }

            })
            .render();
        });
        </script>
         <style type="text/css" rel="stylesheet">
            .abc {
                fill: #000000;
                fill-opacity: 0.2;
            }
        </style>
</body>
</html>
