/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(module) {'use strict';
	
	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
	
	var AggregatorGetter = __webpack_require__(2);
	
	;(function (env, factory) {
	  if (( false ? 'undefined' : _typeof(module)) === 'object' && module.exports) {
	    module.exports = env.document ? factory(env) : function (win) {
	      if (!win.document) {
	        throw new Error('Window with document not present');
	      }
	      return factory(win, true);
	    };
	  } else {
	    env.Aggregator = factory(env, true);
	  }
	})(typeof window !== 'undefined' ? window : undefined, function (_window, windowExists) {
	  var FC = _window.FusionCharts;
	
	  FC.register('extension', ['private', 'data-aggregator', function () {
	    FC.registerComponent('extensions', 'data-aggregator', AggregatorGetter({ FC: FC }));
	  }]);
	});
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = function(module) {
		if(!module.webpackPolyfill) {
			module.deprecate = function() {};
			module.paths = [];
			// module.parent = undefined by default
			module.children = [];
			module.webpackPolyfill = 1;
		}
		return module;
	}


/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	module.exports = function (dep) {
	  /**
	   * Class representing the Data Aggregator.
	   */
	  var Aggregator = function () {
	    /**
	     * Create a Aggregator.
	     * @typedef {object} Aggregator.aggregation
	     * @property {string} timePeriod - The time interval of aggregation.
	     * @property {number} timePeriodMultiplier - The multiplier of time interval.
	     * @property {string} aggregationMethod - The method applied to aggregate.
	     */
	    function Aggregator() {
	      _classCallCheck(this, Aggregator);
	
	      /**
	       * @private
	       */
	      this.appliedAggregation = {
	        binSize: null,
	        aggregationMethod: null
	      };
	      this.config = {};
	    }
	
	    /**
	     * An object representing the timePeriod, timePeriodMultiplier, aggregationMethod.
	     * @type {Aggregator.aggregation}
	     */
	
	
	    _createClass(Aggregator, [{
	      key: 'getAvailablelAggreagation',
	
	
	      /**
	       * Sets available aggregation options in configuration of extension
	       * @private
	       */
	      value: function getAvailablelAggreagation() {
	        var config = this.config,
	            dataAgg = config.dataAgg,
	            avlTimePeriods = config.avlTimePeriods = dataAgg.getAggregationTimeRules(),
	            i,
	            len;
	
	        config.avlTimeMultiplier = [];
	        len = avlTimePeriods.length;
	
	        for (i = 0; i < len; i++) {
	          config.avlTimeMultiplier.push(avlTimePeriods[i].possibleFactors);
	        }
	      }
	
	      /**
	       * Calculates valid aggregation time periods and corresponding multipliers
	       * @private
	       */
	
	    }, {
	      key: 'getValidAggregation',
	      value: function getValidAggregation() {
	        var self = this,
	            config = self.config,
	            tsObject = self.tsObject,
	            dataAgg = config.dataAgg,
	            i,
	            j,
	            len1,
	            len2,
	            avlTimePeriods,
	            avlTimeMultiplier,
	
	        // minNumOfPlot = 5,
	        maxNumOfPlot = config.composition.reactiveModel.model['max-plot-point'],
	            multipliersArr,
	            currentTimeLength,
	            timePeriod,
	            time,
	            expectedTime,
	            multiplier,
	            minBinSize;
	        // maxBinSize;
	
	        config.currentTimeLength = tsObject.globalReactiveModel.model['x-axis-visible-range-end'] - tsObject.globalReactiveModel.model['x-axis-visible-range-start'];
	
	        avlTimePeriods = config.avlTimePeriods;
	        avlTimeMultiplier = config.avlTimeMultiplier;
	        currentTimeLength = config.currentTimeLength;
	
	        config.minBinSize = minBinSize = currentTimeLength / maxNumOfPlot;
	        // config.maxBinSize = maxBinSize = currentTimeLength / minNumOfPlot;
	
	        config.validTimePeriod = [];
	        config.validTimePeriodMultiplier = [];
	        config.avlAggMethods = dataAgg.getAllAggregationMethod();
	
	        for (i = 0, len1 = avlTimePeriods.length; i < len1; i++) {
	          timePeriod = avlTimePeriods[i].name;
	          time = avlTimePeriods[i].interval;
	          multipliersArr = [];
	
	          for (j = 0, len2 = avlTimeMultiplier[i].length; j < len2; j++) {
	            multiplier = avlTimeMultiplier[i][j];
	            expectedTime = multiplier * time;
	
	            // if ((expectedTime >= minBinSize) && (expectedTime <= maxBinSize)) {
	            if (expectedTime >= minBinSize) {
	              multipliersArr.push(avlTimeMultiplier[i][j]);
	            }
	          }
	          if (multipliersArr.length > 0) {
	            config.validTimePeriodMultiplier.push(multipliersArr);
	            config.validTimePeriod.push(timePeriod);
	          }
	        }
	        // console.log('Time Period: ', config.validTimePeriod);
	        // console.log('Number Of Multipliers: ', config.validTimePeriodMultiplier);
	        // console.log('Methods: ', config.avlAggMethods);
	      }
	    }, {
	      key: 'getCurrentAggreation',
	      value: function getCurrentAggreation() {
	        var self = this,
	            config = self.config,
	            dataAgg = config.dataAgg,
	            composition = config.composition,
	            model = composition.reactiveModel,
	            currentAggMethod,
	            suitableInterval,
	            binSize;
	
	        binSize = model.prop('bin-size') - 1;
	
	        if (isFinite(binSize)) {
	          config.canAggregate = true;
	          suitableInterval = dataAgg.timeRules.getSuitableInterval(binSize);
	          currentAggMethod = model.prop('aggregation-fn');
	        } else {
	          config.canAggregate = false;
	          suitableInterval = {
	            name: '',
	            step: ''
	          };
	          config.validTimePeriod = [suitableInterval.name];
	          config.validTimePeriodMultiplier = [[suitableInterval.step]];
	          config.avlAggMethods = {
	            'invalid': {
	              formalName: '',
	              nickName: ''
	            }
	          };
	          currentAggMethod = config.avlAggMethods['invalid'];
	        }
	
	        return {
	          timePeriod: suitableInterval.name,
	          timePeriodMultiplier: suitableInterval.step,
	          aggregationMethod: {
	            value: currentAggMethod.nickName,
	            text: currentAggMethod.formalName
	          }
	        };
	      }
	    }, {
	      key: 'init',
	      value: function init(require) {
	        var self = this,
	            config = self.config,
	            toolboxComponent = config.toolboxComponent = {},
	            api,
	            store,
	            composition,
	            saveTo = 'tsObject',
	            requiredParams = ['graphics', 'globalReactiveModel', 'chart', 'spaceManagerInstance', 'chartInstance', 'smartLabel', function acquire() {
	          var i = 0,
	              ii = requiredParams.length - 1,
	              param = '';
	          self[saveTo] = self[saveTo] || {};
	          self.requiredParams = {};
	          for (i = 0; i < ii; ++i) {
	            param = requiredParams[i];
	            self[saveTo][param] = arguments[i];
	          }
	          // onInit(self[saveTo]);
	        }];
	        require(requiredParams);
	
	        api = self.tsObject.chartInstance.apiInstance;
	        store = api.getComponentStore();
	        config.composition = composition = store.getCanvasByIndex(0).composition;
	        config.dataAgg = composition.impl.getDataAggregator();
	
	        toolboxComponent.toolbox = dep.FC.getComponent('api', 'toolbox');
	        toolboxComponent.config = {};
	
	        self.toolbars = [];
	
	        self.measurement = {};
	
	        self.toolbars.push(self.createToolbar());
	
	        window.Aggregator = self;
	        return self;
	      }
	    }, {
	      key: 'createToolbar',
	      value: function createToolbar() {
	        var self = this,
	            group,
	            toolbar,
	            timeMulSelectMenu,
	            timePeriodSelectMenu,
	            aggMethodSelectMenu,
	            resetButton,
	            applyButton,
	            config = self.config,
	            tsObject = self.tsObject,
	            label,
	            toolboxComponent = config.toolboxComponent,
	            toolbox = toolboxComponent.toolbox,
	            toolboxCompConfig = toolboxComponent.config,
	            HorizontalToolbar = toolbox.HorizontalToolbar,
	            ComponentGroup = toolbox.ComponentGroup,
	            SymbolStore = toolbox.SymbolStore,
	            graphics = tsObject.graphics,
	            paper = graphics.paper,
	            container = graphics.container,
	            chart = tsObject.chart,
	            smartLabel = tsObject.smartLabel,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            timePeriodMenuDisableConfig,
	            timeMultiplierMenuDisableConfig,
	            aggMethodMenuDisableonfig,
	            dropDownMenuStyle,
	            applyButtonDisableConfig,
	            resetButtonDisableConfig,
	            style,
	            dependencies = {
	          paper: paper,
	          chart: chart,
	          smartLabel: smartLabel,
	          chartContainer: container
	        },
	            apply = function apply(set) {
	          var model = config.composition.reactiveModel,
	              timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              aggMethodSelectMenuVal = aggMethodSelectMenu.value(),
	              keys,
	              binSize,
	              timeInterval,
	              aggregation = self.aggregation,
	              canvas = config.composition.impl;
	
	          var _iteratorNormalCompletion = true;
	          var _didIteratorError = false;
	          var _iteratorError = undefined;
	
	          try {
	            for (var _iterator = config.avlTimePeriods[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
	              keys = _step.value;
	
	              if (keys.name === timePeriodVal) {
	                timeInterval = keys.interval;
	                break;
	              }
	            }
	          } catch (err) {
	            _didIteratorError = true;
	            _iteratorError = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion && _iterator.return) {
	                _iterator.return();
	              }
	            } finally {
	              if (_didIteratorError) {
	                throw _iteratorError;
	              }
	            }
	          }
	
	          binSize = timeInterval * Number(timePeriodMultiplierVal);
	          if (set && isFinite(model.prop('bin-size'))) {
	            model.lock().prop('bin-size-ext', binSize).prop('aggregation-fn-ext', config.avlAggMethods[aggMethodSelectMenuVal]).unlock();
	            aggregation.binSize = binSize;
	            aggregation.aggregationMethod = aggMethodSelectMenuVal;
	            applyButton.updateVisual('disabled');
	            resetButton.updateVisual('enabled');
	          } else {
	            canvas.resetAggregation();
	            aggregation.binSize = null;
	            aggregation.aggregationMethod = null;
	            resetButton.updateVisual('disabled');
	          }
	        },
	            timePeriodOnChange = function timePeriodOnChange() {
	          var timePeriodVal = timePeriodSelectMenu.value(),
	              timePeriodMultiplierVal = timeMulSelectMenu.value(),
	              prevTimePeroidMulVal = timePeriodMultiplierVal,
	              validTimePeriod = config.validTimePeriod,
	              validTimePeriodMultiplier = config.validTimePeriodMultiplier,
	              indexOfTimeUnit,
	              indexOfTimeMul;
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriodVal);
	          indexOfTimeMul = validTimePeriodMultiplier[indexOfTimeUnit].indexOf(Number(timePeriodMultiplierVal));
	
	          timeMulSelectMenuOpt = [];
	          var _iteratorNormalCompletion2 = true;
	          var _didIteratorError2 = false;
	          var _iteratorError2 = undefined;
	
	          try {
	            for (var _iterator2 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
	              multiplierVal = _step2.value;
	
	              timeMulSelectMenuOpt.push({
	                name: multiplierVal.toString(),
	                value: multiplierVal.toString()
	              });
	            }
	          } catch (err) {
	            _didIteratorError2 = true;
	            _iteratorError2 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion2 && _iterator2.return) {
	                _iterator2.return();
	              }
	            } finally {
	              if (_didIteratorError2) {
	                throw _iteratorError2;
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	
	          if (indexOfTimeMul < 0) {
	            timeMulSelectMenu.value(validTimePeriodMultiplier[indexOfTimeUnit][0].toString());
	          } else {
	            timeMulSelectMenu.value(prevTimePeroidMulVal);
	          }
	        },
	            onChange = function onChange(type) {
	          var currentAgg = self.getCurrentAggreation();
	
	          if (currentAgg.timePeriodMultiplier.toString() !== timeMulSelectMenu.value() || currentAgg.timePeriod !== timePeriodSelectMenu.value() || currentAgg.aggregationMethod.value !== aggMethodSelectMenu.value()) {
	            applyButton.updateVisual('enabled');
	          } else {
	            applyButton.updateVisual('disabled');
	          }
	        };
	
	        group = new ComponentGroup(dependencies);
	        toolbar = new HorizontalToolbar(dependencies);
	
	        config.usrConfig = {
	          enabled: true,
	          posWrtCanvas: 'top',
	          alignment: 'left',
	          orientation: 'horizontal',
	          styles: {
	            timeMultiplierInputField: {
	              enabled: {
	                'fill': '#fff',
	                'labelFill': '#696969',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverStroke': '#696969',
	                'hoverStrokeWidth': 1,
	                'radius': 1,
	                'width': 50,
	                'height': 22
	              },
	              disabled: {
	                'fill': '#fff',
	                'stroke-width': 1,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#000'
	              }
	            },
	            timePeriodInputField: {
	              enabled: {
	                'fill': '#fff',
	                'labelFill': '#696969',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverStroke': '#696969',
	                'hoverStrokeWidth': 1,
	                'radius': 1,
	                'width': 90,
	                'height': 22
	              },
	              disabled: {
	                'fill': '#fff',
	                'stroke-width': 1,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#000'
	              }
	            },
	            aggregationMethodInputField: {
	              enabled: {
	                'fill': '#fff',
	                'labelFill': '#696969',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverStroke': '#696969',
	                'hoverStrokeWidth': 1,
	                'radius': 1,
	                'width': 90,
	                'height': 22
	              },
	              disabled: {
	                'fill': '#fff',
	                'stroke-width': 1,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#000'
	              }
	            },
	            dropDown: {
	              enabled: {
	                'fill': '#898b8b',
	                'labelFill': '#fff'
	              },
	              normal: {
	                'fill': '#fff',
	                'labelFill': '#000'
	              },
	              hover: {
	                'fill': '#e6e8e8',
	                'labelFill': '#000'
	              }
	            },
	            applyButton: {
	              enabled: {
	                'fill': '#555',
	                'labelFill': '#f3f3f3',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverFill': '#555',
	                'hoverStrokeWidth': 1,
	                'hoverStroke': '',
	                'radius': 1,
	                'width': 30,
	                'height': 20
	              },
	              disabled: {
	                'fill': '#bebebe',
	                'stroke-width': 3,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#f3f3f3'
	              }
	            },
	            resetButton: {
	              enabled: {
	                'fill': '#898b8b',
	                'labelFill': '#f3f3f3',
	                'stroke': '#c8cecd',
	                'strokeWidth': 1,
	                'hoverFill': '#898b8b',
	                'hoverStrokeWidth': 1,
	                'hoverStroke': '',
	                'radius': 1,
	                'width': 30,
	                'height': 20
	              },
	              disabled: {
	                'fill': '#bebebe',
	                'stroke-width': 3,
	                'stroke': 'rgb(192, 192, 192)',
	                'labelFill': '#f3f3f3'
	              }
	            },
	            base: {
	              font: {
	                'fontSize': 11
	              }
	            }
	          }
	        };
	
	        style = config.usrConfig.styles;
	
	        group.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        toolbar.setConfig({
	          fill: '#fff',
	          borderThickness: 0
	        });
	
	        timePeriodMenuDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.timeMultiplierInputField.disabled
	            }
	          }
	        };
	
	        timeMultiplierMenuDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.timePeriodInputField.disabled
	            }
	          }
	        };
	
	        aggMethodMenuDisableonfig = {
	          disabled: {
	            config: {
	              disabled: style.aggregationMethodInputField.disabled
	            }
	          }
	        };
	
	        applyButtonDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.applyButton.disabled
	            }
	          }
	        };
	
	        resetButtonDisableConfig = {
	          disabled: {
	            config: {
	              disabled: style.resetButton.disabled
	            }
	          }
	        };
	
	        dropDownMenuStyle = {
	          selected: {
	            container: {
	              style: {
	                fill: style.dropDown.enabled.fill
	              }
	            },
	            text: {
	              style: {
	                fill: style.dropDown.enabled.labelFill
	              }
	            }
	          },
	          normal: {
	            container: {
	              style: {
	                fill: style.dropDown.normal.fill
	              }
	            },
	            text: {
	              style: {
	                fill: style.dropDown.normal.labelFill
	              }
	            }
	          },
	          hover: {
	            container: {
	              style: {
	                fill: style.dropDown.hover.fill
	              }
	            },
	            text: {
	              style: {
	                fill: style.dropDown.hover.labelFill
	              }
	            }
	          }
	        };
	
	        label = new toolbox.Label('Aggregate Data:', dependencies, {
	          text: {
	            style: {
	              'font-size': '14',
	              'fill': '#696969'
	            }
	          }
	        });
	
	        toolboxCompConfig.timePeriodSelectMenu = timePeriodSelectMenu = new toolbox.SelectSymbol({}, dependencies, [], Object.assign(style.timePeriodInputField.enabled, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          },
	          dropDownMenu: dropDownMenuStyle
	        }));
	        timePeriodSelectMenu.setStateConfig(timePeriodMenuDisableConfig);
	
	        toolboxCompConfig.timeMulSelectMenu = timeMulSelectMenu = new toolbox.SelectSymbol({}, dependencies, [], Object.assign(style.timeMultiplierInputField.enabled, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          },
	          dropDownMenu: dropDownMenuStyle
	        }));
	        timeMulSelectMenu.setStateConfig(timeMultiplierMenuDisableConfig);
	
	        toolboxCompConfig.aggMethodSelectMenu = aggMethodSelectMenu = new toolbox.SelectSymbol({}, dependencies, [], Object.assign(style.aggregationMethodInputField.enabled, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          },
	          dropDownMenu: dropDownMenuStyle
	        }));
	        aggMethodSelectMenu.setStateConfig(aggMethodMenuDisableonfig);
	
	        toolboxCompConfig.applyButton = applyButton = new toolbox.Symbol('APPLY', true, dependencies, Object.assign(style.applyButton.enabled, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          }
	        })).attachEventHandlers({
	          click: function click() {
	            apply(1);
	          }
	        });
	        applyButton.setStateConfig(applyButtonDisableConfig);
	
	        toolboxCompConfig.resetButton = resetButton = new toolbox.Symbol('RESET', true, dependencies, Object.assign(style.resetButton.enabled, {
	          btnTextStyle: {
	            fontSize: style.base.font.fontSize
	          }
	        })).attachEventHandlers({
	          click: function click() {
	            apply(0);
	          }
	        });
	        resetButton.setStateConfig(resetButtonDisableConfig);
	
	        group.addSymbol(label);
	        group.addSymbol(timeMulSelectMenu);
	        group.addSymbol(timePeriodSelectMenu);
	        group.addSymbol(aggMethodSelectMenu);
	        group.addSymbol(applyButton);
	        group.addSymbol(resetButton);
	
	        SymbolStore.register('textBoxIcon', function (x, y, rad, w, h, padX, padY) {
	          var x1 = x - w / 2 + padX / 2,
	              x2 = x + w / 2 - padX / 2,
	              y1 = y - h / 2 + padY / 2,
	              y2 = y + h / 2 - padY / 2;
	
	          return ['M', x1, y1, 'L', x2, y1, 'L', x2, y2, 'L', x1, y2, 'Z'];
	        });
	
	        timePeriodSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            timePeriodOnChange();
	            onChange();
	          }
	        });
	
	        timeMulSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            onChange();
	          }
	        });
	
	        aggMethodSelectMenu.attachEventHandlers({
	          textOnChange: function textOnChange() {
	            onChange();
	          }
	        });
	
	        toolbar.addComponent(group);
	
	        return toolbar;
	      }
	    }, {
	      key: 'getLogicalSpace',
	      value: function getLogicalSpace(availableWidth, availableHeight) {
	        var logicalSpace,
	            width = 0,
	            height = 0,
	            i,
	            ln;
	
	        for (i = 0, ln = this.toolbars.length; i < ln; i++) {
	          logicalSpace = this.toolbars[i].getLogicalSpace();
	          width = Math.max(logicalSpace.width, width);
	          height += logicalSpace.height;
	          this.toolbars[i].width = logicalSpace.width;
	          this.toolbars[i].height = logicalSpace.height;
	        }
	        height += this.padding;
	        return {
	          width: width > availableWidth ? 0 : width,
	          height: height > availableHeight ? 0 : height
	        };
	      }
	    }, {
	      key: 'placeInCanvas',
	      value: function placeInCanvas(containerInstance) {
	        var _self = this,
	            tsObject = _self.tsObject;
	
	        _self.padding = 5;
	        tsObject.spaceManagerInstance.add([{
	          name: function name() {
	            return 'DataAggregator';
	          },
	          ref: function ref(obj) {
	            return obj['0'];
	          },
	          self: function self() {
	            return _self;
	          },
	          priority: function priority() {
	            return 2;
	          },
	          layout: function layout(obj) {
	            return obj.inline;
	          },
	          orientation: [{
	            type: function type(obj) {
	              return obj.horizontal;
	            },
	            position: [{
	              type: function type(obj) {
	                return obj.top;
	              },
	              alignment: [{
	                type: function type(obj) {
	                  return obj.left;
	                },
	                dimensions: [function () {
	                  var parent = this.getParentComponentGroup();
	                  return _self.getLogicalSpace(parent.getWidth(), parent.getHeight());
	                }]
	              }]
	            }]
	          }]
	        }]);
	      }
	    }, {
	      key: 'setDrawingConfiguration',
	      value: function setDrawingConfiguration(x, y, width, height, group) {
	        var mes = this.measurement;
	        mes.x = x;
	        mes.y = y;
	        mes.width = width;
	        mes.height = height;
	
	        this.parentGroup = group;
	
	        return this;
	      }
	    }, {
	      key: 'draw',
	      value: function draw(x, y, width, height, group) {
	        var self = this,
	            config = self.config,
	            toolboxCompConfig = config.toolboxComponent.config,
	            timePeriodSelectMenu = toolboxCompConfig.timePeriodSelectMenu,
	            timeMulSelectMenu = toolboxCompConfig.timeMulSelectMenu,
	            aggMethodSelectMenu = toolboxCompConfig.aggMethodSelectMenu,
	            applyButton = toolboxCompConfig.applyButton,
	            resetButton = toolboxCompConfig.resetButton,
	            measurement = self.measurement,
	            toolbars = self.toolbars,
	            ln,
	            i,
	            toolbar,
	            model = config.composition.reactiveModel,
	            dataAgg = config.dataAgg,
	            timePeriodVal,
	            timePeriodSelectMenuOpt,
	            validTimePeriod,
	            indexOfTimeUnit,
	            multiplierVal,
	            timeMulSelectMenuOpt,
	            validTimePeriodMultiplier,
	            aggVal,
	            aggMethodSelectMenuOpt,
	            avlAggMethods,
	            rangeOnChange = function rangeOnChange() {
	          var aggregation = self.aggregation,
	              currentAggregationObj,
	              timePeriod,
	              timePeriodMultiplier,
	              aggregationMethod;
	
	          self.getValidAggregation();
	          currentAggregationObj = self.getCurrentAggreation();
	          timePeriod = currentAggregationObj.timePeriod;
	          timePeriodMultiplier = currentAggregationObj.timePeriodMultiplier;
	          aggregationMethod = currentAggregationObj.aggregationMethod;
	
	          timePeriodSelectMenuOpt = [];
	          timeMulSelectMenuOpt = [];
	          aggMethodSelectMenuOpt = [];
	
	          validTimePeriod = config.validTimePeriod;
	          validTimePeriodMultiplier = config.validTimePeriodMultiplier;
	          avlAggMethods = config.avlAggMethods;
	
	          applyButton.updateVisual('disabled');
	
	          if (aggregation.binSize !== model.prop('bin-size') && aggregationMethod.value === config.defaultAggMethod) {
	            aggregation.binSize = null;
	            aggregation.aggregationMethod = null;
	            resetButton.updateVisual('disabled');
	          } else {
	            resetButton.updateVisual('enabled');
	          }
	
	          if (!config.canAggregate) {
	            timePeriodSelectMenu.updateVisual('disabled');
	            timeMulSelectMenu.updateVisual('disabled');
	            aggMethodSelectMenu.updateVisual('disabled');
	            resetButton.updateVisual('disabled');
	          } else {
	            timePeriodSelectMenu.updateVisual('enabled');
	            timeMulSelectMenu.updateVisual('enabled');
	            aggMethodSelectMenu.updateVisual('enabled');
	          }
	
	          var _iteratorNormalCompletion3 = true;
	          var _didIteratorError3 = false;
	          var _iteratorError3 = undefined;
	
	          try {
	            for (var _iterator3 = validTimePeriod[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
	              timePeriodVal = _step3.value;
	
	              timePeriodSelectMenuOpt.push({
	                name: timePeriodVal,
	                value: timePeriodVal
	              });
	            }
	          } catch (err) {
	            _didIteratorError3 = true;
	            _iteratorError3 = err;
	          } finally {
	            try {
	              if (!_iteratorNormalCompletion3 && _iterator3.return) {
	                _iterator3.return();
	              }
	            } finally {
	              if (_didIteratorError3) {
	                throw _iteratorError3;
	              }
	            }
	          }
	
	          timePeriodSelectMenu.updateList(timePeriodSelectMenuOpt);
	          timePeriodSelectMenu.value(timePeriod);
	
	          indexOfTimeUnit = validTimePeriod.indexOf(timePeriod);
	
	          if (indexOfTimeUnit >= 0) {
	            var _iteratorNormalCompletion4 = true;
	            var _didIteratorError4 = false;
	            var _iteratorError4 = undefined;
	
	            try {
	              for (var _iterator4 = validTimePeriodMultiplier[indexOfTimeUnit][Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
	                multiplierVal = _step4.value;
	
	                timeMulSelectMenuOpt.push({
	                  name: multiplierVal.toString(),
	                  value: multiplierVal.toString()
	                });
	              }
	            } catch (err) {
	              _didIteratorError4 = true;
	              _iteratorError4 = err;
	            } finally {
	              try {
	                if (!_iteratorNormalCompletion4 && _iterator4.return) {
	                  _iterator4.return();
	                }
	              } finally {
	                if (_didIteratorError4) {
	                  throw _iteratorError4;
	                }
	              }
	            }
	          }
	
	          timeMulSelectMenu.updateList(timeMulSelectMenuOpt);
	          timeMulSelectMenu.value(timePeriodMultiplier.toString());
	
	          for (aggVal in avlAggMethods) {
	            aggMethodSelectMenuOpt.push({
	              name: avlAggMethods[aggVal].formalName,
	              value: avlAggMethods[aggVal].nickName
	            });
	          }
	
	          aggMethodSelectMenu.updateList(aggMethodSelectMenuOpt);
	          aggMethodSelectMenu.value(aggregationMethod.value);
	        };
	
	        self.getAvailablelAggreagation();
	
	        x = x === undefined ? measurement.x : x;
	        y = y === undefined ? measurement.y : y;
	        width = width === undefined ? measurement.width : width;
	        height = height === undefined ? measurement.height : height;
	        group = group === undefined ? self.parentGroup : group;
	        if (width && height) {
	          for (i = 0, ln = toolbars.length; i < ln; i++) {
	            toolbar = toolbars[i];
	            toolbar.draw(x, y);
	          }
	        }
	        rangeOnChange();
	        applyButton.updateVisual('disabled');
	        resetButton.updateVisual('disabled');
	        config.defaultAggMethod = dataAgg.getDefaultAggregationMethod().nickName;
	
	        model.onPropsChange(['bin-size', 'aggregation-fn'], rangeOnChange);
	      }
	    }, {
	      key: 'dispose',
	      value: function dispose() {
	        // dispose extension
	      }
	    }, {
	      key: 'aggregation',
	      get: function get() {
	        return this.appliedAggregation;
	      },
	      set: function set(obj) {
	        this.appliedAggregation.timePeriod = obj.timePeriod;
	        this.appliedAggregation.timePeriodMultiplier = obj.timePeriodMultiplier;
	        this.appliedAggregation.aggregationMethod = obj.aggregationMethod;
	      }
	    }]);
	
	    return Aggregator;
	  }();
	
	  return Aggregator;
	};

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNTU3NjZhYjE5ZGYwY2Y4Zjg0NzkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanMiXSwibmFtZXMiOlsiQWdncmVnYXRvckdldHRlciIsInJlcXVpcmUiLCJlbnYiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50Iiwid2luIiwiRXJyb3IiLCJBZ2dyZWdhdG9yIiwid2luZG93IiwiX3dpbmRvdyIsIndpbmRvd0V4aXN0cyIsIkZDIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJyZWdpc3RlckNvbXBvbmVudCIsImRlcCIsImFwcGxpZWRBZ2dyZWdhdGlvbiIsImJpblNpemUiLCJhZ2dyZWdhdGlvbk1ldGhvZCIsImNvbmZpZyIsImRhdGFBZ2ciLCJhdmxUaW1lUGVyaW9kcyIsImdldEFnZ3JlZ2F0aW9uVGltZVJ1bGVzIiwiaSIsImxlbiIsImF2bFRpbWVNdWx0aXBsaWVyIiwibGVuZ3RoIiwicHVzaCIsInBvc3NpYmxlRmFjdG9ycyIsInNlbGYiLCJ0c09iamVjdCIsImoiLCJsZW4xIiwibGVuMiIsIm1heE51bU9mUGxvdCIsImNvbXBvc2l0aW9uIiwicmVhY3RpdmVNb2RlbCIsIm1vZGVsIiwibXVsdGlwbGllcnNBcnIiLCJjdXJyZW50VGltZUxlbmd0aCIsInRpbWVQZXJpb2QiLCJ0aW1lIiwiZXhwZWN0ZWRUaW1lIiwibXVsdGlwbGllciIsIm1pbkJpblNpemUiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwidmFsaWRUaW1lUGVyaW9kIiwidmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciIsImF2bEFnZ01ldGhvZHMiLCJnZXRBbGxBZ2dyZWdhdGlvbk1ldGhvZCIsIm5hbWUiLCJpbnRlcnZhbCIsImN1cnJlbnRBZ2dNZXRob2QiLCJzdWl0YWJsZUludGVydmFsIiwicHJvcCIsImlzRmluaXRlIiwiY2FuQWdncmVnYXRlIiwidGltZVJ1bGVzIiwiZ2V0U3VpdGFibGVJbnRlcnZhbCIsInN0ZXAiLCJmb3JtYWxOYW1lIiwibmlja05hbWUiLCJ0aW1lUGVyaW9kTXVsdGlwbGllciIsInZhbHVlIiwidGV4dCIsInRvb2xib3hDb21wb25lbnQiLCJhcGkiLCJzdG9yZSIsInNhdmVUbyIsInJlcXVpcmVkUGFyYW1zIiwiYWNxdWlyZSIsImlpIiwicGFyYW0iLCJhcmd1bWVudHMiLCJjaGFydEluc3RhbmNlIiwiYXBpSW5zdGFuY2UiLCJnZXRDb21wb25lbnRTdG9yZSIsImdldENhbnZhc0J5SW5kZXgiLCJpbXBsIiwiZ2V0RGF0YUFnZ3JlZ2F0b3IiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwidG9vbGJhcnMiLCJtZWFzdXJlbWVudCIsImNyZWF0ZVRvb2xiYXIiLCJncm91cCIsInRvb2xiYXIiLCJ0aW1lTXVsU2VsZWN0TWVudSIsInRpbWVQZXJpb2RTZWxlY3RNZW51IiwiYWdnTWV0aG9kU2VsZWN0TWVudSIsInJlc2V0QnV0dG9uIiwiYXBwbHlCdXR0b24iLCJsYWJlbCIsInRvb2xib3hDb21wQ29uZmlnIiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwiZ3JhcGhpY3MiLCJwYXBlciIsImNvbnRhaW5lciIsImNoYXJ0Iiwic21hcnRMYWJlbCIsIm11bHRpcGxpZXJWYWwiLCJ0aW1lTXVsU2VsZWN0TWVudU9wdCIsInRpbWVQZXJpb2RNZW51RGlzYWJsZUNvbmZpZyIsInRpbWVNdWx0aXBsaWVyTWVudURpc2FibGVDb25maWciLCJhZ2dNZXRob2RNZW51RGlzYWJsZW9uZmlnIiwiZHJvcERvd25NZW51U3R5bGUiLCJhcHBseUJ1dHRvbkRpc2FibGVDb25maWciLCJyZXNldEJ1dHRvbkRpc2FibGVDb25maWciLCJzdHlsZSIsImRlcGVuZGVuY2llcyIsImNoYXJ0Q29udGFpbmVyIiwiYXBwbHkiLCJzZXQiLCJ0aW1lUGVyaW9kVmFsIiwidGltZVBlcmlvZE11bHRpcGxpZXJWYWwiLCJhZ2dNZXRob2RTZWxlY3RNZW51VmFsIiwia2V5cyIsInRpbWVJbnRlcnZhbCIsImFnZ3JlZ2F0aW9uIiwiY2FudmFzIiwiTnVtYmVyIiwibG9jayIsInVubG9jayIsInVwZGF0ZVZpc3VhbCIsInJlc2V0QWdncmVnYXRpb24iLCJ0aW1lUGVyaW9kT25DaGFuZ2UiLCJwcmV2VGltZVBlcm9pZE11bFZhbCIsImluZGV4T2ZUaW1lVW5pdCIsImluZGV4T2ZUaW1lTXVsIiwiaW5kZXhPZiIsInRvU3RyaW5nIiwidXBkYXRlTGlzdCIsIm9uQ2hhbmdlIiwidHlwZSIsImN1cnJlbnRBZ2ciLCJnZXRDdXJyZW50QWdncmVhdGlvbiIsInVzckNvbmZpZyIsImVuYWJsZWQiLCJwb3NXcnRDYW52YXMiLCJhbGlnbm1lbnQiLCJvcmllbnRhdGlvbiIsInN0eWxlcyIsInRpbWVNdWx0aXBsaWVySW5wdXRGaWVsZCIsImRpc2FibGVkIiwidGltZVBlcmlvZElucHV0RmllbGQiLCJhZ2dyZWdhdGlvbk1ldGhvZElucHV0RmllbGQiLCJkcm9wRG93biIsIm5vcm1hbCIsImhvdmVyIiwiYmFzZSIsImZvbnQiLCJzZXRDb25maWciLCJmaWxsIiwiYm9yZGVyVGhpY2tuZXNzIiwic2VsZWN0ZWQiLCJsYWJlbEZpbGwiLCJMYWJlbCIsIlNlbGVjdFN5bWJvbCIsIk9iamVjdCIsImFzc2lnbiIsImJ0blRleHRTdHlsZSIsImZvbnRTaXplIiwiZHJvcERvd25NZW51Iiwic2V0U3RhdGVDb25maWciLCJTeW1ib2wiLCJhdHRhY2hFdmVudEhhbmRsZXJzIiwiY2xpY2siLCJhZGRTeW1ib2wiLCJ4IiwieSIsInJhZCIsInciLCJoIiwicGFkWCIsInBhZFkiLCJ4MSIsIngyIiwieTEiLCJ5MiIsInRleHRPbkNoYW5nZSIsImFkZENvbXBvbmVudCIsImF2YWlsYWJsZVdpZHRoIiwiYXZhaWxhYmxlSGVpZ2h0IiwibG9naWNhbFNwYWNlIiwid2lkdGgiLCJoZWlnaHQiLCJsbiIsImdldExvZ2ljYWxTcGFjZSIsIk1hdGgiLCJtYXgiLCJwYWRkaW5nIiwiY29udGFpbmVySW5zdGFuY2UiLCJzcGFjZU1hbmFnZXJJbnN0YW5jZSIsImFkZCIsInJlZiIsIm9iaiIsInByaW9yaXR5IiwibGF5b3V0IiwiaW5saW5lIiwiaG9yaXpvbnRhbCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImRpbWVuc2lvbnMiLCJwYXJlbnQiLCJnZXRQYXJlbnRDb21wb25lbnRHcm91cCIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwibWVzIiwicGFyZW50R3JvdXAiLCJ0aW1lUGVyaW9kU2VsZWN0TWVudU9wdCIsImFnZ1ZhbCIsImFnZ01ldGhvZFNlbGVjdE1lbnVPcHQiLCJyYW5nZU9uQ2hhbmdlIiwiY3VycmVudEFnZ3JlZ2F0aW9uT2JqIiwiZ2V0VmFsaWRBZ2dyZWdhdGlvbiIsImRlZmF1bHRBZ2dNZXRob2QiLCJnZXRBdmFpbGFibGVsQWdncmVhZ2F0aW9uIiwidW5kZWZpbmVkIiwiZHJhdyIsImdldERlZmF1bHRBZ2dyZWdhdGlvbk1ldGhvZCIsIm9uUHJvcHNDaGFuZ2UiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7O0FDdENBOzs7O0FBQ0EsS0FBTUEsbUJBQW1CLG1CQUFBQyxDQUFRLENBQVIsQ0FBekI7O0FBRUEsRUFBQyxDQUFDLFVBQVVDLEdBQVYsRUFBZUMsT0FBZixFQUF3QjtBQUN4QixPQUFJLGdDQUFPQyxNQUFQLE9BQWtCLFFBQWxCLElBQThCQSxPQUFPQyxPQUF6QyxFQUFrRDtBQUNoREQsWUFBT0MsT0FBUCxHQUFpQkgsSUFBSUksUUFBSixHQUNaSCxRQUFRRCxHQUFS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cUJBQVlrQyxZQUFaLENBQXlCLFVBQXpCO0FBQ0FuQyxxQkFBWW1DLFlBQVosQ0FBeUIsVUFBekI7QUFDQTFHLGdCQUFPdU0sZ0JBQVAsR0FBMEJ0TSxRQUFRME0sMkJBQVIsR0FBc0NqSyxRQUFoRTs7QUFFQXhCLGVBQU0wTCxhQUFOLENBQW9CLENBQUMsVUFBRCxFQUFhLGdCQUFiLENBQXBCLEVBQW9EUixhQUFwRDtBQUNEO0FBdDFCMkI7QUFBQTtBQUFBLGlDQXcxQmpCO0FBQ1Q7QUFDRDtBQTExQjJCO0FBQUE7QUFBQSwyQkEyQlQ7QUFDakIsZ0JBQU8sS0FBS3ZNLGtCQUFaO0FBQ0QsUUE3QjJCO0FBQUEseUJBK0JYcUwsR0EvQlcsRUErQk47QUFDcEIsY0FBS3JMLGtCQUFMLENBQXdCd0IsVUFBeEIsR0FBcUM2SixJQUFJN0osVUFBekM7QUFDQSxjQUFLeEIsa0JBQUwsQ0FBd0I4QyxvQkFBeEIsR0FBK0N1SSxJQUFJdkksb0JBQW5EO0FBQ0EsY0FBSzlDLGtCQUFMLENBQXdCRSxpQkFBeEIsR0FBNENtTCxJQUFJbkwsaUJBQWhEO0FBQ0Q7QUFuQzJCOztBQUFBO0FBQUE7O0FBNDFCOUIsVUFBT1gsVUFBUDtBQUNELEVBNzFCRCxDIiwiZmlsZSI6ImZjdHMtZXh0LWRhdGFhZ2dyZWdhdG9yLWVzNS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA1NTc2NmFiMTlkZjBjZjhmODQ3OSIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IEFnZ3JlZ2F0b3JHZXR0ZXIgPSByZXF1aXJlKCcuL2ZjdHMtZXh0LWFnZ3JlZ2F0b3InKTtcblxuOyhmdW5jdGlvbiAoZW52LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZW52LmRvY3VtZW50XG4gICAgICAgPyBmYWN0b3J5KGVudikgOiBmdW5jdGlvbiAod2luKSB7XG4gICAgICAgICBpZiAoIXdpbi5kb2N1bWVudCkge1xuICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dpbmRvdyB3aXRoIGRvY3VtZW50IG5vdCBwcmVzZW50Jyk7XG4gICAgICAgICB9XG4gICAgICAgICByZXR1cm4gZmFjdG9yeSh3aW4sIHRydWUpO1xuICAgICAgIH07XG4gIH0gZWxzZSB7XG4gICAgZW52LkFnZ3JlZ2F0b3IgPSBmYWN0b3J5KGVudiwgdHJ1ZSk7XG4gIH1cbn0pKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gKF93aW5kb3csIHdpbmRvd0V4aXN0cykge1xuICB2YXIgRkMgPSBfd2luZG93LkZ1c2lvbkNoYXJ0cztcblxuICBGQy5yZWdpc3RlcignZXh0ZW5zaW9uJywgWydwcml2YXRlJywgJ2RhdGEtYWdncmVnYXRvcicsIGZ1bmN0aW9uICgpIHtcbiAgICBGQy5yZWdpc3RlckNvbXBvbmVudCgnZXh0ZW5zaW9ucycsICdkYXRhLWFnZ3JlZ2F0b3InLCBBZ2dyZWdhdG9yR2V0dGVyKHtGQzogRkN9KSk7XG4gIH1dKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGVwKSB7XG4gIC8qKlxuICAgKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIERhdGEgQWdncmVnYXRvci5cbiAgICovXG4gIGNsYXNzIEFnZ3JlZ2F0b3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEFnZ3JlZ2F0b3IuXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gQWdncmVnYXRvci5hZ2dyZWdhdGlvblxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aW1lUGVyaW9kIC0gVGhlIHRpbWUgaW50ZXJ2YWwgb2YgYWdncmVnYXRpb24uXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVQZXJpb2RNdWx0aXBsaWVyIC0gVGhlIG11bHRpcGxpZXIgb2YgdGltZSBpbnRlcnZhbC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gYWdncmVnYXRpb25NZXRob2QgLSBUaGUgbWV0aG9kIGFwcGxpZWQgdG8gYWdncmVnYXRlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24gPSB7XG4gICAgICAgIGJpblNpemU6IG51bGwsXG4gICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kOiBudWxsXG4gICAgICB9O1xuICAgICAgdGhpcy5jb25maWcgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSB0aW1lUGVyaW9kLCB0aW1lUGVyaW9kTXVsdGlwbGllciwgYWdncmVnYXRpb25NZXRob2QuXG4gICAgICogQHR5cGUge0FnZ3JlZ2F0b3IuYWdncmVnYXRpb259XG4gICAgICovXG4gICAgZ2V0IGFnZ3JlZ2F0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgYWdncmVnYXRpb24gKG9iaikge1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZCA9IG9iai50aW1lUGVyaW9kO1xuICAgICAgdGhpcy5hcHBsaWVkQWdncmVnYXRpb24udGltZVBlcmlvZE11bHRpcGxpZXIgPSBvYmoudGltZVBlcmlvZE11bHRpcGxpZXI7XG4gICAgICB0aGlzLmFwcGxpZWRBZ2dyZWdhdGlvbi5hZ2dyZWdhdGlvbk1ldGhvZCA9IG9iai5hZ2dyZWdhdGlvbk1ldGhvZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGF2YWlsYWJsZSBhZ2dyZWdhdGlvbiBvcHRpb25zIGluIGNvbmZpZ3VyYXRpb24gb2YgZXh0ZW5zaW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRBdmFpbGFibGVsQWdncmVhZ2F0aW9uICgpIHtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZyxcbiAgICAgICAgZGF0YUFnZyA9IGNvbmZpZy5kYXRhQWdnLFxuICAgICAgICBhdmxUaW1lUGVyaW9kcyA9IGNvbmZpZy5hdmxUaW1lUGVyaW9kcyA9IGRhdGFBZ2cuZ2V0QWdncmVnYXRpb25UaW1lUnVsZXMoKSxcbiAgICAgICAgaSxcbiAgICAgICAgbGVuO1xuXG4gICAgICBjb25maWcuYXZsVGltZU11bHRpcGxpZXIgPSBbXTtcbiAgICAgIGxlbiA9IGF2bFRpbWVQZXJpb2RzLmxlbmd0aDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbmZpZy5hdmxUaW1lTXVsdGlwbGllci5wdXNoKGF2bFRpbWVQZXJpb2RzW2ldLnBvc3NpYmxlRmFjdG9ycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB2YWxpZCBhZ2dyZWdhdGlvbiB0aW1lIHBlcmlvZHMgYW5kIGNvcnJlc3BvbmRpbmcgbXVsdGlwbGllcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFZhbGlkQWdncmVnYXRpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgdHNPYmplY3QgPSBzZWxmLnRzT2JqZWN0LFxuICAgICAgICBkYXRhQWdnID0gY29uZmlnLmRhdGFBZ2csXG4gICAgICAgIGksXG4gICAgICAgIGosXG4gICAgICAgIGxlbjEsXG4gICAgICAgIGxlbjIsXG4gICAgICAgIGF2bFRpbWVQZXJpb2RzLFxuICAgICAgICBhdmxUaW1lTXVsdGlwbGllcixcbiAgICAgICAgLy8gbWluTnVtT2ZQbG90ID0gNSxcbiAgICAgICAgbWF4TnVtT2ZQbG90ID0gY29uZmlnLmNvbXBvc2l0aW9uLnJlYWN0aXZlTW9kZWwubW9kZWxbJ21heC1wbG90LXBvaW50J10sXG4gICAgICAgIG11bHRpcGxpZXJzQXJyLFxuICAgICAgICBjdXJyZW50VGltZUxlbmd0aCxcbiAgICAgICAgdGltZVBlcmlvZCxcbiAgICAgICAgdGltZSxcbiAgICAgICAgZXhwZWN0ZWRUaW1lLFxuICAgICAgICBtdWx0aXBsaWVyLFxuICAgICAgICBtaW5CaW5TaXplO1xuICAgICAgICAvLyBtYXhCaW5TaXplO1xuXG4gICAgICBjb25maWcuY3VycmVudFRpbWVMZW5ndGggPSB0c09iamVjdC5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSAtXG4gICAgICAgIHRzT2JqZWN0Lmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J107XG5cbiAgICAgIGF2bFRpbWVQZXJpb2RzID0gY29uZmlnLmF2bFRpbWVQZXJpb2RzO1xuICAgICAgYXZsVGltZU11bHRpcGxpZXIgPSBjb25maWcuYXZsVGltZU11bHRpcGxpZXI7XG4gICAgICBjdXJyZW50VGltZUxlbmd0aCA9IGNvbmZpZy5jdXJyZW50VGltZUxlbmd0aDtcblxuICAgICAgY29uZmlnLm1pbkJpblNpemUgPSBtaW5CaW5TaXplID0gY3VycmVudFRpbWVMZW5ndGggLyBtYXhOdW1PZlBsb3Q7XG4gICAgICAvLyBjb25maWcubWF4QmluU2l6ZSA9IG1heEJpblNpemUgPSBjdXJyZW50VGltZUxlbmd0aCAvIG1pbk51bU9mUGxvdDtcblxuICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZCA9IFtdO1xuICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIgPSBbXTtcbiAgICAgIGNvbmZpZy5hdmxBZ2dNZXRob2RzID0gZGF0YUFnZy5nZXRBbGxBZ2dyZWdhdGlvbk1ldGhvZCgpO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4xID0gYXZsVGltZVBlcmlvZHMubGVuZ3RoOyBpIDwgbGVuMTsgaSsrKSB7XG4gICAgICAgIHRpbWVQZXJpb2QgPSBhdmxUaW1lUGVyaW9kc1tpXS5uYW1lO1xuICAgICAgICB0aW1lID0gYXZsVGltZVBlcmlvZHNbaV0uaW50ZXJ2YWw7XG4gICAgICAgIG11bHRpcGxpZXJzQXJyID0gW107XG5cbiAgICAgICAgZm9yIChqID0gMCwgbGVuMiA9IGF2bFRpbWVNdWx0aXBsaWVyW2ldLmxlbmd0aDsgaiA8IGxlbjI7IGorKykge1xuICAgICAgICAgIG11bHRpcGxpZXIgPSBhdmxUaW1lTXVsdGlwbGllcltpXVtqXTtcbiAgICAgICAgICBleHBlY3RlZFRpbWUgPSBtdWx0aXBsaWVyICogdGltZTtcblxuICAgICAgICAgIC8vIGlmICgoZXhwZWN0ZWRUaW1lID49IG1pbkJpblNpemUpICYmIChleHBlY3RlZFRpbWUgPD0gbWF4QmluU2l6ZSkpIHtcbiAgICAgICAgICBpZiAoKGV4cGVjdGVkVGltZSA+PSBtaW5CaW5TaXplKSkge1xuICAgICAgICAgICAgbXVsdGlwbGllcnNBcnIucHVzaChhdmxUaW1lTXVsdGlwbGllcltpXVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtdWx0aXBsaWVyc0Fyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIucHVzaChtdWx0aXBsaWVyc0Fycik7XG4gICAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZC5wdXNoKHRpbWVQZXJpb2QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZygnVGltZSBQZXJpb2Q6ICcsIGNvbmZpZy52YWxpZFRpbWVQZXJpb2QpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ051bWJlciBPZiBNdWx0aXBsaWVyczogJywgY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ01ldGhvZHM6ICcsIGNvbmZpZy5hdmxBZ2dNZXRob2RzKTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50QWdncmVhdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuY29uZmlnLFxuICAgICAgICBkYXRhQWdnID0gY29uZmlnLmRhdGFBZ2csXG4gICAgICAgIGNvbXBvc2l0aW9uID0gY29uZmlnLmNvbXBvc2l0aW9uLFxuICAgICAgICBtb2RlbCA9IGNvbXBvc2l0aW9uLnJlYWN0aXZlTW9kZWwsXG4gICAgICAgIGN1cnJlbnRBZ2dNZXRob2QsXG4gICAgICAgIHN1aXRhYmxlSW50ZXJ2YWwsXG4gICAgICAgIGJpblNpemU7XG5cbiAgICAgIGJpblNpemUgPSBtb2RlbC5wcm9wKCdiaW4tc2l6ZScpIC0gMTtcblxuICAgICAgaWYgKGlzRmluaXRlKGJpblNpemUpKSB7XG4gICAgICAgIGNvbmZpZy5jYW5BZ2dyZWdhdGUgPSB0cnVlO1xuICAgICAgICBzdWl0YWJsZUludGVydmFsID0gZGF0YUFnZy50aW1lUnVsZXMuZ2V0U3VpdGFibGVJbnRlcnZhbChiaW5TaXplKTtcbiAgICAgICAgY3VycmVudEFnZ01ldGhvZCA9IG1vZGVsLnByb3AoJ2FnZ3JlZ2F0aW9uLWZuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuY2FuQWdncmVnYXRlID0gZmFsc2U7XG4gICAgICAgIHN1aXRhYmxlSW50ZXJ2YWwgPSB7XG4gICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgc3RlcDogJydcbiAgICAgICAgfTtcbiAgICAgICAgY29uZmlnLnZhbGlkVGltZVBlcmlvZCA9IFtzdWl0YWJsZUludGVydmFsLm5hbWVdO1xuICAgICAgICBjb25maWcudmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IFtbc3VpdGFibGVJbnRlcnZhbC5zdGVwXV07XG4gICAgICAgIGNvbmZpZy5hdmxBZ2dNZXRob2RzID0ge1xuICAgICAgICAgICdpbnZhbGlkJzoge1xuICAgICAgICAgICAgZm9ybWFsTmFtZTogJycsXG4gICAgICAgICAgICBuaWNrTmFtZTogJydcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGN1cnJlbnRBZ2dNZXRob2QgPSBjb25maWcuYXZsQWdnTWV0aG9kc1snaW52YWxpZCddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aW1lUGVyaW9kOiBzdWl0YWJsZUludGVydmFsLm5hbWUsXG4gICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyOiBzdWl0YWJsZUludGVydmFsLnN0ZXAsXG4gICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kOiB7XG4gICAgICAgICAgdmFsdWU6IGN1cnJlbnRBZ2dNZXRob2Qubmlja05hbWUsXG4gICAgICAgICAgdGV4dDogY3VycmVudEFnZ01ldGhvZC5mb3JtYWxOYW1lXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgaW5pdCAocmVxdWlyZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgdG9vbGJveENvbXBvbmVudCA9IGNvbmZpZy50b29sYm94Q29tcG9uZW50ID0ge30sXG4gICAgICAgIGFwaSxcbiAgICAgICAgc3RvcmUsXG4gICAgICAgIGNvbXBvc2l0aW9uLFxuICAgICAgICBzYXZlVG8gPSAndHNPYmplY3QnLFxuICAgICAgICByZXF1aXJlZFBhcmFtcyA9IFtcbiAgICAgICAgICAnZ3JhcGhpY3MnLFxuICAgICAgICAgICdnbG9iYWxSZWFjdGl2ZU1vZGVsJyxcbiAgICAgICAgICAnY2hhcnQnLFxuICAgICAgICAgICdzcGFjZU1hbmFnZXJJbnN0YW5jZScsXG4gICAgICAgICAgJ2NoYXJ0SW5zdGFuY2UnLFxuICAgICAgICAgICdzbWFydExhYmVsJyxcbiAgICAgICAgICBmdW5jdGlvbiBhY3F1aXJlICgpIHtcbiAgICAgICAgICAgIGxldCBpID0gMCxcbiAgICAgICAgICAgICAgaWkgPSByZXF1aXJlZFBhcmFtcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICBwYXJhbSA9ICcnO1xuICAgICAgICAgICAgc2VsZltzYXZlVG9dID0gc2VsZltzYXZlVG9dIHx8IHt9O1xuICAgICAgICAgICAgc2VsZi5yZXF1aXJlZFBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgcGFyYW0gPSByZXF1aXJlZFBhcmFtc1tpXTtcbiAgICAgICAgICAgICAgc2VsZltzYXZlVG9dW3BhcmFtXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9uSW5pdChzZWxmW3NhdmVUb10pO1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIHJlcXVpcmUocmVxdWlyZWRQYXJhbXMpO1xuXG4gICAgICBhcGkgPSBzZWxmLnRzT2JqZWN0LmNoYXJ0SW5zdGFuY2UuYXBpSW5zdGFuY2U7XG4gICAgICBzdG9yZSA9IGFwaS5nZXRDb21wb25lbnRTdG9yZSgpO1xuICAgICAgY29uZmlnLmNvbXBvc2l0aW9uID0gY29tcG9zaXRpb24gPSBzdG9yZS5nZXRDYW52YXNCeUluZGV4KDApLmNvbXBvc2l0aW9uO1xuICAgICAgY29uZmlnLmRhdGFBZ2cgPSBjb21wb3NpdGlvbi5pbXBsLmdldERhdGFBZ2dyZWdhdG9yKCk7XG5cbiAgICAgIHRvb2xib3hDb21wb25lbnQudG9vbGJveCA9IGRlcC5GQy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG4gICAgICB0b29sYm94Q29tcG9uZW50LmNvbmZpZyA9IHt9O1xuXG4gICAgICBzZWxmLnRvb2xiYXJzID0gW107XG5cbiAgICAgIHNlbGYubWVhc3VyZW1lbnQgPSB7fTtcblxuICAgICAgc2VsZi50b29sYmFycy5wdXNoKHNlbGYuY3JlYXRlVG9vbGJhcigpKTtcblxuICAgICAgd2luZG93LkFnZ3JlZ2F0b3IgPSBzZWxmO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgY3JlYXRlVG9vbGJhciAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGdyb3VwLFxuICAgICAgICB0b29sYmFyLFxuICAgICAgICB0aW1lTXVsU2VsZWN0TWVudSxcbiAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUsXG4gICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUsXG4gICAgICAgIHJlc2V0QnV0dG9uLFxuICAgICAgICBhcHBseUJ1dHRvbixcbiAgICAgICAgY29uZmlnID0gc2VsZi5jb25maWcsXG4gICAgICAgIHRzT2JqZWN0ID0gc2VsZi50c09iamVjdCxcbiAgICAgICAgbGFiZWwsXG5cbiAgICAgICAgdG9vbGJveENvbXBvbmVudCA9IGNvbmZpZy50b29sYm94Q29tcG9uZW50LFxuICAgICAgICB0b29sYm94ID0gdG9vbGJveENvbXBvbmVudC50b29sYm94LFxuICAgICAgICB0b29sYm94Q29tcENvbmZpZyA9IHRvb2xib3hDb21wb25lbnQuY29uZmlnLFxuICAgICAgICBIb3Jpem9udGFsVG9vbGJhciA9IHRvb2xib3guSG9yaXpvbnRhbFRvb2xiYXIsXG4gICAgICAgIENvbXBvbmVudEdyb3VwID0gdG9vbGJveC5Db21wb25lbnRHcm91cCxcbiAgICAgICAgU3ltYm9sU3RvcmUgPSB0b29sYm94LlN5bWJvbFN0b3JlLFxuXG4gICAgICAgIGdyYXBoaWNzID0gdHNPYmplY3QuZ3JhcGhpY3MsXG4gICAgICAgIHBhcGVyID0gZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNvbnRhaW5lciA9IGdyYXBoaWNzLmNvbnRhaW5lcixcbiAgICAgICAgY2hhcnQgPSB0c09iamVjdC5jaGFydCxcbiAgICAgICAgc21hcnRMYWJlbCA9IHRzT2JqZWN0LnNtYXJ0TGFiZWwsXG5cbiAgICAgICAgbXVsdGlwbGllclZhbCxcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQsXG4gICAgICAgIHRpbWVQZXJpb2RNZW51RGlzYWJsZUNvbmZpZyxcbiAgICAgICAgdGltZU11bHRpcGxpZXJNZW51RGlzYWJsZUNvbmZpZyxcbiAgICAgICAgYWdnTWV0aG9kTWVudURpc2FibGVvbmZpZyxcbiAgICAgICAgZHJvcERvd25NZW51U3R5bGUsXG4gICAgICAgIGFwcGx5QnV0dG9uRGlzYWJsZUNvbmZpZyxcbiAgICAgICAgcmVzZXRCdXR0b25EaXNhYmxlQ29uZmlnLFxuXG4gICAgICAgIHN0eWxlLFxuXG4gICAgICAgIGRlcGVuZGVuY2llcyA9IHtcbiAgICAgICAgICBwYXBlcjogcGFwZXIsXG4gICAgICAgICAgY2hhcnQ6IGNoYXJ0LFxuICAgICAgICAgIHNtYXJ0TGFiZWw6IHNtYXJ0TGFiZWwsXG4gICAgICAgICAgY2hhcnRDb250YWluZXI6IGNvbnRhaW5lclxuICAgICAgICB9LFxuICAgICAgICBhcHBseSA9IChzZXQpID0+IHtcbiAgICAgICAgICB2YXIgbW9kZWwgPSBjb25maWcuY29tcG9zaXRpb24ucmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RWYWwgPSB0aW1lUGVyaW9kU2VsZWN0TWVudS52YWx1ZSgpLFxuICAgICAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXJWYWwgPSB0aW1lTXVsU2VsZWN0TWVudS52YWx1ZSgpLFxuICAgICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudVZhbCA9IGFnZ01ldGhvZFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICBiaW5TaXplLFxuICAgICAgICAgICAgdGltZUludGVydmFsLFxuICAgICAgICAgICAgYWdncmVnYXRpb24gPSBzZWxmLmFnZ3JlZ2F0aW9uLFxuICAgICAgICAgICAgY2FudmFzID0gY29uZmlnLmNvbXBvc2l0aW9uLmltcGw7XG5cbiAgICAgICAgICBmb3IgKGtleXMgb2YgY29uZmlnLmF2bFRpbWVQZXJpb2RzKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5uYW1lID09PSB0aW1lUGVyaW9kVmFsKSB7XG4gICAgICAgICAgICAgIHRpbWVJbnRlcnZhbCA9IGtleXMuaW50ZXJ2YWw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBiaW5TaXplID0gdGltZUludGVydmFsICogTnVtYmVyKHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsKTtcbiAgICAgICAgICBpZiAoc2V0ICYmIGlzRmluaXRlKG1vZGVsLnByb3AoJ2Jpbi1zaXplJykpKSB7XG4gICAgICAgICAgICBtb2RlbFxuICAgICAgICAgICAgICAubG9jaygpXG4gICAgICAgICAgICAgIC5wcm9wKCdiaW4tc2l6ZS1leHQnLCBiaW5TaXplKVxuICAgICAgICAgICAgICAucHJvcCgnYWdncmVnYXRpb24tZm4tZXh0JywgY29uZmlnLmF2bEFnZ01ldGhvZHNbYWdnTWV0aG9kU2VsZWN0TWVudVZhbF0pXG4gICAgICAgICAgICAgIC51bmxvY2soKTtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmJpblNpemUgPSBiaW5TaXplO1xuICAgICAgICAgICAgYWdncmVnYXRpb24uYWdncmVnYXRpb25NZXRob2QgPSBhZ2dNZXRob2RTZWxlY3RNZW51VmFsO1xuICAgICAgICAgICAgYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcy5yZXNldEFnZ3JlZ2F0aW9uKCk7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbi5iaW5TaXplID0gbnVsbDtcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uLmFnZ3JlZ2F0aW9uTWV0aG9kID0gbnVsbDtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGltZVBlcmlvZE9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIHZhciB0aW1lUGVyaW9kVmFsID0gdGltZVBlcmlvZFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHRpbWVQZXJpb2RNdWx0aXBsaWVyVmFsID0gdGltZU11bFNlbGVjdE1lbnUudmFsdWUoKSxcbiAgICAgICAgICAgIHByZXZUaW1lUGVyb2lkTXVsVmFsID0gdGltZVBlcmlvZE11bHRpcGxpZXJWYWwsXG4gICAgICAgICAgICB2YWxpZFRpbWVQZXJpb2QgPSBjb25maWcudmFsaWRUaW1lUGVyaW9kLFxuICAgICAgICAgICAgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllciA9IGNvbmZpZy52YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyLFxuICAgICAgICAgICAgaW5kZXhPZlRpbWVVbml0LFxuICAgICAgICAgICAgaW5kZXhPZlRpbWVNdWw7XG5cbiAgICAgICAgICBpbmRleE9mVGltZVVuaXQgPSB2YWxpZFRpbWVQZXJpb2QuaW5kZXhPZih0aW1lUGVyaW9kVmFsKTtcbiAgICAgICAgICBpbmRleE9mVGltZU11bCA9IHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XS5pbmRleE9mKE51bWJlcih0aW1lUGVyaW9kTXVsdGlwbGllclZhbCkpO1xuXG4gICAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQgPSBbXTtcbiAgICAgICAgICBmb3IgKG11bHRpcGxpZXJWYWwgb2YgdmFsaWRUaW1lUGVyaW9kTXVsdGlwbGllcltpbmRleE9mVGltZVVuaXRdKSB7XG4gICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudU9wdC5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogbXVsdGlwbGllclZhbC50b1N0cmluZygpLFxuICAgICAgICAgICAgICB2YWx1ZTogbXVsdGlwbGllclZhbC50b1N0cmluZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS51cGRhdGVMaXN0KHRpbWVNdWxTZWxlY3RNZW51T3B0KTtcblxuICAgICAgICAgIGlmIChpbmRleE9mVGltZU11bCA8IDApIHtcbiAgICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51LnZhbHVlKHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XVswXS50b1N0cmluZygpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudmFsdWUocHJldlRpbWVQZXJvaWRNdWxWYWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoYW5nZSA9ICh0eXBlKSA9PiB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRBZ2cgPSBzZWxmLmdldEN1cnJlbnRBZ2dyZWF0aW9uKCk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudEFnZy50aW1lUGVyaW9kTXVsdGlwbGllci50b1N0cmluZygpICE9PSB0aW1lTXVsU2VsZWN0TWVudS52YWx1ZSgpIHx8XG4gICAgICAgICAgICBjdXJyZW50QWdnLnRpbWVQZXJpb2QgIT09IHRpbWVQZXJpb2RTZWxlY3RNZW51LnZhbHVlKCkgfHxcbiAgICAgICAgICAgIGN1cnJlbnRBZ2cuYWdncmVnYXRpb25NZXRob2QudmFsdWUgIT09IGFnZ01ldGhvZFNlbGVjdE1lbnUudmFsdWUoKSkge1xuICAgICAgICAgICAgYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGdyb3VwID0gbmV3IENvbXBvbmVudEdyb3VwKGRlcGVuZGVuY2llcyk7XG4gICAgICB0b29sYmFyID0gbmV3IEhvcml6b250YWxUb29sYmFyKGRlcGVuZGVuY2llcyk7XG5cbiAgICAgIGNvbmZpZy51c3JDb25maWcgPSB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIHBvc1dydENhbnZhczogJ3RvcCcsXG4gICAgICAgIGFsaWdubWVudDogJ2xlZnQnLFxuICAgICAgICBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICBzdHlsZXM6IHtcbiAgICAgICAgICB0aW1lTXVsdGlwbGllcklucHV0RmllbGQ6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI2ZmZicsXG4gICAgICAgICAgICAgICdsYWJlbEZpbGwnOiAnIzY5Njk2OScsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnI2M4Y2VjZCcsXG4gICAgICAgICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZSc6ICcjNjk2OTY5JyxcbiAgICAgICAgICAgICAgJ2hvdmVyU3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAncmFkaXVzJzogMSxcbiAgICAgICAgICAgICAgJ3dpZHRoJzogNTAsXG4gICAgICAgICAgICAgICdoZWlnaHQnOiAyMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNmZmYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICdyZ2IoMTkyLCAxOTIsIDE5MiknLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyMwMDAnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aW1lUGVyaW9kSW5wdXRGaWVsZDoge1xuICAgICAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjZmZmJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjNjk2OTY5JyxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjYzhjZWNkJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ2hvdmVyU3Ryb2tlJzogJyM2OTY5NjknLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdyYWRpdXMnOiAxLFxuICAgICAgICAgICAgICAnd2lkdGgnOiA5MCxcbiAgICAgICAgICAgICAgJ2hlaWdodCc6IDIyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI2ZmZicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJ3JnYigxOTIsIDE5MiwgMTkyKScsXG4gICAgICAgICAgICAgICdsYWJlbEZpbGwnOiAnIzAwMCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kSW5wdXRGaWVsZDoge1xuICAgICAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjZmZmJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjNjk2OTY5JyxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjYzhjZWNkJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ2hvdmVyU3Ryb2tlJzogJyM2OTY5NjknLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdyYWRpdXMnOiAxLFxuICAgICAgICAgICAgICAnd2lkdGgnOiA5MCxcbiAgICAgICAgICAgICAgJ2hlaWdodCc6IDIyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI2ZmZicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJ3JnYigxOTIsIDE5MiwgMTkyKScsXG4gICAgICAgICAgICAgICdsYWJlbEZpbGwnOiAnIzAwMCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRyb3BEb3duOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyM4OThiOGInLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmZmYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNmZmYnLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyMwMDAnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI2U2ZThlOCcsXG4gICAgICAgICAgICAgICdsYWJlbEZpbGwnOiAnIzAwMCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcGx5QnV0dG9uOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyM1NTUnLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmM2YzZjMnLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyNjOGNlY2QnLFxuICAgICAgICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnaG92ZXJGaWxsJzogJyM1NTUnLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICAgICAgICdob3ZlclN0cm9rZSc6ICcnLFxuICAgICAgICAgICAgICAncmFkaXVzJzogMSxcbiAgICAgICAgICAgICAgJ3dpZHRoJzogMzAsXG4gICAgICAgICAgICAgICdoZWlnaHQnOiAyMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNiZWJlYmUnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMyxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICdyZ2IoMTkyLCAxOTIsIDE5MiknLFxuICAgICAgICAgICAgICAnbGFiZWxGaWxsJzogJyNmM2YzZjMnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNldEJ1dHRvbjoge1xuICAgICAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjODk4YjhiJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjZjNmM2YzJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjYzhjZWNkJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ2hvdmVyRmlsbCc6ICcjODk4YjhiJyxcbiAgICAgICAgICAgICAgJ2hvdmVyU3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnaG92ZXJTdHJva2UnOiAnJyxcbiAgICAgICAgICAgICAgJ3JhZGl1cyc6IDEsXG4gICAgICAgICAgICAgICd3aWR0aCc6IDMwLFxuICAgICAgICAgICAgICAnaGVpZ2h0JzogMjBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjYmViZWJlJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDMsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAncmdiKDE5MiwgMTkyLCAxOTIpJyxcbiAgICAgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjZjNmM2YzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYmFzZToge1xuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICAnZm9udFNpemUnOiAxMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc3R5bGUgPSBjb25maWcudXNyQ29uZmlnLnN0eWxlcztcblxuICAgICAgZ3JvdXAuc2V0Q29uZmlnKHtcbiAgICAgICAgZmlsbDogJyNmZmYnLFxuICAgICAgICBib3JkZXJUaGlja25lc3M6IDBcbiAgICAgIH0pO1xuXG4gICAgICB0b29sYmFyLnNldENvbmZpZyh7XG4gICAgICAgIGZpbGw6ICcjZmZmJyxcbiAgICAgICAgYm9yZGVyVGhpY2tuZXNzOiAwXG4gICAgICB9KTtcblxuICAgICAgdGltZVBlcmlvZE1lbnVEaXNhYmxlQ29uZmlnID0ge1xuICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHN0eWxlLnRpbWVNdWx0aXBsaWVySW5wdXRGaWVsZC5kaXNhYmxlZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGltZU11bHRpcGxpZXJNZW51RGlzYWJsZUNvbmZpZyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzdHlsZS50aW1lUGVyaW9kSW5wdXRGaWVsZC5kaXNhYmxlZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWdnTWV0aG9kTWVudURpc2FibGVvbmZpZyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzdHlsZS5hZ2dyZWdhdGlvbk1ldGhvZElucHV0RmllbGQuZGlzYWJsZWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFwcGx5QnV0dG9uRGlzYWJsZUNvbmZpZyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzdHlsZS5hcHBseUJ1dHRvbi5kaXNhYmxlZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVzZXRCdXR0b25EaXNhYmxlQ29uZmlnID0ge1xuICAgICAgICBkaXNhYmxlZDoge1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHN0eWxlLnJlc2V0QnV0dG9uLmRpc2FibGVkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBkcm9wRG93bk1lbnVTdHlsZSA9IHtcbiAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmRyb3BEb3duLmVuYWJsZWQuZmlsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZmlsbDogc3R5bGUuZHJvcERvd24uZW5hYmxlZC5sYWJlbEZpbGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZmlsbDogc3R5bGUuZHJvcERvd24ubm9ybWFsLmZpbGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmRyb3BEb3duLm5vcm1hbC5sYWJlbEZpbGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBmaWxsOiBzdHlsZS5kcm9wRG93bi5ob3Zlci5maWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBmaWxsOiBzdHlsZS5kcm9wRG93bi5ob3Zlci5sYWJlbEZpbGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGxhYmVsID0gbmV3IHRvb2xib3guTGFiZWwoJ0FnZ3JlZ2F0ZSBEYXRhOicsIGRlcGVuZGVuY2llcywge1xuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICdmb250LXNpemUnOiAnMTQnLFxuICAgICAgICAgICAgJ2ZpbGwnOiAnIzY5Njk2OSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0b29sYm94Q29tcENvbmZpZy50aW1lUGVyaW9kU2VsZWN0TWVudSA9IHRpbWVQZXJpb2RTZWxlY3RNZW51ID0gbmV3IHRvb2xib3guU2VsZWN0U3ltYm9sKHt9LCBkZXBlbmRlbmNpZXMsIFtdLFxuICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZS50aW1lUGVyaW9kSW5wdXRGaWVsZC5lbmFibGVkLCB7XG4gICAgICAgIGJ0blRleHRTdHlsZToge1xuICAgICAgICAgIGZvbnRTaXplOiBzdHlsZS5iYXNlLmZvbnQuZm9udFNpemVcbiAgICAgICAgfSxcbiAgICAgICAgZHJvcERvd25NZW51OiBkcm9wRG93bk1lbnVTdHlsZVxuICAgICAgfSkpO1xuICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUuc2V0U3RhdGVDb25maWcodGltZVBlcmlvZE1lbnVEaXNhYmxlQ29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcudGltZU11bFNlbGVjdE1lbnUgPSB0aW1lTXVsU2VsZWN0TWVudSA9IG5ldyB0b29sYm94LlNlbGVjdFN5bWJvbCh7fSwgZGVwZW5kZW5jaWVzLCBbXSxcbiAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUudGltZU11bHRpcGxpZXJJbnB1dEZpZWxkLmVuYWJsZWQsIHtcbiAgICAgICAgYnRuVGV4dFN0eWxlOiB7XG4gICAgICAgICAgZm9udFNpemU6IHN0eWxlLmJhc2UuZm9udC5mb250U2l6ZVxuICAgICAgICB9LFxuICAgICAgICBkcm9wRG93bk1lbnU6IGRyb3BEb3duTWVudVN0eWxlXG4gICAgICB9KSk7XG4gICAgICB0aW1lTXVsU2VsZWN0TWVudS5zZXRTdGF0ZUNvbmZpZyh0aW1lTXVsdGlwbGllck1lbnVEaXNhYmxlQ29uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcuYWdnTWV0aG9kU2VsZWN0TWVudSA9IGFnZ01ldGhvZFNlbGVjdE1lbnUgPSBuZXcgdG9vbGJveC5TZWxlY3RTeW1ib2woe30sIGRlcGVuZGVuY2llcywgW10sXG4gICAgICBPYmplY3QuYXNzaWduKHN0eWxlLmFnZ3JlZ2F0aW9uTWV0aG9kSW5wdXRGaWVsZC5lbmFibGVkLCB7XG4gICAgICAgIGJ0blRleHRTdHlsZToge1xuICAgICAgICAgIGZvbnRTaXplOiBzdHlsZS5iYXNlLmZvbnQuZm9udFNpemVcbiAgICAgICAgfSxcbiAgICAgICAgZHJvcERvd25NZW51OiBkcm9wRG93bk1lbnVTdHlsZVxuICAgICAgfSkpO1xuICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS5zZXRTdGF0ZUNvbmZpZyhhZ2dNZXRob2RNZW51RGlzYWJsZW9uZmlnKTtcblxuICAgICAgdG9vbGJveENvbXBDb25maWcuYXBwbHlCdXR0b24gPSBhcHBseUJ1dHRvbiA9IG5ldyB0b29sYm94LlN5bWJvbCgnQVBQTFknLCB0cnVlLCBkZXBlbmRlbmNpZXMsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUuYXBwbHlCdXR0b24uZW5hYmxlZCwge1xuICAgICAgICAgIGJ0blRleHRTdHlsZToge1xuICAgICAgICAgICAgZm9udFNpemU6IHN0eWxlLmJhc2UuZm9udC5mb250U2l6ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIC5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXBwbHkoMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIGFwcGx5QnV0dG9uLnNldFN0YXRlQ29uZmlnKGFwcGx5QnV0dG9uRGlzYWJsZUNvbmZpZyk7XG5cbiAgICAgIHRvb2xib3hDb21wQ29uZmlnLnJlc2V0QnV0dG9uID0gcmVzZXRCdXR0b24gPSBuZXcgdG9vbGJveC5TeW1ib2woJ1JFU0VUJywgdHJ1ZSwgZGVwZW5kZW5jaWVzLFxuICAgICAgICBPYmplY3QuYXNzaWduKHN0eWxlLnJlc2V0QnV0dG9uLmVuYWJsZWQsIHtcbiAgICAgICAgICBidG5UZXh0U3R5bGU6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBzdHlsZS5iYXNlLmZvbnQuZm9udFNpemVcbiAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgICAuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFwcGx5KDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICByZXNldEJ1dHRvbi5zZXRTdGF0ZUNvbmZpZyhyZXNldEJ1dHRvbkRpc2FibGVDb25maWcpO1xuXG4gICAgICBncm91cC5hZGRTeW1ib2wobGFiZWwpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKHRpbWVNdWxTZWxlY3RNZW51KTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbCh0aW1lUGVyaW9kU2VsZWN0TWVudSk7XG4gICAgICBncm91cC5hZGRTeW1ib2woYWdnTWV0aG9kU2VsZWN0TWVudSk7XG4gICAgICBncm91cC5hZGRTeW1ib2woYXBwbHlCdXR0b24pO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKHJlc2V0QnV0dG9uKTtcblxuICAgICAgU3ltYm9sU3RvcmUucmVnaXN0ZXIoJ3RleHRCb3hJY29uJywgZnVuY3Rpb24gKHgsIHksIHJhZCwgdywgaCwgcGFkWCwgcGFkWSkge1xuICAgICAgICB2YXIgeDEgPSB4IC0gdyAvIDIgKyBwYWRYIC8gMixcbiAgICAgICAgICB4MiA9IHggKyB3IC8gMiAtIHBhZFggLyAyLFxuICAgICAgICAgIHkxID0geSAtIGggLyAyICsgcGFkWSAvIDIsXG4gICAgICAgICAgeTIgPSB5ICsgaCAvIDIgLSBwYWRZIC8gMjtcblxuICAgICAgICByZXR1cm4gWydNJywgeDEsIHkxLCAnTCcsIHgyLCB5MSwgJ0wnLCB4MiwgeTIsICdMJywgeDEsIHkyLCAnWiddO1xuICAgICAgfSk7XG5cbiAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICB0ZXh0T25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aW1lUGVyaW9kT25DaGFuZ2UoKTtcbiAgICAgICAgICBvbkNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGltZU11bFNlbGVjdE1lbnUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIHRleHRPbkNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICB0ZXh0T25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbkNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdG9vbGJhci5hZGRDb21wb25lbnQoZ3JvdXApO1xuXG4gICAgICByZXR1cm4gdG9vbGJhcjtcbiAgICB9XG5cbiAgICBnZXRMb2dpY2FsU3BhY2UgKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgIHZhciBsb2dpY2FsU3BhY2UsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgaSxcbiAgICAgICAgbG47XG5cbiAgICAgIGZvciAoaSA9IDAsIGxuID0gdGhpcy50b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGxvZ2ljYWxTcGFjZSA9IHRoaXMudG9vbGJhcnNbaV0uZ2V0TG9naWNhbFNwYWNlKCk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgobG9naWNhbFNwYWNlLndpZHRoLCB3aWR0aCk7XG4gICAgICAgIGhlaWdodCArPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLndpZHRoID0gbG9naWNhbFNwYWNlLndpZHRoO1xuICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLmhlaWdodCA9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBoZWlnaHQgKz0gdGhpcy5wYWRkaW5nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHdpZHRoID4gYXZhaWxhYmxlV2lkdGggPyAwIDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ID4gYXZhaWxhYmxlSGVpZ2h0ID8gMCA6IGhlaWdodFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBwbGFjZUluQ2FudmFzIChjb250YWluZXJJbnN0YW5jZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0c09iamVjdCA9IHNlbGYudHNPYmplY3Q7XG5cbiAgICAgIHNlbGYucGFkZGluZyA9IDU7XG4gICAgICB0c09iamVjdC5zcGFjZU1hbmFnZXJJbnN0YW5jZS5hZGQoW3tcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAnRGF0YUFnZ3JlZ2F0b3InO1xuICAgICAgICB9LFxuICAgICAgICByZWY6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICByZXR1cm4gb2JqWycwJ107XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgfSxcbiAgICAgICAgbGF5b3V0OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9iai5pbmxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIG9yaWVudGF0aW9uOiBbe1xuICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmouaG9yaXpvbnRhbDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvc2l0aW9uOiBbe1xuICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICByZXR1cm4gb2JqLnRvcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IFt7XG4gICAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmxlZnQ7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnM6IFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRMb2dpY2FsU3BhY2UocGFyZW50LmdldFdpZHRoKCksIHBhcmVudC5nZXRIZWlnaHQoKSk7XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH1dXG4gICAgICAgIH1dXG4gICAgICB9XSk7XG4gICAgfVxuXG4gICAgc2V0RHJhd2luZ0NvbmZpZ3VyYXRpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG4gICAgICB2YXIgbWVzID0gdGhpcy5tZWFzdXJlbWVudDtcbiAgICAgIG1lcy54ID0geDtcbiAgICAgIG1lcy55ID0geTtcbiAgICAgIG1lcy53aWR0aCA9IHdpZHRoO1xuICAgICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgdGhpcy5wYXJlbnRHcm91cCA9IGdyb3VwO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBkcmF3ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjb25maWcgPSBzZWxmLmNvbmZpZyxcbiAgICAgICAgdG9vbGJveENvbXBDb25maWcgPSBjb25maWcudG9vbGJveENvbXBvbmVudC5jb25maWcsXG4gICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51ID0gdG9vbGJveENvbXBDb25maWcudGltZVBlcmlvZFNlbGVjdE1lbnUsXG4gICAgICAgIHRpbWVNdWxTZWxlY3RNZW51ID0gdG9vbGJveENvbXBDb25maWcudGltZU11bFNlbGVjdE1lbnUsXG4gICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnUgPSB0b29sYm94Q29tcENvbmZpZy5hZ2dNZXRob2RTZWxlY3RNZW51LFxuICAgICAgICBhcHBseUJ1dHRvbiA9IHRvb2xib3hDb21wQ29uZmlnLmFwcGx5QnV0dG9uLFxuICAgICAgICByZXNldEJ1dHRvbiA9IHRvb2xib3hDb21wQ29uZmlnLnJlc2V0QnV0dG9uLFxuICAgICAgICBtZWFzdXJlbWVudCA9IHNlbGYubWVhc3VyZW1lbnQsXG4gICAgICAgIHRvb2xiYXJzID0gc2VsZi50b29sYmFycyxcbiAgICAgICAgbG4sXG4gICAgICAgIGksXG4gICAgICAgIHRvb2xiYXIsXG4gICAgICAgIG1vZGVsID0gY29uZmlnLmNvbXBvc2l0aW9uLnJlYWN0aXZlTW9kZWwsXG4gICAgICAgIGRhdGFBZ2cgPSBjb25maWcuZGF0YUFnZyxcblxuICAgICAgICB0aW1lUGVyaW9kVmFsLFxuICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudU9wdCxcbiAgICAgICAgdmFsaWRUaW1lUGVyaW9kLFxuICAgICAgICBpbmRleE9mVGltZVVuaXQsXG5cbiAgICAgICAgbXVsdGlwbGllclZhbCxcbiAgICAgICAgdGltZU11bFNlbGVjdE1lbnVPcHQsXG4gICAgICAgIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXIsXG5cbiAgICAgICAgYWdnVmFsLFxuICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51T3B0LFxuICAgICAgICBhdmxBZ2dNZXRob2RzLFxuICAgICAgICByYW5nZU9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIHZhciBhZ2dyZWdhdGlvbiA9IHNlbGYuYWdncmVnYXRpb24sXG4gICAgICAgICAgICBjdXJyZW50QWdncmVnYXRpb25PYmosXG4gICAgICAgICAgICB0aW1lUGVyaW9kLFxuICAgICAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXIsXG4gICAgICAgICAgICBhZ2dyZWdhdGlvbk1ldGhvZDtcblxuICAgICAgICAgIHNlbGYuZ2V0VmFsaWRBZ2dyZWdhdGlvbigpO1xuICAgICAgICAgIGN1cnJlbnRBZ2dyZWdhdGlvbk9iaiA9IHNlbGYuZ2V0Q3VycmVudEFnZ3JlYXRpb24oKTtcbiAgICAgICAgICB0aW1lUGVyaW9kID0gY3VycmVudEFnZ3JlZ2F0aW9uT2JqLnRpbWVQZXJpb2Q7XG4gICAgICAgICAgdGltZVBlcmlvZE11bHRpcGxpZXIgPSBjdXJyZW50QWdncmVnYXRpb25PYmoudGltZVBlcmlvZE11bHRpcGxpZXI7XG4gICAgICAgICAgYWdncmVnYXRpb25NZXRob2QgPSBjdXJyZW50QWdncmVnYXRpb25PYmouYWdncmVnYXRpb25NZXRob2Q7XG5cbiAgICAgICAgICB0aW1lUGVyaW9kU2VsZWN0TWVudU9wdCA9IFtdO1xuICAgICAgICAgIHRpbWVNdWxTZWxlY3RNZW51T3B0ID0gW107XG4gICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudU9wdCA9IFtdO1xuXG4gICAgICAgICAgdmFsaWRUaW1lUGVyaW9kID0gY29uZmlnLnZhbGlkVGltZVBlcmlvZDtcbiAgICAgICAgICB2YWxpZFRpbWVQZXJpb2RNdWx0aXBsaWVyID0gY29uZmlnLnZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXI7XG4gICAgICAgICAgYXZsQWdnTWV0aG9kcyA9IGNvbmZpZy5hdmxBZ2dNZXRob2RzO1xuXG4gICAgICAgICAgYXBwbHlCdXR0b24udXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuXG4gICAgICAgICAgaWYgKGFnZ3JlZ2F0aW9uLmJpblNpemUgIT09IG1vZGVsLnByb3AoJ2Jpbi1zaXplJykgJiZcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uTWV0aG9kLnZhbHVlID09PSBjb25maWcuZGVmYXVsdEFnZ01ldGhvZCkge1xuICAgICAgICAgICAgYWdncmVnYXRpb24uYmluU2l6ZSA9IG51bGw7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbi5hZ2dyZWdhdGlvbk1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICByZXNldEJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghY29uZmlnLmNhbkFnZ3JlZ2F0ZSkge1xuICAgICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICByZXNldEJ1dHRvbi51cGRhdGVWaXN1YWwoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgdGltZU11bFNlbGVjdE1lbnUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodGltZVBlcmlvZFZhbCBvZiB2YWxpZFRpbWVQZXJpb2QpIHtcbiAgICAgICAgICAgIHRpbWVQZXJpb2RTZWxlY3RNZW51T3B0LnB1c2goe1xuICAgICAgICAgICAgICBuYW1lOiB0aW1lUGVyaW9kVmFsLFxuICAgICAgICAgICAgICB2YWx1ZTogdGltZVBlcmlvZFZhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUudXBkYXRlTGlzdCh0aW1lUGVyaW9kU2VsZWN0TWVudU9wdCk7XG4gICAgICAgICAgdGltZVBlcmlvZFNlbGVjdE1lbnUudmFsdWUodGltZVBlcmlvZCk7XG5cbiAgICAgICAgICBpbmRleE9mVGltZVVuaXQgPSB2YWxpZFRpbWVQZXJpb2QuaW5kZXhPZih0aW1lUGVyaW9kKTtcblxuICAgICAgICAgIGlmIChpbmRleE9mVGltZVVuaXQgPj0gMCkge1xuICAgICAgICAgICAgZm9yIChtdWx0aXBsaWVyVmFsIG9mIHZhbGlkVGltZVBlcmlvZE11bHRpcGxpZXJbaW5kZXhPZlRpbWVVbml0XSkge1xuICAgICAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudU9wdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBtdWx0aXBsaWVyVmFsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG11bHRpcGxpZXJWYWwudG9TdHJpbmcoKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS51cGRhdGVMaXN0KHRpbWVNdWxTZWxlY3RNZW51T3B0KTtcbiAgICAgICAgICB0aW1lTXVsU2VsZWN0TWVudS52YWx1ZSh0aW1lUGVyaW9kTXVsdGlwbGllci50b1N0cmluZygpKTtcblxuICAgICAgICAgIGZvciAoYWdnVmFsIGluIGF2bEFnZ01ldGhvZHMpIHtcbiAgICAgICAgICAgIGFnZ01ldGhvZFNlbGVjdE1lbnVPcHQucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IGF2bEFnZ01ldGhvZHNbYWdnVmFsXS5mb3JtYWxOYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogYXZsQWdnTWV0aG9kc1thZ2dWYWxdLm5pY2tOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZ2dNZXRob2RTZWxlY3RNZW51LnVwZGF0ZUxpc3QoYWdnTWV0aG9kU2VsZWN0TWVudU9wdCk7XG4gICAgICAgICAgYWdnTWV0aG9kU2VsZWN0TWVudS52YWx1ZShhZ2dyZWdhdGlvbk1ldGhvZC52YWx1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgIHNlbGYuZ2V0QXZhaWxhYmxlbEFnZ3JlYWdhdGlvbigpO1xuXG4gICAgICB4ID0geCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueCA6IHg7XG4gICAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG4gICAgICB3aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC53aWR0aCA6IHdpZHRoO1xuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC5oZWlnaHQgOiBoZWlnaHQ7XG4gICAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyBzZWxmLnBhcmVudEdyb3VwIDogZ3JvdXA7XG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGxuID0gdG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcbiAgICAgICAgICB0b29sYmFyLmRyYXcoeCwgeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJhbmdlT25DaGFuZ2UoKTtcbiAgICAgIGFwcGx5QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgIHJlc2V0QnV0dG9uLnVwZGF0ZVZpc3VhbCgnZGlzYWJsZWQnKTtcbiAgICAgIGNvbmZpZy5kZWZhdWx0QWdnTWV0aG9kID0gZGF0YUFnZy5nZXREZWZhdWx0QWdncmVnYXRpb25NZXRob2QoKS5uaWNrTmFtZTtcblxuICAgICAgbW9kZWwub25Qcm9wc0NoYW5nZShbJ2Jpbi1zaXplJywgJ2FnZ3JlZ2F0aW9uLWZuJ10sIHJhbmdlT25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGRpc3Bvc2UgKCkge1xuICAgICAgLy8gZGlzcG9zZSBleHRlbnNpb25cbiAgICB9XG4gIH1cbiAgcmV0dXJuIEFnZ3JlZ2F0b3I7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2ZjdHMtZXh0LWFnZ3JlZ2F0b3IuanMiXSwic291cmNlUm9vdCI6IiJ9